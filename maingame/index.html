<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è¯¸å¤©ä¾¿æºæ—…åº— - ç¥ç§˜æ—…åº—ç»è¥æ¸¸æˆ</title>
    <meta
      name="description"
      content="ä¸€æ¬¾å¥‡å¹»æ—…åº—ç»è¥æ¸¸æˆï¼Œä½ å°†åœ¨è·¨ç»´åº¦æ—…äººçš„ä¸–ç•Œä¸­ç»è¥ä¸€å®¶ç¥ç§˜çš„æ—…åº—ã€‚"
    />

    <!-- Font Awesome å›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

    <style>
      @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700;900&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap');

      :root {
        --color-background: #0f172a;
        --on-background: #e2e8f0;
        --color-accent: #fbbf24;
        --font-primary: 'Noto Serif SC', serif;
        --font-accent: 'ZCOOL KuaiLe', cursive;
        --font-calligraphy: 'Ma Shan Zheng', cursive;
        --font-serif-sc: 'Noto Serif SC', serif;
        --font-sans-modern: 'Outfit', sans-serif;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html,
      body {
        width: 100%;
        min-height: 100%;
        margin: 0;
        padding: 0;
        height: auto;
        overscroll-behavior: contain;
      }

      body {
        background-color: #0f172a;
        color: #e2e8f0;
        font-family: var(--font-sans-modern);
        overflow-x: hidden;
        overflow-y: auto;
      }

      #app {
        width: 100%;
        min-height: 100%;
        position: relative;
      }

      .loading {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-size: 1.2em;
        color: #fbbf24;
      }
    </style>
  <script type="module">var __webpack_modules__ = {
  "./src/mhjg/components/BackgroundEffects.scss": 
  /*!****************************************************!*\
  !*** ./src/mhjg/components/BackgroundEffects.scss ***!
  \****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL0JhY2tncm91bmRFZmZlY3RzLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL0JhY2tncm91bmRFZmZlY3RzLnNjc3M/MWI2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/BackgroundEffects.scss\n\n}");
  },
  "./src/mhjg/components/BackgroundEffects.ts": 
  /*!**************************************************!*\
  !*** ./src/mhjg/components/BackgroundEffects.ts ***!
  \**************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BackgroundEffects: () => (/* binding */ BackgroundEffects)\n/* harmony export */ });\n/* harmony import */ var _BackgroundEffects_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BackgroundEffects.scss */ \"./src/mhjg/components/BackgroundEffects.scss\");\n\nclass BackgroundEffects {\n    element = null;\n    particles = [];\n    /**\n     * åˆ›å»ºèƒŒæ™¯ç‰¹æ•ˆHTMLç»“æ„\n     */\n    createElement() {\n        const container = document.createElement('div');\n        container.className = 'background-effects';\n        container.innerHTML = this.getEffectsHTML();\n        this.element = container;\n        this.initParticles();\n        return container;\n    }\n    /**\n     * è·å–ç‰¹æ•ˆHTML\n     */\n    getEffectsHTML() {\n        return `\r\n      <div class=\"bg-gradient-overlay\"></div>\r\n      <div class=\"bg-radial-gradient\"></div>\r\n      <div class=\"bg-particles-container\"></div>\r\n    `;\n    }\n    /**\n     * åˆå§‹åŒ–ç²’å­\n     */\n    initParticles() {\n        if (!this.element)\n            return;\n        const container = this.element.querySelector('.bg-particles-container');\n        if (!container)\n            return;\n        // é‡‘è‰²ç²’å­ï¼ˆè¤ç«è™«/é­”æ³•ç«èŠ±ï¼‰\n        for (let i = 0; i < 15; i++) {\n            const particle = this.createParticle('amber', i);\n            container.appendChild(particle);\n            this.particles.push(particle);\n            this.animateParticle(particle, 'amber');\n        }\n        // ç´«è‰²ç²’å­ï¼ˆè™šç©ºå°˜åŸƒï¼‰\n        for (let i = 0; i < 10; i++) {\n            const particle = this.createParticle('purple', i);\n            container.appendChild(particle);\n            this.particles.push(particle);\n            this.animateParticle(particle, 'purple');\n        }\n    }\n    /**\n     * åˆ›å»ºç²’å­å…ƒç´ \n     */\n    createParticle(type, index) {\n        const particle = document.createElement('div');\n        particle.className = `bg-particle bg-particle-${type}`;\n        const size = type === 'amber'\n            ? Math.random() * 4 + 2\n            : Math.random() * 6 + 2;\n        particle.style.width = `${size}px`;\n        particle.style.height = `${size}px`;\n        particle.style.left = `${Math.random() * 100}%`;\n        particle.style.top = type === 'amber' ? '100%' : `${Math.random() * 100}%`;\n        return particle;\n    }\n    /**\n     * åŠ¨ç”»ç²’å­\n     */\n    animateParticle(particle, type) {\n        if (type === 'amber') {\n            // ä»ä¸‹å¾€ä¸Šç§»åŠ¨\n            const duration = Math.random() * 5000 + 5000;\n            const delay = Math.random() * 5000;\n            const horizontalOffset = (Math.random() - 0.5) * 100;\n            const startLeft = parseFloat($(particle).css('left')) || 0;\n            const startTop = parseFloat($(particle).css('top')) || 0;\n            $(particle)\n                .css({ opacity: 0 })\n                .delay(delay)\n                .animate({\n                top: '-100px',\n                left: `${startLeft + horizontalOffset}px`,\n                opacity: 0.8,\n            }, {\n                duration: duration / 2,\n                complete: () => {\n                    $(particle).animate({ opacity: 0 }, {\n                        duration: duration / 2,\n                        complete: () => {\n                            // é‡ç½®ä½ç½®å¹¶é‡æ–°åŠ¨ç”»\n                            particle.style.top = '100%';\n                            particle.style.left = `${Math.random() * 100}%`;\n                            this.animateParticle(particle, type);\n                        },\n                    });\n                },\n            });\n        }\n        else {\n            // ç´«è‰²ç²’å­ï¼šä¸Šä¸‹æµ®åŠ¨\n            const duration = Math.random() * 8000 + 4000;\n            const delay = Math.random() * 2000;\n            const startTop = parseFloat($(particle).css('top')) || 0;\n            $(particle)\n                .css({ opacity: 0, transform: 'scale(1)' })\n                .delay(delay)\n                .animate({\n                top: `${startTop - 20}px`,\n                opacity: 0.3,\n            }, {\n                duration: duration / 2,\n                step: function (now, fx) {\n                    if (fx.prop === 'opacity') {\n                        const progress = now / 0.3;\n                        const scale = 1 + (0.5 * progress);\n                        $(this).css('transform', `scale(${scale})`);\n                    }\n                },\n                complete: () => {\n                    const currentTop = parseFloat($(particle).css('top')) || 0;\n                    $(particle).animate({\n                        top: `${currentTop + 20}px`,\n                        opacity: 0,\n                    }, {\n                        duration: duration / 2,\n                        step: function (now, fx) {\n                            if (fx.prop === 'opacity') {\n                                const progress = 1 - (now / 0.3);\n                                const scale = 1.5 - (0.5 * progress);\n                                $(this).css('transform', `scale(${Math.max(1, scale)})`);\n                            }\n                        },\n                        complete: () => {\n                            this.animateParticle(particle, type);\n                        },\n                    });\n                },\n            });\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            this.particles.forEach((particle) => {\n                $(particle).stop(true);\n            });\n            this.particles = [];\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL0JhY2tncm91bmRFZmZlY3RzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWtDO0FBRTNCLE1BQU0saUJBQWlCO0lBQ3BCLE9BQU8sR0FBdUIsSUFBSSxDQUFDO0lBQ25DLFNBQVMsR0FBa0IsRUFBRSxDQUFDO0lBRXRDOztPQUVHO0lBQ0ksYUFBYTtRQUNsQixNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hELFNBQVMsQ0FBQyxTQUFTLEdBQUcsb0JBQW9CLENBQUM7UUFDM0MsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDNUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7UUFDekIsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUM7SUFFRDs7T0FFRztJQUNLLGNBQWM7UUFDcEIsT0FBTzs7OztLQUlOLENBQUM7SUFDSixDQUFDO0lBRUQ7O09BRUc7SUFDSyxhQUFhO1FBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFFMUIsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMseUJBQXlCLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFFdkIsaUJBQWlCO1FBQ2pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUM1QixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNqRCxTQUFTLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzlCLElBQUks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Q0FBQyxDQUFDO3dCQUN2QyxDQUFDO3FCQUNGLENBQ0YsQ0FBQztnQkFDSixDQUFDO2FBQ0YsQ0FDRixDQUFDO1FBQ04sQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNJLE9BQU87UUFDWixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO2dCQUNsQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3pCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFDcEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvQmFja2dyb3VuZEVmZmVjdHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL0JhY2tncm91bmRFZmZlY3RzLnNjc3MnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmRFZmZlY3RzIHtcclxuICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBwYXJ0aWNsZXM6IEhUTUxFbGVtZW50W10gPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu66IOM5pmv54m55pWISFRNTOe7k+aehFxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdiYWNrZ3JvdW5kLWVmZmVjdHMnO1xyXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IHRoaXMuZ2V0RWZmZWN0c0hUTUwoKTtcclxuICAgIHRoaXMuZWxlbWVudCA9IGNvbnRhaW5lcjtcclxuICAgIHRoaXMuaW5pdFBhcnRpY2xlcygpO1xyXG4gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlueJueaViEhUTUxcclxuICAgKi9cclxuICBwcml2YXRlIGdldEVmZmVjdHNIVE1MKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwiYmctZ3JhZGllbnQtb3ZlcmxheVwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiYmctcmFkaWFsLWdyYWRpZW50XCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJiZy1wYXJ0aWNsZXMtY29udGFpbmVyXCI+PC9kaXY+XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yid5aeL5YyW57KS5a2QXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBpbml0UGFydGljbGVzKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJnLXBhcnRpY2xlcy1jb250YWluZXInKTtcclxuICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XHJcblxyXG4gICAgLy8g6YeR6Imy57KS5a2Q77yI6JCk54Gr6JmrL+mtlOazleeBq+iKse+8iVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNTsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHBhcnRpY2xlID0gdGhpcy5jcmVhdGVQYXJ0aWNsZSgnYW1iZXInLCBpKTtcclxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHBhcnRpY2xlKTtcclxuICAgICAgdGhpcy5wYXJ0aWNsZXMucHVzaChwYXJ0aWNsZSk7XHJcbiAgICAgIHRoaXMuYW5pbWF0ZVBhcnRpY2xlKHBhcnRpY2xlLCAnYW1iZXInKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDntKvoibLnspLlrZDvvIjomZrnqbrlsJjln4PvvIlcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xyXG4gICAgICBjb25zdCBwYXJ0aWNsZSA9IHRoaXMuY3JlYXRlUGFydGljbGUoJ3B1cnBsZScsIGkpO1xyXG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFydGljbGUpO1xyXG4gICAgICB0aGlzLnBhcnRpY2xlcy5wdXNoKHBhcnRpY2xlKTtcclxuICAgICAgdGhpcy5hbmltYXRlUGFydGljbGUocGFydGljbGUsICdwdXJwbGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIm+W7uueykuWtkOWFg+e0oFxyXG4gICAqL1xyXG4gIHByaXZhdGUgY3JlYXRlUGFydGljbGUodHlwZTogJ2FtYmVyJyB8ICdwdXJwbGUnLCBpbmRleDogbnVtYmVyKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgcGFydGljbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHBhcnRpY2xlLmNsYXNzTmFtZSA9IGBiZy1wYXJ0aWNsZSBiZy1wYXJ0aWNsZS0ke3R5cGV9YDtcclxuXHJcbiAgICBjb25zdCBzaXplID0gdHlwZSA9PT0gJ2FtYmVyJyBcclxuICAgICAgPyBNYXRoLnJhbmRvbSgpICogNCArIDIgXHJcbiAgICAgIDogTWF0aC5yYW5kb20oKSAqIDYgKyAyO1xyXG5cclxuICAgIHBhcnRpY2xlLnN0eWxlLndpZHRoID0gYCR7c2l6ZX1weGA7XHJcbiAgICBwYXJ0aWNsZS5zdHlsZS5oZWlnaHQgPSBgJHtzaXplfXB4YDtcclxuICAgIHBhcnRpY2xlLnN0eWxlLmxlZnQgPSBgJHtNYXRoLnJhbmRvbSgpICogMTAwfSVgO1xyXG4gICAgcGFydGljbGUuc3R5bGUudG9wID0gdHlwZSA9PT0gJ2FtYmVyJyA/ICcxMDAlJyA6IGAke01hdGgucmFuZG9tKCkgKiAxMDB9JWA7XHJcblxyXG4gICAgcmV0dXJuIHBhcnRpY2xlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yqo55S757KS5a2QXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhbmltYXRlUGFydGljbGUocGFydGljbGU6IEhUTUxFbGVtZW50LCB0eXBlOiAnYW1iZXInIHwgJ3B1cnBsZScpOiB2b2lkIHtcclxuICAgIGlmICh0eXBlID09PSAnYW1iZXInKSB7XHJcbiAgICAgIC8vIOS7juS4i+W+gOS4iuenu+WKqFxyXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IE1hdGgucmFuZG9tKCkgKiA1MDAwICsgNTAwMDtcclxuICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLnJhbmRvbSgpICogNTAwMDtcclxuICAgICAgY29uc3QgaG9yaXpvbnRhbE9mZnNldCA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDEwMDtcclxuICAgICAgY29uc3Qgc3RhcnRMZWZ0ID0gcGFyc2VGbG9hdCgkKHBhcnRpY2xlKS5jc3MoJ2xlZnQnKSkgfHwgMDtcclxuICAgICAgY29uc3Qgc3RhcnRUb3AgPSBwYXJzZUZsb2F0KCQocGFydGljbGUpLmNzcygndG9wJykpIHx8IDA7XHJcblxyXG4gICAgICAkKHBhcnRpY2xlKVxyXG4gICAgICAgIC5jc3MoeyBvcGFjaXR5OiAwIH0pXHJcbiAgICAgICAgLmRlbGF5KGRlbGF5KVxyXG4gICAgICAgIC5hbmltYXRlKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0b3A6ICctMTAwcHgnLFxyXG4gICAgICAgICAgICBsZWZ0OiBgJHtzdGFydExlZnQgKyBob3Jpem9udGFsT2Zmc2V0fXB4YCxcclxuICAgICAgICAgICAgb3BhY2l0eTogMC44LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uIC8gMixcclxuICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcclxuICAgICAgICAgICAgICAkKHBhcnRpY2xlKS5hbmltYXRlKFxyXG4gICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAwIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiAvIDIsXHJcbiAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g6YeN572u5L2N572u5bm26YeN5paw5Yqo55S7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGljbGUuc3R5bGUudG9wID0gJzEwMCUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpY2xlLnN0eWxlLmxlZnQgPSBgJHtNYXRoLnJhbmRvbSgpICogMTAwfSVgO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0ZVBhcnRpY2xlKHBhcnRpY2xlLCB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDntKvoibLnspLlrZDvvJrkuIrkuIvmta7liqhcclxuICAgICAgY29uc3QgZHVyYXRpb24gPSBNYXRoLnJhbmRvbSgpICogODAwMCArIDQwMDA7XHJcbiAgICAgIGNvbnN0IGRlbGF5ID0gTWF0aC5yYW5kb20oKSAqIDIwMDA7XHJcbiAgICAgIGNvbnN0IHN0YXJ0VG9wID0gcGFyc2VGbG9hdCgkKHBhcnRpY2xlKS5jc3MoJ3RvcCcpKSB8fCAwO1xyXG5cclxuICAgICAgJChwYXJ0aWNsZSlcclxuICAgICAgICAuY3NzKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMSknIH0pXHJcbiAgICAgICAgLmRlbGF5KGRlbGF5KVxyXG4gICAgICAgIC5hbmltYXRlKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICB0b3A6IGAke3N0YXJ0VG9wIC0gMjB9cHhgLFxyXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjMsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gLyAyLFxyXG4gICAgICAgICAgICBzdGVwOiBmdW5jdGlvbihub3csIGZ4KSB7XHJcbiAgICAgICAgICAgICAgaWYgKGZ4LnByb3AgPT09ICdvcGFjaXR5Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBub3cgLyAwLjM7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IDEgKyAoMC41ICogcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ3RyYW5zZm9ybScsIGBzY2FsZSgke3NjYWxlfSlgKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRvcCA9IHBhcnNlRmxvYXQoJChwYXJ0aWNsZSkuY3NzKCd0b3AnKSkgfHwgMDtcclxuICAgICAgICAgICAgICAkKHBhcnRpY2xlKS5hbmltYXRlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICB0b3A6IGAke2N1cnJlbnRUb3AgKyAyMH1weGAsXHJcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24gLyAyLFxyXG4gICAgICAgICAgICAgICAgICBzdGVwOiBmdW5jdGlvbihub3csIGZ4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ4LnByb3AgPT09ICdvcGFjaXR5Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAxIC0gKG5vdyAvIDAuMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IDEuNSAtICgwLjUgKiBwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNzcygndHJhbnNmb3JtJywgYHNjYWxlKCR7TWF0aC5tYXgoMSwgc2NhbGUpfSlgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlUGFydGljbGUocGFydGljbGUsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmUgOavgee7hOS7tlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xyXG4gICAgICB0aGlzLnBhcnRpY2xlcy5mb3JFYWNoKChwYXJ0aWNsZSkgPT4ge1xyXG4gICAgICAgICQocGFydGljbGUpLnN0b3AodHJ1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnBhcnRpY2xlcyA9IFtdO1xyXG4gICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/BackgroundEffects.ts\n\n}");
  },
  "./src/mhjg/components/Dashboard.scss": 
  /*!********************************************!*\
  !*** ./src/mhjg/components/Dashboard.scss ***!
  \********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL0Rhc2hib2FyZC5zY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9EYXNoYm9hcmQuc2Nzcz80OGI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/Dashboard.scss\n\n}");
  },
  "./src/mhjg/components/Dashboard.ts": 
  /*!******************************************!*\
  !*** ./src/mhjg/components/Dashboard.ts ***!
  \******************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Dashboard: () => (/* binding */ Dashboard)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/mhjg/types.ts");\n/* harmony import */ var _utils_variableReader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/variableReader */ "./src/mhjg/utils/variableReader.ts");\n/* harmony import */ var _utils_variableUpdater__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/variableUpdater */ "./src/mhjg/utils/variableUpdater.ts");\n/* harmony import */ var _Dashboard_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Dashboard.scss */ "./src/mhjg/components/Dashboard.scss");\n\n\n\n\nclass Dashboard {\n    element = null;\n    callbacks;\n    businessStatus = \'è¥ä¸šä¸­\';\n    occupancy = 85; // 0-100\n    facilities = [\n        { id: \'1\', name: \'å®¢æˆ¿\', level: 3, maxLevel: 5 },\n        { id: \'2\', name: \'é¤é¥®\', level: 2, maxLevel: 5 },\n        { id: \'3\', name: \'è°ƒé…’\', level: 1, maxLevel: 5 },\n        { id: \'4\', name: \'æ¸©æ³‰\', level: 0, maxLevel: 5 },\n    ];\n    innLaw = \'ä¸­ç«‹\';\n    currentLaw = null;\n    lawList = [];\n    currentAccessMode = null;\n    accessModeList = [];\n    popularity = 85; // 0-100\n    innName = \'å¤šæ¬¡å…ƒä¾¿æºæ—…åº—\';\n    innAppearance = \'ç‚‰ç«æ¸©æš–åœ°å™¼å•ªä½œå“ï¼Œé‚€è¯·ç€æ¥è‡ªå„ä¸ªç»´åº¦çš„ç–²æƒ«æ—…äººã€‚ç©ºæ°”ä¸­å¼¥æ¼«ç€çƒ¤è‚‰çš„é¦™å‘³å’Œè‡­æ°§çš„æ°”æ¯ã€‚\';\n    cognitiveEffect = \'\';\n    chronicleEntries = [];\n    constructor(callbacks, innName) {\n        this.callbacks = callbacks;\n        if (innName) {\n            this.innName = innName;\n        }\n        else {\n            // ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n            this.loadFromVariables();\n        }\n    }\n    /**\n     * ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n     */\n    async loadFromVariables() {\n        const gameData = await (0,_utils_variableReader__WEBPACK_IMPORTED_MODULE_1__.readGameData)();\n        this.innName = gameData.innName;\n        this.innAppearance = gameData.innAppearance;\n        this.cognitiveEffect = gameData.cognitiveEffect;\n        this.businessStatus = gameData.businessStatus;\n        this.popularity = gameData.popularity;\n        this.occupancy = gameData.occupancy;\n        this.innLaw = gameData.innLaw;\n        this.currentLaw = gameData.currentLaw;\n        this.lawList = gameData.lawList;\n        this.currentAccessMode = gameData.currentAccessMode;\n        this.accessModeList = gameData.accessModeList;\n        // è½¬æ¢è®¾æ–½æ•°æ®æ ¼å¼ï¼ˆä¿ç•™å½“å‰ç­‰çº§æè¿°ï¼‰\n        this.facilities = gameData.facilities.map((facility, index) => ({\n            id: String(index + 1),\n            name: facility.åç§°,\n            level: facility.ç­‰çº§,\n            maxLevel: 5,\n            description: facility.å½“å‰ç­‰çº§æè¿° || \'\', // æ·»åŠ æè¿°å­—æ®µ\n        }));\n        console.log(\'ğŸ—ï¸ åŠ è½½è®¾æ–½æ•°æ®:\', {\n            facilitiesCount: this.facilities.length,\n            facilities: this.facilities,\n            rawFacilities: gameData.facilities,\n        });\n        if (this.element) {\n            this.render();\n        }\n        // å¼‚æ­¥åŠ è½½ç¼–å¹´å²\n        this.loadChronicleFromWorldbook();\n    }\n    /**\n     * ä»ä¸–ç•Œä¹¦åŠ è½½ç¼–å¹´å²\n     */\n    async loadChronicleFromWorldbook() {\n        const WORLDBOOK_NAME = \'0è¯¸å¤©ä¾¿æºæ—…åº—\';\n        const ENTRY_NAME = \'ç¼–å¹´å²\';\n        try {\n            const worldbook = await getWorldbook(WORLDBOOK_NAME);\n            const chronicleEntry = worldbook.find((entry) => entry.name === ENTRY_NAME);\n            if (!chronicleEntry || !chronicleEntry.content) {\n                console.log(\'ğŸ“ ä¸–ç•Œä¹¦ä¸­æœªæ‰¾åˆ°ç¼–å¹´å²æ¡ç›®æˆ–å†…å®¹ä¸ºç©º\');\n                this.chronicleEntries = [];\n                if (this.element) {\n                    this.render();\n                }\n                return;\n            }\n            // è§£æç¼–å¹´å²å†…å®¹\n            this.chronicleEntries = this.parseChronicleContent(chronicleEntry.content);\n            // æŒ‰ç¼–å·ç”±å¤§åˆ°å°æ’åº\n            this.chronicleEntries.sort((a, b) => b.number - a.number);\n            console.log(\'âœ… æˆåŠŸåŠ è½½ç¼–å¹´å²ï¼Œæ¡ç›®æ•°:\', this.chronicleEntries.length);\n            if (this.element) {\n                this.render();\n            }\n        }\n        catch (error) {\n            console.error(\'âŒ åŠ è½½ç¼–å¹´å²å¤±è´¥:\', error);\n            this.chronicleEntries = [];\n        }\n    }\n    /**\n     * è§£æç¼–å¹´å²å†…å®¹\n     */\n    parseChronicleContent(content) {\n        const entries = [];\n        const lines = content\n            .split(\'\\n\')\n            .map(line => line.trim())\n            .filter(line => line.length > 0);\n        for (const line of lines) {\n            // åŒ¹é…æ ¼å¼ï¼šæ•°å­—.æ–‡æœ¬\n            const match = line.match(/^(\\d+)\\.(.+)$/);\n            if (match) {\n                const number = parseInt(match[1], 10);\n                const text = match[2].trim();\n                if (!isNaN(number) && text) {\n                    entries.push({ number, text });\n                }\n            }\n        }\n        return entries;\n    }\n    /**\n     * é‡æ–°æ¸²æŸ“\n     */\n    render() {\n        if (!this.element)\n            return;\n        this.element.innerHTML = this.getDashboardHTML();\n        this.bindEvents();\n    }\n    /**\n     * åˆ›å»ºä»ªè¡¨æ¿HTMLç»“æ„\n     */\n    createElement() {\n        const dashboard = document.createElement(\'div\');\n        dashboard.className = \'mhjg-dashboard\';\n        dashboard.innerHTML = this.getDashboardHTML();\n        this.element = dashboard;\n        this.bindEvents();\n        return dashboard;\n    }\n    /**\n     * è·å–ä»ªè¡¨æ¿HTML\n     */\n    getDashboardHTML() {\n        return `\n      <div class="dashboard-content">\n        <div class="dashboard-left">\n          ${this.createStatusBanner()}\n          ${this.createActionsGrid()}\n        </div>\n        <div class="dashboard-right">\n          ${this.createQuickStats()}\n          ${this.createActivityLog()}\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºçŠ¶æ€æ¨ªå¹…\n     */\n    createStatusBanner() {\n        const statusClass = this.getStatusClass(this.businessStatus);\n        const popularityText = this.getPopularityText(this.popularity);\n        return `\n      <div class="status-banner">\n        <div class="banner-overlay"></div>\n        <img \n          src="https://images.unsplash.com/photo-1519074069444-1ba4fff66d16?q=80&w=2544&auto=format&fit=crop" \n          alt="Status Banner" \n          class="banner-image"\n        />\n        <div class="banner-gradient"></div>\n        <div class="banner-content">\n          <div class="banner-badges">\n            <div class="badge badge-status ${statusClass}" data-status-selector>\n              ${this.businessStatus}\n            </div>\n            <div class="badge badge-warning">\n              ${this.getStarIcon()}\n              ${popularityText}\n            </div>\n          </div>\n          <h2 class="banner-title" data-inn-name>${this.innName}</h2>\n          <p class="banner-description">\n            ${this.innAppearance}\n          </p>\n          ${this.cognitiveEffect ? `<p class="banner-cognitive-effect">${this.cognitiveEffect}</p>` : \'\'}\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * è·å–çŠ¶æ€æ ·å¼ç±»\n     */\n    getStatusClass(status) {\n        switch (status) {\n            case \'è¥ä¸šä¸­\':\n                return \'badge-success\';\n            case \'ä¼‘æ¯ä¸­\':\n                return \'badge-warning\';\n            default:\n                return \'badge-success\';\n        }\n    }\n    /**\n     * è·å–æ¬¢è¿åº¦æ–‡æœ¬\n     */\n    getPopularityText(popularity) {\n        if (popularity >= 80)\n            return \'æå—æ¬¢è¿\';\n        if (popularity >= 60)\n            return \'å—æ¬¢è¿\';\n        if (popularity >= 40)\n            return \'ä¸€èˆ¬\';\n        return \'å†·æ¸…\';\n    }\n    /**\n     * åˆ›å»ºæ“ä½œç½‘æ ¼\n     */\n    createActionsGrid() {\n        const actions = [\n            {\n                id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.GUESTS,\n                title: \'å®¾å®¢ç™»è®°\',\n                desc: \'ç®¡ç†æ¥è®¿çš„æ—…äººå’Œä»–ä»¬çš„éœ€æ±‚ã€‚\',\n                icon: \'users\',\n                stat: \'12 ä½æ´»è·ƒ\',\n                bgImage: \'https://picsum.photos/400/300?random=10\',\n            },\n            {\n                id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.STAFF,\n                title: \'å‘˜å·¥\',\n                desc: \'ç®¡ç†ä½ çš„å‘˜å·¥å›¢é˜Ÿã€‚\',\n                icon: \'users\',\n                stat: \'3 ä½å‘˜å·¥\',\n                bgImage: \'https://picsum.photos/400/300?random=11\',\n            },\n            {\n                id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.BUILD,\n                title: \'æ‰©å»º\',\n                desc: \'å‡çº§è®¾æ–½å’Œé™„é­”ã€‚\',\n                icon: \'hammer\',\n                stat: \'æ–°è“å›¾\',\n                bgImage: \'https://picsum.photos/400/300?random=12\',\n            },\n            {\n                id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.STORY,\n                title: \'é­”å…¸\',\n                desc: \'å’¨è¯¢å‘½è¿ï¼Œç¼–ç»‡æ•…äº‹ã€‚\',\n                icon: \'book\',\n                stat: \'å‘½è¿ç­‰å¾…\',\n                bgImage: \'https://picsum.photos/400/300?random=13\',\n            },\n        ];\n        const actionsHTML = actions\n            .map(action => `\n      <div class="dashboard-card" data-tab="${action.id}">\n        <div class="card-bg">\n          <img src="${action.bgImage}" alt="" class="card-bg-image" />\n          <div class="card-bg-overlay"></div>\n        </div>\n        <div class="card-content">\n          <div class="card-header">\n            <div class="card-icon card-icon-${action.icon}">\n              ${this.getActionIcon(action.icon)}\n            </div>\n            <span class="card-stat">${action.stat}</span>\n          </div>\n          <div class="card-body">\n            <h3 class="card-title">${action.title}</h3>\n            <p class="card-desc">${action.desc}</p>\n            <div class="card-action">\n              <span>è¿›å…¥</span>\n              <span class="card-arrow">â†’</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    `)\n            .join(\'\');\n        return `<div class="actions-grid">${actionsHTML}</div>`;\n    }\n    /**\n     * è·å–æ“ä½œå›¾æ ‡\n     */\n    getActionIcon(iconName) {\n        const icons = {\n            users: \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>\',\n            utensils: \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3z"/><path d="M21 15v7"/></svg>\',\n            hammer: \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m14.91 7.79 1.77-1.77a1.49 1.49 0 0 0 0-2.12l-3.54-3.54a1.49 1.49 0 0 0-2.12 0L9.12 4.23"/><path d="m8.53 12.91 5.38 5.38"/></svg>\',\n            book: \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>\',\n        };\n        return icons[iconName] || \'\';\n    }\n    /**\n     * åˆ›å»ºå¿«é€Ÿç»Ÿè®¡\n     */\n    createQuickStats() {\n        const facilitiesHTML = this.facilities.map(facility => this.createFacilityRow(facility)).join(\'\');\n        return `\n      <div class="quick-stats rpg-panel">\n        <h3 class="stats-title">æ—…åº—çŠ¶æ€</h3>\n        <div class="facilities-section">\n          <h4 class="facilities-title">è®¾æ–½/åŒºåŸŸ</h4>\n          <div class="facilities-list">\n            ${facilitiesHTML}\n          </div>\n        </div>\n        <div class="inn-law-section">\n          <h4 class="inn-law-title">æ—…é¦†æ³•åˆ™</h4>\n          <div class="inn-law-selector" data-law-selector>\n            <div class="inn-law-info">\n              <span class="inn-law-current">${this.currentLaw?.æ³•åˆ™å || this.innLaw}</span>\n              ${this.currentLaw?.æ³•åˆ™æ•ˆæœ ? `<span class="inn-law-desc">${this.currentLaw.æ³•åˆ™æ•ˆæœ}</span>` : \'\'}\n            </div>\n            ${this.getLawIcon()}\n          </div>\n          <button class="add-rule-btn" data-add-law-btn>\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>\n            <span>å¢åŠ è§„åˆ™</span>\n          </button>\n        </div>\n        <div class="inn-law-section">\n          <h4 class="inn-law-title">å‡†å…¥æ¡ä»¶</h4>\n          <div class="inn-law-selector" data-access-mode-selector>\n            <div class="inn-law-info">\n              <span class="inn-law-current">${this.currentAccessMode?.æ¨¡å¼åç§° || \'å®ä½“æ˜¾ç°\'}</span>\n              ${this.currentAccessMode?.æ¡ä»¶æè¿° ? `<span class="inn-law-desc">${this.currentAccessMode.æ¡ä»¶æè¿°}</span>` : \'\'}\n            </div>\n            ${this.getAccessModeIcon()}\n          </div>\n          <button class="add-rule-btn" data-add-access-mode-btn>\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>\n            <span>å¢åŠ è§„åˆ™</span>\n          </button>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºè®¾æ–½è¡Œ\n     */\n    createFacilityRow(facility) {\n        const levelBars = Array.from({ length: facility.maxLevel }, (_, i) => i < facility.level ? \'level-bar-filled\' : \'level-bar-empty\').join(\'\');\n        return `\n      <div class="facility-row">\n        <div class="facility-header">\n          <span class="facility-name">${facility.name}</span>\n          <div class="facility-level">\n            <div class="level-bars">\n              ${Array.from({ length: facility.maxLevel }, (_, i) => `<div class="level-bar ${i < facility.level ? \'level-bar-filled\' : \'level-bar-empty\'}"></div>`).join(\'\')}\n            </div>\n            <span class="level-text">Lv.${facility.level}</span>\n          </div>\n        </div>\n        ${facility.description ? `<div class="facility-description">${facility.description}</div>` : \'\'}\n      </div>\n    `;\n    }\n    /**\n     * è·å–æ³•åˆ™å›¾æ ‡\n     */\n    getLawIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>\';\n    }\n    /**\n     * è·å–å‡†å…¥æ¡ä»¶å›¾æ ‡\n     */\n    getAccessModeIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>\';\n    }\n    /**\n     * åˆ›å»ºç»Ÿè®¡è¡Œ\n     */\n    createStatRow(label, value, color) {\n        const colorClass = `text-${color}-400`;\n        return `\n      <div class="stat-row">\n        <span class="stat-label">${label}</span>\n        <span class="stat-value ${colorClass}">${value}</span>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºæ´»åŠ¨æ—¥å¿—\n     */\n    createActivityLog() {\n        // å¦‚æœæ²¡æœ‰ç¼–å¹´å²æ¡ç›®ï¼Œæ˜¾ç¤ºç©ºçŠ¶æ€\n        if (this.chronicleEntries.length === 0) {\n            return `\n        <div class="activity-log rpg-panel">\n          <div class="log-header">\n            <span class="log-title">ç¼–å¹´å²</span>\n            ${this.getClockIcon()}\n          </div>\n          <div class="log-list">\n            <div class="log-item">\n              <div class="log-timeline">\n                <div class="log-dot log-dot-info"></div>\n              </div>\n              <div class="log-content">\n                <div class="log-text" style="color: rgba(255, 255, 255, 0.5);">æš‚æ— ç¼–å¹´å²è®°å½•</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n        }\n        // æŒ‰ç¼–å·ç”±å¤§åˆ°å°æ’åºï¼ˆç¡®ä¿æœ€æ–°åœ¨ä¸Šï¼‰\n        const sortedEntries = [...this.chronicleEntries].sort((a, b) => b.number - a.number);\n        const logsHTML = sortedEntries\n            .map(entry => `\n      <div class="log-item">\n        <div class="log-timeline">\n          <div class="log-dot log-dot-info"></div>\n        </div>\n        <div class="log-content">\n          <div class="log-time">#${entry.number}</div>\n          <div class="log-text">${entry.text}</div>\n        </div>\n      </div>\n    `)\n            .join(\'\');\n        return `\n      <div class="activity-log rpg-panel">\n        <div class="log-header">\n          <span class="log-title">ç¼–å¹´å²</span>\n          ${this.getClockIcon()}\n        </div>\n        <div class="log-list">\n          ${logsHTML}\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * è·å–æ—¶é’Ÿå›¾æ ‡\n     */\n    getClockIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>\';\n    }\n    /**\n     * è·å–æ˜Ÿæ˜Ÿå›¾æ ‡\n     */\n    getStarIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>\';\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        // å…ˆç§»é™¤æ‰€æœ‰æ—§çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œé˜²æ­¢é‡å¤ç»‘å®š\n        $(this.element).off(\'click\', \'.dashboard-card\');\n        $(this.element).off(\'click\', \'[data-status-selector]\');\n        $(this.element).off(\'click\', \'[data-law-selector]\');\n        $(this.element).off(\'click\', \'[data-access-mode-selector]\');\n        $(this.element).on(\'click\', \'.dashboard-card\', e => {\n            const card = e.currentTarget;\n            const tab = card.getAttribute(\'data-tab\');\n            if (tab) {\n                this.callbacks.onTabChange(tab);\n            }\n        });\n        // è¥ä¸šçŠ¶æ€åˆ‡æ¢\n        $(this.element).on(\'click\', \'[data-status-selector]\', e => {\n            e.stopPropagation();\n            this.showStatusSelector();\n        });\n        // æ—…é¦†æ³•åˆ™åˆ‡æ¢\n        $(this.element).on(\'click\', \'[data-law-selector]\', e => {\n            e.stopPropagation();\n            this.showLawSelector();\n        });\n        // å‡†å…¥æ¡ä»¶åˆ‡æ¢\n        $(this.element).on(\'click\', \'[data-access-mode-selector]\', e => {\n            e.stopPropagation();\n            this.showAccessModeSelector();\n        });\n        // å¢åŠ æ³•åˆ™è§„åˆ™\n        $(this.element).on(\'click\', \'[data-add-law-btn]\', e => {\n            e.stopPropagation();\n            this.showAddLawDialog();\n        });\n        // å¢åŠ å‡†å…¥æ¡ä»¶è§„åˆ™\n        $(this.element).on(\'click\', \'[data-add-access-mode-btn]\', e => {\n            e.stopPropagation();\n            this.showAddAccessModeDialog();\n        });\n    }\n    /**\n     * æ˜¾ç¤ºçŠ¶æ€é€‰æ‹©å™¨\n     */\n    showStatusSelector() {\n        const statuses = [\'è¥ä¸šä¸­\', \'ä¼‘æ¯ä¸­\'];\n        const options = statuses\n            .map(status => `<div class="status-option ${status === this.businessStatus ? \'active\' : \'\'}" data-status="${status}">${status}</div>`)\n            .join(\'\');\n        const selector = $(`\n      <div class="status-selector-overlay">\n        <div class="status-selector">\n          <div class="selector-header">\n          <h4>é€‰æ‹©è¥ä¸šçŠ¶æ€</h4>\n            <button class="selector-close-btn" data-close-selector aria-label="å…³é—­">\n              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\n            </button>\n          </div>\n          <div class="status-options">${options}</div>\n        </div>\n      </div>\n    `);\n        selector.on(\'click\', \'.status-option\', async (e) => {\n            const status = $(e.currentTarget).attr(\'data-status\');\n            if (status && status !== this.businessStatus) {\n                // æ›´æ–° stat_data ä¸­çš„è¥ä¸šçŠ¶æ€\n                try {\n                    await (0,_utils_variableUpdater__WEBPACK_IMPORTED_MODULE_2__.updateStatDataVariable)(\'æ—…åº—.è¥ä¸šçŠ¶æ€\', status);\n                    console.log(\'âœ… æˆåŠŸæ›´æ–°è¥ä¸šçŠ¶æ€:\', status);\n                }\n                catch (error) {\n                    console.error(\'âŒ æ›´æ–°è¥ä¸šçŠ¶æ€å¤±è´¥:\', error);\n                }\n                this.businessStatus = status;\n                if (this.callbacks.onStatusChange) {\n                    this.callbacks.onStatusChange(status);\n                }\n                this.render();\n            }\n            selector.remove();\n        });\n        selector.on(\'click\', \'.status-selector-overlay\', e => {\n            if (e.target === selector[0]) {\n                selector.remove();\n            }\n        });\n        selector.on(\'click\', \'[data-close-selector]\', () => {\n            selector.remove();\n        });\n        $(\'body\').append(selector);\n    }\n    /**\n     * æ˜¾ç¤ºæ³•åˆ™é€‰æ‹©å™¨\n     */\n    async showLawSelector() {\n        // å¦‚æœé€‰æ‹©å™¨å·²ç»å­˜åœ¨ï¼Œå…ˆç§»é™¤å®ƒ\n        $(\'.law-selector-overlay\').remove();\n        // ä»å˜é‡è¡¨é‡æ–°åŠ è½½æ³•åˆ™åˆ—è¡¨å’Œå½“å‰æ³•åˆ™ï¼ˆç¡®ä¿è·å–æœ€æ–°æ•°æ®ï¼‰\n        const gameData = await (0,_utils_variableReader__WEBPACK_IMPORTED_MODULE_1__.readGameData)();\n        this.lawList = gameData.lawList;\n        this.currentLaw = gameData.currentLaw;\n        this.innLaw = gameData.innLaw;\n        console.log(\'ğŸ“‹ åŠ è½½æ³•åˆ™æ•°æ®:\', {\n            lawList: this.lawList,\n            currentLaw: this.currentLaw,\n            innLaw: this.innLaw,\n        });\n        // å¦‚æœæ³•åˆ™åˆ—è¡¨ä¸ºç©ºï¼Œä½¿ç”¨é»˜è®¤æ³•åˆ™\n        if (this.lawList.length === 0) {\n            console.warn(\'âš ï¸ æ³•åˆ™åˆ—è¡¨ä¸ºç©ºï¼Œä½¿ç”¨é»˜è®¤æ³•åˆ™\');\n            this.lawList = [{ æ³•åˆ™å: \'ä¸­ç«‹\', æ³•åˆ™æ•ˆæœ: \'å¹³è¡¡çš„é­”æ³•ç¯å¢ƒ\' }];\n        }\n        // ä½¿ç”¨å½“å‰æ³•åˆ™çš„åç§°æ¥åˆ¤æ–­å“ªä¸ªé€‰é¡¹åº”è¯¥é«˜äº®\n        const currentLawName = this.currentLaw?.æ³•åˆ™å || this.innLaw;\n        const options = this.lawList\n            .map(law => `<div class="law-option ${law.æ³•åˆ™å === currentLawName ? \'active\' : \'\'}" data-law="${law.æ³•åˆ™å}">\n        <span class="law-name">${law.æ³•åˆ™å}</span>\n        <span class="law-desc">${law.æ³•åˆ™æ•ˆæœ}</span>\n      </div>`)\n            .join(\'\');\n        const selector = $(`\n      <div class="law-selector-overlay">\n        <div class="law-selector">\n          <div class="selector-header">\n          <h4>é€‰æ‹©æ—…é¦†æ³•åˆ™</h4>\n            <button class="selector-close-btn" data-close-selector aria-label="å…³é—­">\n              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\n            </button>\n          </div>\n          <div class="law-options">${options}</div>\n        </div>\n      </div>\n    `);\n        // ä½¿ç”¨ one() ç¡®ä¿äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼Œæˆ–è€…ä½¿ç”¨å‘½åç©ºé—´\n        selector.on(\'click.law-selector\', \'.law-option\', async (e) => {\n            e.stopPropagation();\n            const lawName = $(e.currentTarget).attr(\'data-law\');\n            if (lawName) {\n                // ä»æ³•åˆ™åˆ—è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„æ³•åˆ™å¯¹è±¡\n                const selectedLaw = this.lawList.find(law => law.æ³•åˆ™å === lawName);\n                if (selectedLaw && (selectedLaw.æ³•åˆ™å !== this.innLaw || !this.currentLaw)) {\n                    // æ›´æ–° stat_data ä¸­çš„å½“å‰æ³•åˆ™\n                    try {\n                        await (0,_utils_variableUpdater__WEBPACK_IMPORTED_MODULE_2__.updateStatDataVariable)(\'æ—…åº—.æ—…é¦†æ³•åˆ™.å½“å‰æ³•åˆ™\', selectedLaw);\n                        console.log(\'âœ… æˆåŠŸæ›´æ–°å½“å‰æ³•åˆ™:\', selectedLaw);\n                    }\n                    catch (error) {\n                        console.error(\'âŒ æ›´æ–°å½“å‰æ³•åˆ™å¤±è´¥:\', error);\n                    }\n                    this.innLaw = lawName;\n                    this.currentLaw = selectedLaw;\n                    if (this.callbacks.onLawChange) {\n                        this.callbacks.onLawChange(lawName);\n                    }\n                    selector.remove();\n                    this.render();\n                }\n            }\n        });\n        selector.on(\'click.law-selector\', \'.law-selector-overlay\', e => {\n            if (e.target === selector[0]) {\n                selector.remove();\n            }\n        });\n        selector.on(\'click.law-selector\', \'[data-close-selector]\', e => {\n            e.stopPropagation();\n            selector.remove();\n        });\n        $(\'body\').append(selector);\n    }\n    /**\n     * æ˜¾ç¤ºå‡†å…¥æ¡ä»¶é€‰æ‹©å™¨\n     */\n    async showAccessModeSelector() {\n        // å¦‚æœé€‰æ‹©å™¨å·²ç»å­˜åœ¨ï¼Œå…ˆç§»é™¤å®ƒ\n        $(\'.law-selector-overlay\').remove();\n        // ä»å˜é‡è¡¨é‡æ–°åŠ è½½å‡†å…¥æ¡ä»¶åˆ—è¡¨å’Œå½“å‰å‡†å…¥æ¡ä»¶ï¼ˆç¡®ä¿è·å–æœ€æ–°æ•°æ®ï¼‰\n        const gameData = await (0,_utils_variableReader__WEBPACK_IMPORTED_MODULE_1__.readGameData)();\n        this.accessModeList = gameData.accessModeList;\n        this.currentAccessMode = gameData.currentAccessMode;\n        console.log(\'ğŸ“‹ åŠ è½½å‡†å…¥æ¡ä»¶æ•°æ®:\', {\n            accessModeList: this.accessModeList,\n            currentAccessMode: this.currentAccessMode,\n        });\n        // å¦‚æœå‡†å…¥æ¡ä»¶åˆ—è¡¨ä¸ºç©ºï¼Œä½¿ç”¨é»˜è®¤å‡†å…¥æ¡ä»¶\n        if (this.accessModeList.length === 0) {\n            console.warn(\'âš ï¸ å‡†å…¥æ¡ä»¶åˆ—è¡¨ä¸ºç©ºï¼Œä½¿ç”¨é»˜è®¤å‡†å…¥æ¡ä»¶\');\n            this.accessModeList = [\n                {\n                    æ¨¡å¼åç§°: \'å®ä½“æ˜¾ç°\',\n                    æ¡ä»¶æè¿°: \'æ— æ¡ä»¶å¼€æ”¾ã€‚æ—…åº—ä½œä¸ºå®ä½“å»ºç­‘å­˜åœ¨äºå½“åœ°ï¼ˆå¦‚é—¹å¸‚åŒºï¼‰ï¼Œä»»ä½•è·¯è¿‡çš„ç”Ÿç‰©éƒ½èƒ½çœ‹åˆ°æ‹›ç‰Œã€å¤§é—¨å¹¶æ¨é—¨è€Œå…¥ã€‚é€‚åˆå¹¿çº³å®¢æºã€‚\',\n                },\n            ];\n        }\n        // ä½¿ç”¨å½“å‰å‡†å…¥æ¡ä»¶çš„æ¨¡å¼åç§°æ¥åˆ¤æ–­å“ªä¸ªé€‰é¡¹åº”è¯¥é«˜äº®\n        const currentModeName = this.currentAccessMode?.æ¨¡å¼åç§° || \'å®ä½“æ˜¾ç°\';\n        const options = this.accessModeList\n            .map(mode => `<div class="law-option ${mode.æ¨¡å¼åç§° === currentModeName ? \'active\' : \'\'}" data-access-mode="${mode.æ¨¡å¼åç§°}">\n        <span class="law-name">${mode.æ¨¡å¼åç§°}</span>\n        <span class="law-desc">${mode.æ¡ä»¶æè¿°}</span>\n      </div>`)\n            .join(\'\');\n        const selector = $(`\n      <div class="law-selector-overlay">\n        <div class="law-selector">\n          <div class="selector-header">\n            <h4>é€‰æ‹©å‡†å…¥æ¡ä»¶</h4>\n            <button class="selector-close-btn" data-close-selector aria-label="å…³é—­">\n              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\n            </button>\n          </div>\n          <div class="law-options">${options}</div>\n        </div>\n      </div>\n    `);\n        // ä½¿ç”¨å‘½åç©ºé—´ç¡®ä¿äº‹ä»¶åªç»‘å®šä¸€æ¬¡\n        selector.on(\'click.access-mode-selector\', \'.law-option\', async (e) => {\n            e.stopPropagation();\n            const modeName = $(e.currentTarget).attr(\'data-access-mode\');\n            if (modeName) {\n                // ä»å‡†å…¥æ¡ä»¶åˆ—è¡¨ä¸­æ‰¾åˆ°å¯¹åº”çš„å‡†å…¥æ¡ä»¶å¯¹è±¡\n                const selectedMode = this.accessModeList.find(mode => mode.æ¨¡å¼åç§° === modeName);\n                if (selectedMode && selectedMode.æ¨¡å¼åç§° !== this.currentAccessMode?.æ¨¡å¼åç§°) {\n                    // æ›´æ–° stat_data ä¸­çš„å½“å‰å‡†å…¥æ¡ä»¶\n                    try {\n                        await (0,_utils_variableUpdater__WEBPACK_IMPORTED_MODULE_2__.updateStatDataVariable)(\'æ—…åº—.å‡†å…¥æ¡ä»¶.å½“å‰å‡†å…¥æ¡ä»¶\', selectedMode);\n                        console.log(\'âœ… æˆåŠŸæ›´æ–°å½“å‰å‡†å…¥æ¡ä»¶:\', selectedMode);\n                    }\n                    catch (error) {\n                        console.error(\'âŒ æ›´æ–°å½“å‰å‡†å…¥æ¡ä»¶å¤±è´¥:\', error);\n                    }\n                    this.currentAccessMode = selectedMode;\n                    selector.remove();\n                    this.render();\n                }\n            }\n        });\n        selector.on(\'click.access-mode-selector\', \'.law-selector-overlay\', e => {\n            if (e.target === selector[0]) {\n                selector.remove();\n            }\n        });\n        selector.on(\'click.access-mode-selector\', \'[data-close-selector]\', e => {\n            e.stopPropagation();\n            selector.remove();\n        });\n        $(\'body\').append(selector);\n    }\n    /**\n     * æ˜¾ç¤ºå¢åŠ æ³•åˆ™è§„åˆ™å¯¹è¯æ¡†\n     */\n    async showAddLawDialog() {\n        // å¦‚æœå¯¹è¯æ¡†å·²ç»å­˜åœ¨ï¼Œå…ˆç§»é™¤å®ƒ\n        $(\'.add-rule-dialog-overlay\').remove();\n        const dialog = $(`\n      <div class="add-rule-dialog-overlay">\n        <div class="add-rule-dialog">\n          <div class="dialog-header">\n            <h4>å¢åŠ æ—…é¦†æ³•åˆ™</h4>\n            <button class="dialog-close-btn" data-close-dialog aria-label="å…³é—­">\n              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\n            </button>\n          </div>\n          <div class="dialog-content">\n            <div class="form-group">\n              <label for="law-name-input">æ³•åˆ™åç§°</label>\n              <input type="text" id="law-name-input" class="form-input" placeholder="ä¾‹å¦‚ï¼šç¦é­”ã€é«˜é­”" />\n            </div>\n            <div class="form-group">\n              <label for="law-effect-input">æ³•åˆ™æ•ˆæœ</label>\n              <textarea id="law-effect-input" class="form-textarea" rows="3" placeholder="æè¿°è¿™ä¸ªæ³•åˆ™çš„æ•ˆæœ..."></textarea>\n            </div>\n          </div>\n          <div class="dialog-actions">\n            <button class="dialog-btn cancel-btn" data-cancel-dialog>å–æ¶ˆ</button>\n            <button class="dialog-btn save-btn" data-save-law>ä¿å­˜</button>\n          </div>\n        </div>\n      </div>\n    `);\n        // ç»‘å®šä¿å­˜äº‹ä»¶\n        dialog.on(\'click\', \'[data-save-law]\', async () => {\n            const lawName = dialog.find(\'#law-name-input\').val()?.trim();\n            const lawEffect = dialog.find(\'#law-effect-input\').val()?.trim();\n            if (!lawName) {\n                toastr.warning(\'è¯·è¾“å…¥æ³•åˆ™åç§°\', \'æç¤º\');\n                return;\n            }\n            if (!lawEffect) {\n                toastr.warning(\'è¯·è¾“å…¥æ³•åˆ™æ•ˆæœ\', \'æç¤º\');\n                return;\n            }\n            try {\n                // è¯»å–å½“å‰çš„æ³•åˆ™åˆ—è¡¨ï¼ˆä¼˜å…ˆä»æœ€æ–°æ¥¼å±‚è¯»å–ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»0å±‚è¯»å–ï¼‰\n                const latestMessageId = getLastMessageId();\n                const targetMessageId = latestMessageId >= 0 ? latestMessageId : 0;\n                const variables = getVariables({ type: \'message\', message_id: targetMessageId });\n                const statData = variables?.stat_data || {};\n                const lawsListRaw = statData.æ—…åº—?.æ—…é¦†æ³•åˆ™?.æ³•åˆ™åˆ—è¡¨ || {};\n                // å¤„ç† MVU æ ¼å¼ [å€¼, "æè¿°"]\n                let lawsList = {};\n                if (Array.isArray(lawsListRaw) && lawsListRaw.length > 0) {\n                    lawsList = lawsListRaw[0] || {};\n                }\n                else if (typeof lawsListRaw === \'object\' && lawsListRaw !== null) {\n                    lawsList = lawsListRaw;\n                }\n                // æ·»åŠ æ–°æ³•åˆ™\n                lawsList[lawName] = { æ³•åˆ™æ•ˆæœ: lawEffect };\n                // æ›´æ–°å˜é‡è¡¨\n                await (0,_utils_variableUpdater__WEBPACK_IMPORTED_MODULE_2__.updateStatDataVariable)(\'æ—…åº—.æ—…é¦†æ³•åˆ™.æ³•åˆ™åˆ—è¡¨\', lawsList);\n                console.log(\'âœ… æˆåŠŸæ·»åŠ æ–°æ³•åˆ™:\', { æ³•åˆ™å: lawName, æ³•åˆ™æ•ˆæœ: lawEffect });\n                // é‡æ–°åŠ è½½æ•°æ®å¹¶åˆ·æ–°ç•Œé¢\n                await this.loadFromVariables();\n                dialog.remove();\n                toastr.success(\'æ³•åˆ™å·²æˆåŠŸæ·»åŠ ï¼\', \'æˆåŠŸ\');\n            }\n            catch (error) {\n                console.error(\'âŒ æ·»åŠ æ³•åˆ™å¤±è´¥:\', error);\n                toastr.error(\'æ·»åŠ æ³•åˆ™å¤±è´¥ï¼Œè¯·é‡è¯•\', \'é”™è¯¯\');\n            }\n        });\n        // ç»‘å®šå–æ¶ˆå’Œå…³é—­äº‹ä»¶\n        dialog.on(\'click\', \'[data-cancel-dialog], [data-close-dialog], .add-rule-dialog-overlay\', e => {\n            if (e.target === dialog[0] || $(e.target).closest(\'[data-cancel-dialog], [data-close-dialog]\').length) {\n                dialog.remove();\n            }\n        });\n        // ç‚¹å‡»å¯¹è¯æ¡†å†…å®¹æ—¶ä¸å…³é—­\n        dialog.on(\'click\', \'.add-rule-dialog\', e => {\n            e.stopPropagation();\n        });\n        $(\'body\').append(dialog);\n        // èšç„¦åˆ°ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†\n        setTimeout(() => {\n            dialog.find(\'#law-name-input\').focus();\n        }, 100);\n    }\n    /**\n     * æ˜¾ç¤ºå¢åŠ å‡†å…¥æ¡ä»¶è§„åˆ™å¯¹è¯æ¡†\n     */\n    async showAddAccessModeDialog() {\n        // å¦‚æœå¯¹è¯æ¡†å·²ç»å­˜åœ¨ï¼Œå…ˆç§»é™¤å®ƒ\n        $(\'.add-rule-dialog-overlay\').remove();\n        const dialog = $(`\n      <div class="add-rule-dialog-overlay">\n        <div class="add-rule-dialog">\n          <div class="dialog-header">\n            <h4>å¢åŠ å‡†å…¥æ¡ä»¶</h4>\n            <button class="dialog-close-btn" data-close-dialog aria-label="å…³é—­">\n              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\n            </button>\n          </div>\n          <div class="dialog-content">\n            <div class="form-group">\n              <label for="access-mode-name-input">æ¨¡å¼åç§°</label>\n              <input type="text" id="access-mode-name-input" class="form-input" placeholder="ä¾‹å¦‚ï¼šå®ä½“æ˜¾ç°ã€ç»å¢ƒæ•‘èµ" />\n            </div>\n            <div class="form-group">\n              <label for="access-mode-desc-input">æ¡ä»¶æè¿°</label>\n              <textarea id="access-mode-desc-input" class="form-textarea" rows="3" placeholder="æè¿°è¿™ä¸ªå‡†å…¥æ¡ä»¶çš„è¯¦ç»†è¯´æ˜..."></textarea>\n            </div>\n          </div>\n          <div class="dialog-actions">\n            <button class="dialog-btn cancel-btn" data-cancel-dialog>å–æ¶ˆ</button>\n            <button class="dialog-btn save-btn" data-save-access-mode>ä¿å­˜</button>\n          </div>\n        </div>\n      </div>\n    `);\n        // ç»‘å®šä¿å­˜äº‹ä»¶\n        dialog.on(\'click\', \'[data-save-access-mode]\', async () => {\n            const modeName = dialog.find(\'#access-mode-name-input\').val()?.trim();\n            const modeDesc = dialog.find(\'#access-mode-desc-input\').val()?.trim();\n            if (!modeName) {\n                toastr.warning(\'è¯·è¾“å…¥æ¨¡å¼åç§°\', \'æç¤º\');\n                return;\n            }\n            if (!modeDesc) {\n                toastr.warning(\'è¯·è¾“å…¥æ¡ä»¶æè¿°\', \'æç¤º\');\n                return;\n            }\n            try {\n                // è¯»å–å½“å‰çš„å‡†å…¥æ¡ä»¶åˆ—è¡¨ï¼ˆä¼˜å…ˆä»æœ€æ–°æ¥¼å±‚è¯»å–ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»0å±‚è¯»å–ï¼‰\n                const latestMessageId = getLastMessageId();\n                const targetMessageId = latestMessageId >= 0 ? latestMessageId : 0;\n                const variables = getVariables({ type: \'message\', message_id: targetMessageId });\n                const statData = variables?.stat_data || {};\n                const accessModeListRaw = statData.æ—…åº—?.å‡†å…¥æ¡ä»¶?.å‡†å…¥æ¡ä»¶åˆ—è¡¨ || {};\n                // å¤„ç† MVU æ ¼å¼ [å€¼, "æè¿°"]\n                let accessModeList = {};\n                if (Array.isArray(accessModeListRaw) && accessModeListRaw.length > 0) {\n                    accessModeList = accessModeListRaw[0] || {};\n                }\n                else if (typeof accessModeListRaw === \'object\' && accessModeListRaw !== null) {\n                    accessModeList = accessModeListRaw;\n                }\n                // æ·»åŠ æ–°å‡†å…¥æ¡ä»¶\n                accessModeList[modeName] = { æ¡ä»¶æè¿°: modeDesc };\n                // æ›´æ–°å˜é‡è¡¨\n                await (0,_utils_variableUpdater__WEBPACK_IMPORTED_MODULE_2__.updateStatDataVariable)(\'æ—…åº—.å‡†å…¥æ¡ä»¶.å‡†å…¥æ¡ä»¶åˆ—è¡¨\', accessModeList);\n                console.log(\'âœ… æˆåŠŸæ·»åŠ æ–°å‡†å…¥æ¡ä»¶:\', { æ¨¡å¼åç§°: modeName, æ¡ä»¶æè¿°: modeDesc });\n                // é‡æ–°åŠ è½½æ•°æ®å¹¶åˆ·æ–°ç•Œé¢\n                await this.loadFromVariables();\n                dialog.remove();\n                toastr.success(\'å‡†å…¥æ¡ä»¶å·²æˆåŠŸæ·»åŠ ï¼\', \'æˆåŠŸ\');\n            }\n            catch (error) {\n                console.error(\'âŒ æ·»åŠ å‡†å…¥æ¡ä»¶å¤±è´¥:\', error);\n                toastr.error(\'æ·»åŠ å‡†å…¥æ¡ä»¶å¤±è´¥ï¼Œè¯·é‡è¯•\', \'é”™è¯¯\');\n            }\n        });\n        // ç»‘å®šå–æ¶ˆå’Œå…³é—­äº‹ä»¶\n        dialog.on(\'click\', \'[data-cancel-dialog], [data-close-dialog], .add-rule-dialog-overlay\', e => {\n            if (e.target === dialog[0] || $(e.target).closest(\'[data-cancel-dialog], [data-close-dialog]\').length) {\n                dialog.remove();\n            }\n        });\n        // ç‚¹å‡»å¯¹è¯æ¡†å†…å®¹æ—¶ä¸å…³é—­\n        dialog.on(\'click\', \'.add-rule-dialog\', e => {\n            e.stopPropagation();\n        });\n        $(\'body\').append(dialog);\n        // èšç„¦åˆ°ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†\n        setTimeout(() => {\n            dialog.find(\'#access-mode-name-input\').focus();\n        }, 100);\n    }\n    /**\n     * æ›´æ–°æ—…åº—åå­—\n     */\n    updateInnName(innName) {\n        this.innName = innName;\n        if (this.element) {\n            const innNameElement = $(this.element).find(\'[data-inn-name]\');\n            if (innNameElement.length) {\n                innNameElement.text(innName);\n            }\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9EYXNoYm9hcmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQnVzaW5lc3NTdGF0dXMsIEZhY2lsaXR5LCBHYW1lVGFiLCBJbm5MYXcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyByZWFkR2FtZURhdGEgfSBmcm9tICcuLi91dGlscy92YXJpYWJsZVJlYWRlcic7XG5pbXBvcnQgeyB1cGRhdGVTdGF0RGF0YVZhcmlhYmxlIH0gZnJvbSAnLi4vdXRpbHMvdmFyaWFibGVVcGRhdGVyJztcbmltcG9ydCAnLi9EYXNoYm9hcmQuc2Nzcyc7XG5cbi8vIOWFqOWxgOWHveaVsOWjsOaYju+8iOeUsemFkummhuWKqeaJi+aPkOS+m++8iVxuZGVjbGFyZSBmdW5jdGlvbiBnZXRXb3JsZGJvb2sod29ybGRib29rX25hbWU6IHN0cmluZyk6IFByb21pc2U8V29ybGRib29rRW50cnlbXT47XG5kZWNsYXJlIGZ1bmN0aW9uIGdldFZhcmlhYmxlcyhvcHRpb246IHsgdHlwZTogJ21lc3NhZ2UnOyBtZXNzYWdlX2lkOiBudW1iZXIgfCAnbGF0ZXN0JyB9KTogUmVjb3JkPHN0cmluZywgYW55PjtcbmRlY2xhcmUgZnVuY3Rpb24gZ2V0TGFzdE1lc3NhZ2VJZCgpOiBudW1iZXI7XG5kZWNsYXJlIGNvbnN0IHRvYXN0cjoge1xuICBzdWNjZXNzOiAobWVzc2FnZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4gdm9pZDtcbiAgZXJyb3I6IChtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB2b2lkO1xuICBpbmZvOiAobWVzc2FnZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZykgPT4gdm9pZDtcbiAgd2FybmluZzogKG1lc3NhZ2U6IHN0cmluZywgdGl0bGU/OiBzdHJpbmcpID0+IHZvaWQ7XG59O1xuXG50eXBlIFdvcmxkYm9va0VudHJ5ID0ge1xuICB1aWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBlbmFibGVkOiBib29sZWFuO1xuICBzdHJhdGVneToge1xuICAgIHR5cGU6ICdjb25zdGFudCcgfCAnc2VsZWN0aXZlJyB8ICd2ZWN0b3JpemVkJztcbiAgICBrZXlzOiAoc3RyaW5nIHwgUmVnRXhwKVtdO1xuICAgIGtleXNfc2Vjb25kYXJ5OiB7IGxvZ2ljOiAnYW5kX2FueScgfCAnYW5kX2FsbCcgfCAnbm90X2FsbCcgfCAnbm90X2FueSc7IGtleXM6IChzdHJpbmcgfCBSZWdFeHApW10gfTtcbiAgICBzY2FuX2RlcHRoOiAnc2FtZV9hc19nbG9iYWwnIHwgbnVtYmVyO1xuICB9O1xuICBwb3NpdGlvbjoge1xuICAgIHR5cGU6XG4gICAgICB8ICdiZWZvcmVfY2hhcmFjdGVyX2RlZmluaXRpb24nXG4gICAgICB8ICdhZnRlcl9jaGFyYWN0ZXJfZGVmaW5pdGlvbidcbiAgICAgIHwgJ2JlZm9yZV9leGFtcGxlX21lc3NhZ2VzJ1xuICAgICAgfCAnYWZ0ZXJfZXhhbXBsZV9tZXNzYWdlcydcbiAgICAgIHwgJ2JlZm9yZV9hdXRob3Jfbm90ZSdcbiAgICAgIHwgJ2FmdGVyX2F1dGhvcl9ub3RlJ1xuICAgICAgfCAnYXRfZGVwdGgnO1xuICAgIHJvbGU6ICdzeXN0ZW0nIHwgJ2Fzc2lzdGFudCcgfCAndXNlcic7XG4gICAgZGVwdGg6IG51bWJlcjtcbiAgICBvcmRlcjogbnVtYmVyO1xuICB9O1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHByb2JhYmlsaXR5OiBudW1iZXI7XG4gIHJlY3Vyc2lvbjoge1xuICAgIHByZXZlbnRfaW5jb21pbmc6IGJvb2xlYW47XG4gICAgcHJldmVudF9vdXRnb2luZzogYm9vbGVhbjtcbiAgICBkZWxheV91bnRpbDogbnVsbCB8IG51bWJlcjtcbiAgfTtcbiAgZWZmZWN0OiB7XG4gICAgc3RpY2t5OiBudWxsIHwgbnVtYmVyO1xuICAgIGNvb2xkb3duOiBudWxsIHwgbnVtYmVyO1xuICAgIGRlbGF5OiBudWxsIHwgbnVtYmVyO1xuICB9O1xuICBleHRyYT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERhc2hib2FyZENhbGxiYWNrcyB7XG4gIG9uVGFiQ2hhbmdlOiAodGFiOiBHYW1lVGFiKSA9PiB2b2lkO1xuICBvblN0YXR1c0NoYW5nZT86IChzdGF0dXM6IEJ1c2luZXNzU3RhdHVzKSA9PiB2b2lkO1xuICBvbkxhd0NoYW5nZT86IChsYXc6IElubkxhdykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIERhc2hib2FyZCB7XG4gIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBjYWxsYmFja3M6IERhc2hib2FyZENhbGxiYWNrcztcbiAgcHJpdmF0ZSBidXNpbmVzc1N0YXR1czogQnVzaW5lc3NTdGF0dXMgPSAn6JCl5Lia5LitJztcbiAgcHJpdmF0ZSBvY2N1cGFuY3k6IG51bWJlciA9IDg1OyAvLyAwLTEwMFxuICBwcml2YXRlIGZhY2lsaXRpZXM6IEZhY2lsaXR5W10gPSBbXG4gICAgeyBpZDogJzEnLCBuYW1lOiAn5a6i5oi/JywgbGV2ZWw6IDMsIG1heExldmVsOiA1IH0sXG4gICAgeyBpZDogJzInLCBuYW1lOiAn6aSQ6aWuJywgbGV2ZWw6IDIsIG1heExldmVsOiA1IH0sXG4gICAgeyBpZDogJzMnLCBuYW1lOiAn6LCD6YWSJywgbGV2ZWw6IDEsIG1heExldmVsOiA1IH0sXG4gICAgeyBpZDogJzQnLCBuYW1lOiAn5rip5rOJJywgbGV2ZWw6IDAsIG1heExldmVsOiA1IH0sXG4gIF07XG4gIHByaXZhdGUgaW5uTGF3OiBJbm5MYXcgPSAn5Lit56uLJztcbiAgcHJpdmF0ZSBjdXJyZW50TGF3OiB7IOazleWImeWQjTogc3RyaW5nOyDms5XliJnmlYjmnpw6IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgbGF3TGlzdDogQXJyYXk8eyDms5XliJnlkI06IHN0cmluZzsg5rOV5YiZ5pWI5p6cOiBzdHJpbmcgfT4gPSBbXTtcbiAgcHJpdmF0ZSBjdXJyZW50QWNjZXNzTW9kZTogeyDmqKHlvI/lkI3np7A6IHN0cmluZzsg5p2h5Lu25o+P6L+wOiBzdHJpbmcgfSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGFjY2Vzc01vZGVMaXN0OiBBcnJheTx7IOaooeW8j+WQjeensDogc3RyaW5nOyDmnaHku7bmj4/ov7A6IHN0cmluZyB9PiA9IFtdO1xuICBwcml2YXRlIHBvcHVsYXJpdHk6IG51bWJlciA9IDg1OyAvLyAwLTEwMFxuICBwcml2YXRlIGlubk5hbWU6IHN0cmluZyA9ICflpJrmrKHlhYPkvr/mkLrml4XlupcnO1xuICBwcml2YXRlIGlubkFwcGVhcmFuY2U6IHN0cmluZyA9XG4gICAgJ+eCieeBq+a4qeaaluWcsOWZvOWVquS9nOWTje+8jOmCgOivt+edgOadpeiHquWQhOS4que7tOW6pueahOeWsuaDq+aXheS6uuOAguepuuawlOS4reW8pea8q+edgOeDpOiCieeahOmmmeWRs+WSjOiHreawp+eahOawlOaBr+OAgic7XG4gIHByaXZhdGUgY29nbml0aXZlRWZmZWN0OiBzdHJpbmcgPSAnJztcbiAgcHJpdmF0ZSBjaHJvbmljbGVFbnRyaWVzOiBBcnJheTx7IG51bWJlcjogbnVtYmVyOyB0ZXh0OiBzdHJpbmcgfT4gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihjYWxsYmFja3M6IERhc2hib2FyZENhbGxiYWNrcywgaW5uTmFtZT86IHN0cmluZykge1xuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgIGlmIChpbm5OYW1lKSB7XG4gICAgICB0aGlzLmlubk5hbWUgPSBpbm5OYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDku47lj5jph4/ooajliqDovb3mlbDmja5cbiAgICAgIHRoaXMubG9hZEZyb21WYXJpYWJsZXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5LuO5Y+Y6YeP6KGo5Yqg6L295pWw5o2uXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgbG9hZEZyb21WYXJpYWJsZXMoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgZ2FtZURhdGEgPSBhd2FpdCByZWFkR2FtZURhdGEoKTtcbiAgICB0aGlzLmlubk5hbWUgPSBnYW1lRGF0YS5pbm5OYW1lO1xuICAgIHRoaXMuaW5uQXBwZWFyYW5jZSA9IGdhbWVEYXRhLmlubkFwcGVhcmFuY2U7XG4gICAgdGhpcy5jb2duaXRpdmVFZmZlY3QgPSBnYW1lRGF0YS5jb2duaXRpdmVFZmZlY3Q7XG4gICAgdGhpcy5idXNpbmVzc1N0YXR1cyA9IGdhbWVEYXRhLmJ1c2luZXNzU3RhdHVzIGFzIEJ1c2luZXNzU3RhdHVzO1xuICAgIHRoaXMucG9wdWxhcml0eSA9IGdhbWVEYXRhLnBvcHVsYXJpdHk7XG4gICAgdGhpcy5vY2N1cGFuY3kgPSBnYW1lRGF0YS5vY2N1cGFuY3k7XG4gICAgdGhpcy5pbm5MYXcgPSBnYW1lRGF0YS5pbm5MYXcgYXMgSW5uTGF3O1xuICAgIHRoaXMuY3VycmVudExhdyA9IGdhbWVEYXRhLmN1cnJlbnRMYXc7XG4gICAgdGhpcy5sYXdMaXN0ID0gZ2FtZURhdGEubGF3TGlzdDtcbiAgICB0aGlzLmN1cnJlbnRBY2Nlc3NNb2RlID0gZ2FtZURhdGEuY3VycmVudEFjY2Vzc01vZGU7XG4gICAgdGhpcy5hY2Nlc3NNb2RlTGlzdCA9IGdhbWVEYXRhLmFjY2Vzc01vZGVMaXN0O1xuXG4gICAgLy8g6L2s5o2i6K6+5pa95pWw5o2u5qC85byP77yI5L+d55WZ5b2T5YmN562J57qn5o+P6L+w77yJXG4gICAgdGhpcy5mYWNpbGl0aWVzID0gZ2FtZURhdGEuZmFjaWxpdGllcy5tYXAoKGZhY2lsaXR5LCBpbmRleCkgPT4gKHtcbiAgICAgIGlkOiBTdHJpbmcoaW5kZXggKyAxKSxcbiAgICAgIG5hbWU6IGZhY2lsaXR5LuWQjeensCxcbiAgICAgIGxldmVsOiBmYWNpbGl0eS7nrYnnuqcsXG4gICAgICBtYXhMZXZlbDogNSxcbiAgICAgIGRlc2NyaXB0aW9uOiBmYWNpbGl0eS7lvZPliY3nrYnnuqfmj4/ov7AgfHwgJycsIC8vIOa3u+WKoOaPj+i/sOWtl+autVxuICAgIH0pKTtcblxuICAgIGNvbnNvbGUubG9nKCfwn4+X77iPIOWKoOi9veiuvuaWveaVsOaNrjonLCB7XG4gICAgICBmYWNpbGl0aWVzQ291bnQ6IHRoaXMuZmFjaWxpdGllcy5sZW5ndGgsXG4gICAgICBmYWNpbGl0aWVzOiB0aGlzLmZhY2lsaXRpZXMsXG4gICAgICByYXdGYWNpbGl0aWVzOiBnYW1lRGF0YS5mYWNpbGl0aWVzLFxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICAvLyDlvILmraXliqDovb3nvJblubTlj7JcbiAgICB0aGlzLmxvYWRDaHJvbmljbGVGcm9tV29ybGRib29rKCk7XG4gIH1cblxuICAvKipcbiAgICog5LuO5LiW55WM5Lmm5Yqg6L2957yW5bm05Y+yXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGxvYWRDaHJvbmljbGVGcm9tV29ybGRib29rKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IFdPUkxEQk9PS19OQU1FID0gJzDor7jlpKnkvr/mkLrml4XlupcnO1xuICAgIGNvbnN0IEVOVFJZX05BTUUgPSAn57yW5bm05Y+yJztcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB3b3JsZGJvb2sgPSBhd2FpdCBnZXRXb3JsZGJvb2soV09STERCT09LX05BTUUpO1xuICAgICAgY29uc3QgY2hyb25pY2xlRW50cnkgPSB3b3JsZGJvb2suZmluZCgoZW50cnk6IFdvcmxkYm9va0VudHJ5KSA9PiBlbnRyeS5uYW1lID09PSBFTlRSWV9OQU1FKTtcblxuICAgICAgaWYgKCFjaHJvbmljbGVFbnRyeSB8fCAhY2hyb25pY2xlRW50cnkuY29udGVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSDkuJbnlYzkuabkuK3mnKrmib7liLDnvJblubTlj7LmnaHnm67miJblhoXlrrnkuLrnqbonKTtcbiAgICAgICAgdGhpcy5jaHJvbmljbGVFbnRyaWVzID0gW107XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g6Kej5p6Q57yW5bm05Y+y5YaF5a65XG4gICAgICB0aGlzLmNocm9uaWNsZUVudHJpZXMgPSB0aGlzLnBhcnNlQ2hyb25pY2xlQ29udGVudChjaHJvbmljbGVFbnRyeS5jb250ZW50KTtcblxuICAgICAgLy8g5oyJ57yW5Y+355Sx5aSn5Yiw5bCP5o6S5bqPXG4gICAgICB0aGlzLmNocm9uaWNsZUVudHJpZXMuc29ydCgoYSwgYikgPT4gYi5udW1iZXIgLSBhLm51bWJlcik7XG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUg5oiQ5Yqf5Yqg6L2957yW5bm05Y+y77yM5p2h55uu5pWwOicsIHRoaXMuY2hyb25pY2xlRW50cmllcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDliqDovb3nvJblubTlj7LlpLHotKU6JywgZXJyb3IpO1xuICAgICAgdGhpcy5jaHJvbmljbGVFbnRyaWVzID0gW107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOino+aekOe8luW5tOWPsuWGheWuuVxuICAgKi9cbiAgcHJpdmF0ZSBwYXJzZUNocm9uaWNsZUNvbnRlbnQoY29udGVudDogc3RyaW5nKTogQXJyYXk8eyBudW1iZXI6IG51bWJlcjsgdGV4dDogc3RyaW5nIH0+IHtcbiAgICBjb25zdCBlbnRyaWVzOiBBcnJheTx7IG51bWJlcjogbnVtYmVyOyB0ZXh0OiBzdHJpbmcgfT4gPSBbXTtcbiAgICBjb25zdCBsaW5lcyA9IGNvbnRlbnRcbiAgICAgIC5zcGxpdCgnXFxuJylcbiAgICAgIC5tYXAobGluZSA9PiBsaW5lLnRyaW0oKSlcbiAgICAgIC5maWx0ZXIobGluZSA9PiBsaW5lLmxlbmd0aCA+IDApO1xuXG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAvLyDljLnphY3moLzlvI/vvJrmlbDlrZcu5paH5pysXG4gICAgICBjb25zdCBtYXRjaCA9IGxpbmUubWF0Y2goL14oXFxkKylcXC4oLispJC8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIGNvbnN0IG51bWJlciA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICAgIGNvbnN0IHRleHQgPSBtYXRjaFsyXS50cmltKCk7XG4gICAgICAgIGlmICghaXNOYU4obnVtYmVyKSAmJiB0ZXh0KSB7XG4gICAgICAgICAgZW50cmllcy5wdXNoKHsgbnVtYmVyLCB0ZXh0IH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudHJpZXM7XG4gIH1cblxuICAvKipcbiAgICog6YeN5paw5riy5p+TXG4gICAqL1xuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldERhc2hib2FyZEhUTUwoKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rku6rooajmnb9IVE1M57uT5p6EXG4gICAqL1xuICBwdWJsaWMgY3JlYXRlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgZGFzaGJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGFzaGJvYXJkLmNsYXNzTmFtZSA9ICdtaGpnLWRhc2hib2FyZCc7XG4gICAgZGFzaGJvYXJkLmlubmVySFRNTCA9IHRoaXMuZ2V0RGFzaGJvYXJkSFRNTCgpO1xuICAgIHRoaXMuZWxlbWVudCA9IGRhc2hib2FyZDtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICByZXR1cm4gZGFzaGJvYXJkO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluS7quihqOadv0hUTUxcbiAgICovXG4gIHByaXZhdGUgZ2V0RGFzaGJvYXJkSFRNTCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRhc2hib2FyZC1sZWZ0XCI+XG4gICAgICAgICAgJHt0aGlzLmNyZWF0ZVN0YXR1c0Jhbm5lcigpfVxuICAgICAgICAgICR7dGhpcy5jcmVhdGVBY3Rpb25zR3JpZCgpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRhc2hib2FyZC1yaWdodFwiPlxuICAgICAgICAgICR7dGhpcy5jcmVhdGVRdWlja1N0YXRzKCl9XG4gICAgICAgICAgJHt0aGlzLmNyZWF0ZUFjdGl2aXR5TG9nKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rnirbmgIHmqKrluYVcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlU3RhdHVzQmFubmVyKCk6IHN0cmluZyB7XG4gICAgY29uc3Qgc3RhdHVzQ2xhc3MgPSB0aGlzLmdldFN0YXR1c0NsYXNzKHRoaXMuYnVzaW5lc3NTdGF0dXMpO1xuICAgIGNvbnN0IHBvcHVsYXJpdHlUZXh0ID0gdGhpcy5nZXRQb3B1bGFyaXR5VGV4dCh0aGlzLnBvcHVsYXJpdHkpO1xuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGF0dXMtYmFubmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiYW5uZXItb3ZlcmxheVwiPjwvZGl2PlxuICAgICAgICA8aW1nIFxuICAgICAgICAgIHNyYz1cImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTE5MDc0MDY5NDQ0LTFiYTRmZmY2NmQxNj9xPTgwJnc9MjU0NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcFwiIFxuICAgICAgICAgIGFsdD1cIlN0YXR1cyBCYW5uZXJcIiBcbiAgICAgICAgICBjbGFzcz1cImJhbm5lci1pbWFnZVwiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiYW5uZXItZ3JhZGllbnRcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJhbm5lci1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJhbm5lci1iYWRnZXNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYWRnZSBiYWRnZS1zdGF0dXMgJHtzdGF0dXNDbGFzc31cIiBkYXRhLXN0YXR1cy1zZWxlY3Rvcj5cbiAgICAgICAgICAgICAgJHt0aGlzLmJ1c2luZXNzU3RhdHVzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFkZ2UgYmFkZ2Utd2FybmluZ1wiPlxuICAgICAgICAgICAgICAke3RoaXMuZ2V0U3Rhckljb24oKX1cbiAgICAgICAgICAgICAgJHtwb3B1bGFyaXR5VGV4dH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMiBjbGFzcz1cImJhbm5lci10aXRsZVwiIGRhdGEtaW5uLW5hbWU+JHt0aGlzLmlubk5hbWV9PC9oMj5cbiAgICAgICAgICA8cCBjbGFzcz1cImJhbm5lci1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgJHt0aGlzLmlubkFwcGVhcmFuY2V9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgICR7dGhpcy5jb2duaXRpdmVFZmZlY3QgPyBgPHAgY2xhc3M9XCJiYW5uZXItY29nbml0aXZlLWVmZmVjdFwiPiR7dGhpcy5jb2duaXRpdmVFZmZlY3R9PC9wPmAgOiAnJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPlueKtuaAgeagt+W8j+exu1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRTdGF0dXNDbGFzcyhzdGF0dXM6IEJ1c2luZXNzU3RhdHVzKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSAn6JCl5Lia5LitJzpcbiAgICAgICAgcmV0dXJuICdiYWRnZS1zdWNjZXNzJztcbiAgICAgIGNhc2UgJ+S8keaBr+S4rSc6XG4gICAgICAgIHJldHVybiAnYmFkZ2Utd2FybmluZyc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ2JhZGdlLXN1Y2Nlc3MnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmrKLov47luqbmlofmnKxcbiAgICovXG4gIHByaXZhdGUgZ2V0UG9wdWxhcml0eVRleHQocG9wdWxhcml0eTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAocG9wdWxhcml0eSA+PSA4MCkgcmV0dXJuICfmnoHlj5fmrKLov44nO1xuICAgIGlmIChwb3B1bGFyaXR5ID49IDYwKSByZXR1cm4gJ+WPl+asoui/jic7XG4gICAgaWYgKHBvcHVsYXJpdHkgPj0gNDApIHJldHVybiAn5LiA6IisJztcbiAgICByZXR1cm4gJ+WGt+a4hSc7XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65pON5L2c572R5qC8XG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUFjdGlvbnNHcmlkKCk6IHN0cmluZyB7XG4gICAgY29uc3QgYWN0aW9ucyA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IEdhbWVUYWIuR1VFU1RTLFxuICAgICAgICB0aXRsZTogJ+WuvuWuoueZu+iusCcsXG4gICAgICAgIGRlc2M6ICfnrqHnkIbmnaXorr/nmoTml4Xkurrlkozku5bku6znmoTpnIDmsYLjgIInLFxuICAgICAgICBpY29uOiAndXNlcnMnLFxuICAgICAgICBzdGF0OiAnMTIg5L2N5rS76LeDJyxcbiAgICAgICAgYmdJbWFnZTogJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy80MDAvMzAwP3JhbmRvbT0xMCcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogR2FtZVRhYi5TVEFGRixcbiAgICAgICAgdGl0bGU6ICflkZjlt6UnLFxuICAgICAgICBkZXNjOiAn566h55CG5L2g55qE5ZGY5bel5Zui6Zif44CCJyxcbiAgICAgICAgaWNvbjogJ3VzZXJzJyxcbiAgICAgICAgc3RhdDogJzMg5L2N5ZGY5belJyxcbiAgICAgICAgYmdJbWFnZTogJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy80MDAvMzAwP3JhbmRvbT0xMScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogR2FtZVRhYi5CVUlMRCxcbiAgICAgICAgdGl0bGU6ICfmianlu7onLFxuICAgICAgICBkZXNjOiAn5Y2H57qn6K6+5pa95ZKM6ZmE6a2U44CCJyxcbiAgICAgICAgaWNvbjogJ2hhbW1lcicsXG4gICAgICAgIHN0YXQ6ICfmlrDok53lm74nLFxuICAgICAgICBiZ0ltYWdlOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzQwMC8zMDA/cmFuZG9tPTEyJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBHYW1lVGFiLlNUT1JZLFxuICAgICAgICB0aXRsZTogJ+mtlOWFuCcsXG4gICAgICAgIGRlc2M6ICflkqjor6Llkb3ov5DvvIznvJbnu4fmlYXkuovjgIInLFxuICAgICAgICBpY29uOiAnYm9vaycsXG4gICAgICAgIHN0YXQ6ICflkb3ov5DnrYnlvoUnLFxuICAgICAgICBiZ0ltYWdlOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzQwMC8zMDA/cmFuZG9tPTEzJyxcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIGNvbnN0IGFjdGlvbnNIVE1MID0gYWN0aW9uc1xuICAgICAgLm1hcChcbiAgICAgICAgYWN0aW9uID0+IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJkYXNoYm9hcmQtY2FyZFwiIGRhdGEtdGFiPVwiJHthY3Rpb24uaWR9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJnXCI+XG4gICAgICAgICAgPGltZyBzcmM9XCIke2FjdGlvbi5iZ0ltYWdlfVwiIGFsdD1cIlwiIGNsYXNzPVwiY2FyZC1iZy1pbWFnZVwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYmctb3ZlcmxheVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaWNvbiBjYXJkLWljb24tJHthY3Rpb24uaWNvbn1cIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmdldEFjdGlvbkljb24oYWN0aW9uLmljb24pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNhcmQtc3RhdFwiPiR7YWN0aW9uLnN0YXR9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzcz1cImNhcmQtdGl0bGVcIj4ke2FjdGlvbi50aXRsZX08L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLWRlc2NcIj4ke2FjdGlvbi5kZXNjfTwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWFjdGlvblwiPlxuICAgICAgICAgICAgICA8c3Bhbj7ov5vlhaU8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZC1hcnJvd1wiPuKGkjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGAsXG4gICAgICApXG4gICAgICAuam9pbignJyk7XG5cbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJhY3Rpb25zLWdyaWRcIj4ke2FjdGlvbnNIVE1MfTwvZGl2PmA7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5pON5L2c5Zu+5qCHXG4gICAqL1xuICBwcml2YXRlIGdldEFjdGlvbkljb24oaWNvbk5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgaWNvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICB1c2VyczpcbiAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTE2IDIxdi0yYTQgNCAwIDAgMC00LTRINmE0IDQgMCAwIDAtNCA0djJcIi8+PGNpcmNsZSBjeD1cIjlcIiBjeT1cIjdcIiByPVwiNFwiLz48cGF0aCBkPVwiTTIyIDIxdi0yYTQgNCAwIDAgMC0zLTMuODdcIi8+PHBhdGggZD1cIk0xNiAzLjEzYTQgNCAwIDAgMSAwIDcuNzVcIi8+PC9zdmc+JyxcbiAgICAgIHV0ZW5zaWxzOlxuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMyAydjdjMCAxLjEuOSAyIDIgMmg0YTIgMiAwIDAgMCAyLTJWMlwiLz48cGF0aCBkPVwiTTcgMnYyMFwiLz48cGF0aCBkPVwiTTIxIDE1VjJ2MGE1IDUgMCAwIDAtNSA1djZjMCAxLjEuOSAyIDIgMmgzelwiLz48cGF0aCBkPVwiTTIxIDE1djdcIi8+PC9zdmc+JyxcbiAgICAgIGhhbW1lcjpcbiAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwibTE1IDEyLTguNSA4LjVjLS44My44My0yLjE3LjgzLTMgMCAwIDAgMCAwIDAgMGEyLjEyIDIuMTIgMCAwIDEgMC0zTDEyIDlcIi8+PHBhdGggZD1cIk0xNy42NCAxNSAyMiAxMC42NFwiLz48cGF0aCBkPVwibTE0LjkxIDcuNzkgMS43Ny0xLjc3YTEuNDkgMS40OSAwIDAgMCAwLTIuMTJsLTMuNTQtMy41NGExLjQ5IDEuNDkgMCAwIDAtMi4xMiAwTDkuMTIgNC4yM1wiLz48cGF0aCBkPVwibTguNTMgMTIuOTEgNS4zOCA1LjM4XCIvPjwvc3ZnPicsXG4gICAgICBib29rOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNNCAxOS41di0xNUEyLjUgMi41IDAgMCAxIDYuNSAySDIwdjIwSDYuNWEyLjUgMi41IDAgMCAxIDAtNUgyMFwiLz48L3N2Zz4nLFxuICAgIH07XG4gICAgcmV0dXJuIGljb25zW2ljb25OYW1lXSB8fCAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rlv6vpgJ/nu5/orqFcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlUXVpY2tTdGF0cygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZhY2lsaXRpZXNIVE1MID0gdGhpcy5mYWNpbGl0aWVzLm1hcChmYWNpbGl0eSA9PiB0aGlzLmNyZWF0ZUZhY2lsaXR5Um93KGZhY2lsaXR5KSkuam9pbignJyk7XG5cbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cInF1aWNrLXN0YXRzIHJwZy1wYW5lbFwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJzdGF0cy10aXRsZVwiPuaXheW6l+eKtuaAgTwvaDM+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmYWNpbGl0aWVzLXNlY3Rpb25cIj5cbiAgICAgICAgICA8aDQgY2xhc3M9XCJmYWNpbGl0aWVzLXRpdGxlXCI+6K6+5pa9L+WMuuWfnzwvaDQ+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZhY2lsaXRpZXMtbGlzdFwiPlxuICAgICAgICAgICAgJHtmYWNpbGl0aWVzSFRNTH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbm4tbGF3LXNlY3Rpb25cIj5cbiAgICAgICAgICA8aDQgY2xhc3M9XCJpbm4tbGF3LXRpdGxlXCI+5peF6aaG5rOV5YiZPC9oND5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uLWxhdy1zZWxlY3RvclwiIGRhdGEtbGF3LXNlbGVjdG9yPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlubi1sYXctaW5mb1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlubi1sYXctY3VycmVudFwiPiR7dGhpcy5jdXJyZW50TGF3Py7ms5XliJnlkI0gfHwgdGhpcy5pbm5MYXd9PC9zcGFuPlxuICAgICAgICAgICAgICAke3RoaXMuY3VycmVudExhdz8u5rOV5YiZ5pWI5p6cID8gYDxzcGFuIGNsYXNzPVwiaW5uLWxhdy1kZXNjXCI+JHt0aGlzLmN1cnJlbnRMYXcu5rOV5YiZ5pWI5p6cfTwvc3Bhbj5gIDogJyd9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICR7dGhpcy5nZXRMYXdJY29uKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFkZC1ydWxlLWJ0blwiIGRhdGEtYWRkLWxhdy1idG4+XG4gICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE0XCIgaGVpZ2h0PVwiMTRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGxpbmUgeDE9XCIxMlwiIHkxPVwiNVwiIHgyPVwiMTJcIiB5Mj1cIjE5XCIvPjxsaW5lIHgxPVwiNVwiIHkxPVwiMTJcIiB4Mj1cIjE5XCIgeTI9XCIxMlwiLz48L3N2Zz5cbiAgICAgICAgICAgIDxzcGFuPuWinuWKoOinhOWImTwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbm4tbGF3LXNlY3Rpb25cIj5cbiAgICAgICAgICA8aDQgY2xhc3M9XCJpbm4tbGF3LXRpdGxlXCI+5YeG5YWl5p2h5Lu2PC9oND5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uLWxhdy1zZWxlY3RvclwiIGRhdGEtYWNjZXNzLW1vZGUtc2VsZWN0b3I+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uLWxhdy1pbmZvXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaW5uLWxhdy1jdXJyZW50XCI+JHt0aGlzLmN1cnJlbnRBY2Nlc3NNb2RlPy7mqKHlvI/lkI3np7AgfHwgJ+WunuS9k+aYvueOsCd9PC9zcGFuPlxuICAgICAgICAgICAgICAke3RoaXMuY3VycmVudEFjY2Vzc01vZGU/LuadoeS7tuaPj+i/sCA/IGA8c3BhbiBjbGFzcz1cImlubi1sYXctZGVzY1wiPiR7dGhpcy5jdXJyZW50QWNjZXNzTW9kZS7mnaHku7bmj4/ov7B9PC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgJHt0aGlzLmdldEFjY2Vzc01vZGVJY29uKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFkZC1ydWxlLWJ0blwiIGRhdGEtYWRkLWFjY2Vzcy1tb2RlLWJ0bj5cbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48bGluZSB4MT1cIjEyXCIgeTE9XCI1XCIgeDI9XCIxMlwiIHkyPVwiMTlcIi8+PGxpbmUgeDE9XCI1XCIgeTE9XCIxMlwiIHgyPVwiMTlcIiB5Mj1cIjEyXCIvPjwvc3ZnPlxuICAgICAgICAgICAgPHNwYW4+5aKe5Yqg6KeE5YiZPC9zcGFuPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu66K6+5pa96KGMXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUZhY2lsaXR5Um93KGZhY2lsaXR5OiBGYWNpbGl0eSAmIHsgZGVzY3JpcHRpb24/OiBzdHJpbmcgfSk6IHN0cmluZyB7XG4gICAgY29uc3QgbGV2ZWxCYXJzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogZmFjaWxpdHkubWF4TGV2ZWwgfSwgKF8sIGkpID0+XG4gICAgICBpIDwgZmFjaWxpdHkubGV2ZWwgPyAnbGV2ZWwtYmFyLWZpbGxlZCcgOiAnbGV2ZWwtYmFyLWVtcHR5JyxcbiAgICApLmpvaW4oJycpO1xuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJmYWNpbGl0eS1yb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZhY2lsaXR5LWhlYWRlclwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmFjaWxpdHktbmFtZVwiPiR7ZmFjaWxpdHkubmFtZX08L3NwYW4+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZhY2lsaXR5LWxldmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWwtYmFyc1wiPlxuICAgICAgICAgICAgICAke0FycmF5LmZyb20oXG4gICAgICAgICAgICAgICAgeyBsZW5ndGg6IGZhY2lsaXR5Lm1heExldmVsIH0sXG4gICAgICAgICAgICAgICAgKF8sIGkpID0+XG4gICAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz1cImxldmVsLWJhciAke2kgPCBmYWNpbGl0eS5sZXZlbCA/ICdsZXZlbC1iYXItZmlsbGVkJyA6ICdsZXZlbC1iYXItZW1wdHknfVwiPjwvZGl2PmAsXG4gICAgICAgICAgICAgICkuam9pbignJyl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGV2ZWwtdGV4dFwiPkx2LiR7ZmFjaWxpdHkubGV2ZWx9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtmYWNpbGl0eS5kZXNjcmlwdGlvbiA/IGA8ZGl2IGNsYXNzPVwiZmFjaWxpdHktZGVzY3JpcHRpb25cIj4ke2ZhY2lsaXR5LmRlc2NyaXB0aW9ufTwvZGl2PmAgOiAnJ31cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5rOV5YiZ5Zu+5qCHXG4gICAqL1xuICBwcml2YXRlIGdldExhd0ljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cG9seWxpbmUgcG9pbnRzPVwiNiA5IDEyIDE1IDE4IDlcIi8+PC9zdmc+JztcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5blh4blhaXmnaHku7blm77moIdcbiAgICovXG4gIHByaXZhdGUgZ2V0QWNjZXNzTW9kZUljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cG9seWxpbmUgcG9pbnRzPVwiNiA5IDEyIDE1IDE4IDlcIi8+PC9zdmc+JztcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rnu5/orqHooYxcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlU3RhdFJvdyhsYWJlbDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBjb2xvcjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBjb2xvckNsYXNzID0gYHRleHQtJHtjb2xvcn0tNDAwYDtcbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cInN0YXQtcm93XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC1sYWJlbFwiPiR7bGFiZWx9PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtdmFsdWUgJHtjb2xvckNsYXNzfVwiPiR7dmFsdWV9PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rmtLvliqjml6Xlv5dcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlQWN0aXZpdHlMb2coKTogc3RyaW5nIHtcbiAgICAvLyDlpoLmnpzmsqHmnInnvJblubTlj7LmnaHnm67vvIzmmL7npLrnqbrnirbmgIFcbiAgICBpZiAodGhpcy5jaHJvbmljbGVFbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImFjdGl2aXR5LWxvZyBycGctcGFuZWxcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLWhlYWRlclwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2ctdGl0bGVcIj7nvJblubTlj7I8L3NwYW4+XG4gICAgICAgICAgICAke3RoaXMuZ2V0Q2xvY2tJY29uKCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1saXN0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLWl0ZW1cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZy10aW1lbGluZVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctZG90IGxvZy1kb3QtaW5mb1wiPjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZy10ZXh0XCIgc3R5bGU9XCJjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpO1wiPuaaguaXoOe8luW5tOWPsuiusOW9lTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgLy8g5oyJ57yW5Y+355Sx5aSn5Yiw5bCP5o6S5bqP77yI56Gu5L+d5pyA5paw5Zyo5LiK77yJXG4gICAgY29uc3Qgc29ydGVkRW50cmllcyA9IFsuLi50aGlzLmNocm9uaWNsZUVudHJpZXNdLnNvcnQoKGEsIGIpID0+IGIubnVtYmVyIC0gYS5udW1iZXIpO1xuXG4gICAgY29uc3QgbG9nc0hUTUwgPSBzb3J0ZWRFbnRyaWVzXG4gICAgICAubWFwKFxuICAgICAgICBlbnRyeSA9PiBgXG4gICAgICA8ZGl2IGNsYXNzPVwibG9nLWl0ZW1cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy10aW1lbGluZVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctZG90IGxvZy1kb3QtaW5mb1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvZy10aW1lXCI+IyR7ZW50cnkubnVtYmVyfTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctdGV4dFwiPiR7ZW50cnkudGV4dH08L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgLFxuICAgICAgKVxuICAgICAgLmpvaW4oJycpO1xuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpdml0eS1sb2cgcnBnLXBhbmVsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctaGVhZGVyXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJsb2ctdGl0bGVcIj7nvJblubTlj7I8L3NwYW4+XG4gICAgICAgICAgJHt0aGlzLmdldENsb2NrSWNvbigpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1saXN0XCI+XG4gICAgICAgICAgJHtsb2dzSFRNTH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluaXtumSn+Wbvuagh1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRDbG9ja0ljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTRcIiBoZWlnaHQ9XCIxNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIvPjxwb2x5bGluZSBwb2ludHM9XCIxMiA2IDEyIDEyIDE2IDE0XCIvPjwvc3ZnPic7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5pif5pif5Zu+5qCHXG4gICAqL1xuICBwcml2YXRlIGdldFN0YXJJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTEyIDJsMy4wOSA2LjI2TDIyIDkuMjdsLTUgNC44NyAxLjE4IDYuODhMMTIgMTcuNzdsLTYuMTggMy4yNUw3IDE0LjE0IDIgOS4yN2w2LjkxLTEuMDFMMTIgMnpcIi8+PC9zdmc+JztcbiAgfVxuXG4gIC8qKlxuICAgKiDnu5Hlrprkuovku7ZcbiAgICovXG4gIHByaXZhdGUgYmluZEV2ZW50cygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgLy8g5YWI56e76Zmk5omA5pyJ5pen55qE5LqL5Lu255uR5ZCs5Zmo77yM6Ziy5q2i6YeN5aSN57uR5a6aXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9mZignY2xpY2snLCAnLmRhc2hib2FyZC1jYXJkJyk7XG4gICAgJCh0aGlzLmVsZW1lbnQpLm9mZignY2xpY2snLCAnW2RhdGEtc3RhdHVzLXNlbGVjdG9yXScpO1xuICAgICQodGhpcy5lbGVtZW50KS5vZmYoJ2NsaWNrJywgJ1tkYXRhLWxhdy1zZWxlY3Rvcl0nKTtcbiAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCdjbGljaycsICdbZGF0YS1hY2Nlc3MtbW9kZS1zZWxlY3Rvcl0nKTtcblxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLmRhc2hib2FyZC1jYXJkJywgZSA9PiB7XG4gICAgICBjb25zdCBjYXJkID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgdGFiID0gY2FyZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiJykgYXMgR2FtZVRhYjtcbiAgICAgIGlmICh0YWIpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25UYWJDaGFuZ2UodGFiKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOiQpeS4mueKtuaAgeWIh+aNolxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnW2RhdGEtc3RhdHVzLXNlbGVjdG9yXScsIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuc2hvd1N0YXR1c1NlbGVjdG9yKCk7XG4gICAgfSk7XG5cbiAgICAvLyDml4Xppobms5XliJnliIfmjaJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWxhdy1zZWxlY3Rvcl0nLCBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnNob3dMYXdTZWxlY3RvcigpO1xuICAgIH0pO1xuXG4gICAgLy8g5YeG5YWl5p2h5Lu25YiH5o2iXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1hY2Nlc3MtbW9kZS1zZWxlY3Rvcl0nLCBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnNob3dBY2Nlc3NNb2RlU2VsZWN0b3IoKTtcbiAgICB9KTtcblxuICAgIC8vIOWinuWKoOazleWImeinhOWImVxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnW2RhdGEtYWRkLWxhdy1idG5dJywgZSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5zaG93QWRkTGF3RGlhbG9nKCk7XG4gICAgfSk7XG5cbiAgICAvLyDlop7liqDlh4blhaXmnaHku7bop4TliJlcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWFkZC1hY2Nlc3MtbW9kZS1idG5dJywgZSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgdGhpcy5zaG93QWRkQWNjZXNzTW9kZURpYWxvZygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuueKtuaAgemAieaLqeWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzaG93U3RhdHVzU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgY29uc3Qgc3RhdHVzZXM6IEJ1c2luZXNzU3RhdHVzW10gPSBbJ+iQpeS4muS4rScsICfkvJHmga/kuK0nXTtcbiAgICBjb25zdCBvcHRpb25zID0gc3RhdHVzZXNcbiAgICAgIC5tYXAoXG4gICAgICAgIHN0YXR1cyA9PlxuICAgICAgICAgIGA8ZGl2IGNsYXNzPVwic3RhdHVzLW9wdGlvbiAke3N0YXR1cyA9PT0gdGhpcy5idXNpbmVzc1N0YXR1cyA/ICdhY3RpdmUnIDogJyd9XCIgZGF0YS1zdGF0dXM9XCIke3N0YXR1c31cIj4ke3N0YXR1c308L2Rpdj5gLFxuICAgICAgKVxuICAgICAgLmpvaW4oJycpO1xuXG4gICAgY29uc3Qgc2VsZWN0b3IgPSAkKGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGF0dXMtc2VsZWN0b3Itb3ZlcmxheVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHVzLXNlbGVjdG9yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdG9yLWhlYWRlclwiPlxuICAgICAgICAgIDxoND7pgInmi6nokKXkuJrnirbmgIE8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNlbGVjdG9yLWNsb3NlLWJ0blwiIGRhdGEtY2xvc2Utc2VsZWN0b3IgYXJpYS1sYWJlbD1cIuWFs+mXrVwiPlxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGxpbmUgeDE9XCIxOFwiIHkxPVwiNlwiIHgyPVwiNlwiIHkyPVwiMThcIi8+PGxpbmUgeDE9XCI2XCIgeTE9XCI2XCIgeDI9XCIxOFwiIHkyPVwiMThcIi8+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHVzLW9wdGlvbnNcIj4ke29wdGlvbnN9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCk7XG5cbiAgICBzZWxlY3Rvci5vbignY2xpY2snLCAnLnN0YXR1cy1vcHRpb24nLCBhc3luYyBlID0+IHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLXN0YXR1cycpIGFzIEJ1c2luZXNzU3RhdHVzO1xuICAgICAgaWYgKHN0YXR1cyAmJiBzdGF0dXMgIT09IHRoaXMuYnVzaW5lc3NTdGF0dXMpIHtcbiAgICAgICAgLy8g5pu05pawIHN0YXRfZGF0YSDkuK3nmoTokKXkuJrnirbmgIFcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVTdGF0RGF0YVZhcmlhYmxlKCfml4Xlupcu6JCl5Lia54q25oCBJywgc3RhdHVzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOaIkOWKn+abtOaWsOiQpeS4mueKtuaAgTonLCBzdGF0dXMpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmm7TmlrDokKXkuJrnirbmgIHlpLHotKU6JywgZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idXNpbmVzc1N0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uU3RhdHVzQ2hhbmdlKSB7XG4gICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25TdGF0dXNDaGFuZ2Uoc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgICAgc2VsZWN0b3IucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICBzZWxlY3Rvci5vbignY2xpY2snLCAnLnN0YXR1cy1zZWxlY3Rvci1vdmVybGF5JywgZSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IHNlbGVjdG9yWzBdKSB7XG4gICAgICAgIHNlbGVjdG9yLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2VsZWN0b3Iub24oJ2NsaWNrJywgJ1tkYXRhLWNsb3NlLXNlbGVjdG9yXScsICgpID0+IHtcbiAgICAgIHNlbGVjdG9yLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgJCgnYm9keScpLmFwcGVuZChzZWxlY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S65rOV5YiZ6YCJ5oup5ZmoXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHNob3dMYXdTZWxlY3RvcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyDlpoLmnpzpgInmi6nlmajlt7Lnu4/lrZjlnKjvvIzlhYjnp7vpmaTlroNcbiAgICAkKCcubGF3LXNlbGVjdG9yLW92ZXJsYXknKS5yZW1vdmUoKTtcblxuICAgIC8vIOS7juWPmOmHj+ihqOmHjeaWsOWKoOi9veazleWImeWIl+ihqOWSjOW9k+WJjeazleWIme+8iOehruS/neiOt+WPluacgOaWsOaVsOaNru+8iVxuICAgIGNvbnN0IGdhbWVEYXRhID0gYXdhaXQgcmVhZEdhbWVEYXRhKCk7XG4gICAgdGhpcy5sYXdMaXN0ID0gZ2FtZURhdGEubGF3TGlzdDtcbiAgICB0aGlzLmN1cnJlbnRMYXcgPSBnYW1lRGF0YS5jdXJyZW50TGF3O1xuICAgIHRoaXMuaW5uTGF3ID0gZ2FtZURhdGEuaW5uTGF3IGFzIElubkxhdztcblxuICAgIGNvbnNvbGUubG9nKCfwn5OLIOWKoOi9veazleWImeaVsOaNrjonLCB7XG4gICAgICBsYXdMaXN0OiB0aGlzLmxhd0xpc3QsXG4gICAgICBjdXJyZW50TGF3OiB0aGlzLmN1cnJlbnRMYXcsXG4gICAgICBpbm5MYXc6IHRoaXMuaW5uTGF3LFxuICAgIH0pO1xuXG4gICAgLy8g5aaC5p6c5rOV5YiZ5YiX6KGo5Li656m677yM5L2/55So6buY6K6k5rOV5YiZXG4gICAgaWYgKHRoaXMubGF3TGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOazleWImeWIl+ihqOS4uuepuu+8jOS9v+eUqOm7mOiupOazleWImScpO1xuICAgICAgdGhpcy5sYXdMaXN0ID0gW3sg5rOV5YiZ5ZCNOiAn5Lit56uLJywg5rOV5YiZ5pWI5p6cOiAn5bmz6KGh55qE6a2U5rOV546v5aKDJyB9XTtcbiAgICB9XG5cbiAgICAvLyDkvb/nlKjlvZPliY3ms5XliJnnmoTlkI3np7DmnaXliKTmlq3lk6rkuKrpgInpobnlupTor6Xpq5jkuq5cbiAgICBjb25zdCBjdXJyZW50TGF3TmFtZSA9IHRoaXMuY3VycmVudExhdz8u5rOV5YiZ5ZCNIHx8IHRoaXMuaW5uTGF3O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMubGF3TGlzdFxuICAgICAgLm1hcChcbiAgICAgICAgbGF3ID0+XG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJsYXctb3B0aW9uICR7bGF3LuazleWImeWQjSA9PT0gY3VycmVudExhd05hbWUgPyAnYWN0aXZlJyA6ICcnfVwiIGRhdGEtbGF3PVwiJHtsYXcu5rOV5YiZ5ZCNfVwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImxhdy1uYW1lXCI+JHtsYXcu5rOV5YiZ5ZCNfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJsYXctZGVzY1wiPiR7bGF3LuazleWImeaViOaenH08L3NwYW4+XG4gICAgICA8L2Rpdj5gLFxuICAgICAgKVxuICAgICAgLmpvaW4oJycpO1xuXG4gICAgY29uc3Qgc2VsZWN0b3IgPSAkKGBcbiAgICAgIDxkaXYgY2xhc3M9XCJsYXctc2VsZWN0b3Itb3ZlcmxheVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibGF3LXNlbGVjdG9yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlbGVjdG9yLWhlYWRlclwiPlxuICAgICAgICAgIDxoND7pgInmi6nml4Xppobms5XliJk8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNlbGVjdG9yLWNsb3NlLWJ0blwiIGRhdGEtY2xvc2Utc2VsZWN0b3IgYXJpYS1sYWJlbD1cIuWFs+mXrVwiPlxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGxpbmUgeDE9XCIxOFwiIHkxPVwiNlwiIHgyPVwiNlwiIHkyPVwiMThcIi8+PGxpbmUgeDE9XCI2XCIgeTE9XCI2XCIgeDI9XCIxOFwiIHkyPVwiMThcIi8+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGF3LW9wdGlvbnNcIj4ke29wdGlvbnN9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCk7XG5cbiAgICAvLyDkvb/nlKggb25lKCkg56Gu5L+d5LqL5Lu25Y+q6Kem5Y+R5LiA5qyh77yM5oiW6ICF5L2/55So5ZG95ZCN56m66Ze0XG4gICAgc2VsZWN0b3Iub24oJ2NsaWNrLmxhdy1zZWxlY3RvcicsICcubGF3LW9wdGlvbicsIGFzeW5jIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGxhd05hbWUgPSAkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1sYXcnKSBhcyBJbm5MYXc7XG4gICAgICBpZiAobGF3TmFtZSkge1xuICAgICAgICAvLyDku47ms5XliJnliJfooajkuK3mib7liLDlr7nlupTnmoTms5XliJnlr7nosaFcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRMYXcgPSB0aGlzLmxhd0xpc3QuZmluZChsYXcgPT4gbGF3LuazleWImeWQjSA9PT0gbGF3TmFtZSk7XG4gICAgICAgIGlmIChzZWxlY3RlZExhdyAmJiAoc2VsZWN0ZWRMYXcu5rOV5YiZ5ZCNICE9PSB0aGlzLmlubkxhdyB8fCAhdGhpcy5jdXJyZW50TGF3KSkge1xuICAgICAgICAgIC8vIOabtOaWsCBzdGF0X2RhdGEg5Lit55qE5b2T5YmN5rOV5YiZXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVN0YXREYXRhVmFyaWFibGUoJ+aXheW6ly7ml4Xppobms5XliJku5b2T5YmN5rOV5YiZJywgc2VsZWN0ZWRMYXcpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDmiJDlip/mm7TmlrDlvZPliY3ms5XliJk6Jywgc2VsZWN0ZWRMYXcpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5pu05paw5b2T5YmN5rOV5YiZ5aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmlubkxhdyA9IGxhd05hbWUgYXMgSW5uTGF3O1xuICAgICAgICAgIHRoaXMuY3VycmVudExhdyA9IHNlbGVjdGVkTGF3O1xuICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrcy5vbkxhd0NoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25MYXdDaGFuZ2UobGF3TmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGVjdG9yLnJlbW92ZSgpO1xuICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNlbGVjdG9yLm9uKCdjbGljay5sYXctc2VsZWN0b3InLCAnLmxhdy1zZWxlY3Rvci1vdmVybGF5JywgZSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IHNlbGVjdG9yWzBdKSB7XG4gICAgICAgIHNlbGVjdG9yLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2VsZWN0b3Iub24oJ2NsaWNrLmxhdy1zZWxlY3RvcicsICdbZGF0YS1jbG9zZS1zZWxlY3Rvcl0nLCBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBzZWxlY3Rvci5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgICQoJ2JvZHknKS5hcHBlbmQoc2VsZWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuuWHhuWFpeadoeS7tumAieaLqeWZqFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBzaG93QWNjZXNzTW9kZVNlbGVjdG9yKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIOWmguaenOmAieaLqeWZqOW3sue7j+WtmOWcqO+8jOWFiOenu+mZpOWug1xuICAgICQoJy5sYXctc2VsZWN0b3Itb3ZlcmxheScpLnJlbW92ZSgpO1xuXG4gICAgLy8g5LuO5Y+Y6YeP6KGo6YeN5paw5Yqg6L295YeG5YWl5p2h5Lu25YiX6KGo5ZKM5b2T5YmN5YeG5YWl5p2h5Lu277yI56Gu5L+d6I635Y+W5pyA5paw5pWw5o2u77yJXG4gICAgY29uc3QgZ2FtZURhdGEgPSBhd2FpdCByZWFkR2FtZURhdGEoKTtcbiAgICB0aGlzLmFjY2Vzc01vZGVMaXN0ID0gZ2FtZURhdGEuYWNjZXNzTW9kZUxpc3Q7XG4gICAgdGhpcy5jdXJyZW50QWNjZXNzTW9kZSA9IGdhbWVEYXRhLmN1cnJlbnRBY2Nlc3NNb2RlO1xuXG4gICAgY29uc29sZS5sb2coJ/Cfk4sg5Yqg6L295YeG5YWl5p2h5Lu25pWw5o2uOicsIHtcbiAgICAgIGFjY2Vzc01vZGVMaXN0OiB0aGlzLmFjY2Vzc01vZGVMaXN0LFxuICAgICAgY3VycmVudEFjY2Vzc01vZGU6IHRoaXMuY3VycmVudEFjY2Vzc01vZGUsXG4gICAgfSk7XG5cbiAgICAvLyDlpoLmnpzlh4blhaXmnaHku7bliJfooajkuLrnqbrvvIzkvb/nlKjpu5jorqTlh4blhaXmnaHku7ZcbiAgICBpZiAodGhpcy5hY2Nlc3NNb2RlTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOWHhuWFpeadoeS7tuWIl+ihqOS4uuepuu+8jOS9v+eUqOm7mOiupOWHhuWFpeadoeS7ticpO1xuICAgICAgdGhpcy5hY2Nlc3NNb2RlTGlzdCA9IFtcbiAgICAgICAge1xuICAgICAgICAgIOaooeW8j+WQjeensDogJ+WunuS9k+aYvueOsCcsXG4gICAgICAgICAg5p2h5Lu25o+P6L+wOlxuICAgICAgICAgICAgJ+aXoOadoeS7tuW8gOaUvuOAguaXheW6l+S9nOS4uuWunuS9k+W7uuetkeWtmOWcqOS6juW9k+WcsO+8iOWmgumXueW4guWMuu+8ie+8jOS7u+S9lei3r+i/h+eahOeUn+eJqemDveiDveeci+WIsOaLm+eJjOOAgeWkp+mXqOW5tuaOqOmXqOiAjOWFpeOAgumAguWQiOW5v+e6s+Wuoua6kOOAgicsXG4gICAgICAgIH0sXG4gICAgICBdO1xuICAgIH1cblxuICAgIC8vIOS9v+eUqOW9k+WJjeWHhuWFpeadoeS7tueahOaooeW8j+WQjeensOadpeWIpOaWreWTquS4qumAiemhueW6lOivpemrmOS6rlxuICAgIGNvbnN0IGN1cnJlbnRNb2RlTmFtZSA9IHRoaXMuY3VycmVudEFjY2Vzc01vZGU/LuaooeW8j+WQjeensCB8fCAn5a6e5L2T5pi+546wJztcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmFjY2Vzc01vZGVMaXN0XG4gICAgICAubWFwKFxuICAgICAgICBtb2RlID0+XG4gICAgICAgICAgYDxkaXYgY2xhc3M9XCJsYXctb3B0aW9uICR7bW9kZS7mqKHlvI/lkI3np7AgPT09IGN1cnJlbnRNb2RlTmFtZSA/ICdhY3RpdmUnIDogJyd9XCIgZGF0YS1hY2Nlc3MtbW9kZT1cIiR7bW9kZS7mqKHlvI/lkI3np7B9XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwibGF3LW5hbWVcIj4ke21vZGUu5qih5byP5ZCN56ewfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJsYXctZGVzY1wiPiR7bW9kZS7mnaHku7bmj4/ov7B9PC9zcGFuPlxuICAgICAgPC9kaXY+YCxcbiAgICAgIClcbiAgICAgIC5qb2luKCcnKTtcblxuICAgIGNvbnN0IHNlbGVjdG9yID0gJChgXG4gICAgICA8ZGl2IGNsYXNzPVwibGF3LXNlbGVjdG9yLW92ZXJsYXlcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxhdy1zZWxlY3RvclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3Rvci1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoND7pgInmi6nlh4blhaXmnaHku7Y8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNlbGVjdG9yLWNsb3NlLWJ0blwiIGRhdGEtY2xvc2Utc2VsZWN0b3IgYXJpYS1sYWJlbD1cIuWFs+mXrVwiPlxuICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGxpbmUgeDE9XCIxOFwiIHkxPVwiNlwiIHgyPVwiNlwiIHkyPVwiMThcIi8+PGxpbmUgeDE9XCI2XCIgeTE9XCI2XCIgeDI9XCIxOFwiIHkyPVwiMThcIi8+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGF3LW9wdGlvbnNcIj4ke29wdGlvbnN9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCk7XG5cbiAgICAvLyDkvb/nlKjlkb3lkI3nqbrpl7Tnoa7kv53kuovku7blj6rnu5HlrprkuIDmrKFcbiAgICBzZWxlY3Rvci5vbignY2xpY2suYWNjZXNzLW1vZGUtc2VsZWN0b3InLCAnLmxhdy1vcHRpb24nLCBhc3luYyBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBtb2RlTmFtZSA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLWFjY2Vzcy1tb2RlJyk7XG4gICAgICBpZiAobW9kZU5hbWUpIHtcbiAgICAgICAgLy8g5LuO5YeG5YWl5p2h5Lu25YiX6KGo5Lit5om+5Yiw5a+55bqU55qE5YeG5YWl5p2h5Lu25a+56LGhXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTW9kZSA9IHRoaXMuYWNjZXNzTW9kZUxpc3QuZmluZChtb2RlID0+IG1vZGUu5qih5byP5ZCN56ewID09PSBtb2RlTmFtZSk7XG4gICAgICAgIGlmIChzZWxlY3RlZE1vZGUgJiYgc2VsZWN0ZWRNb2RlLuaooeW8j+WQjeensCAhPT0gdGhpcy5jdXJyZW50QWNjZXNzTW9kZT8u5qih5byP5ZCN56ewKSB7XG4gICAgICAgICAgLy8g5pu05pawIHN0YXRfZGF0YSDkuK3nmoTlvZPliY3lh4blhaXmnaHku7ZcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdXBkYXRlU3RhdERhdGFWYXJpYWJsZSgn5peF5bqXLuWHhuWFpeadoeS7ti7lvZPliY3lh4blhaXmnaHku7YnLCBzZWxlY3RlZE1vZGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSDmiJDlip/mm7TmlrDlvZPliY3lh4blhaXmnaHku7Y6Jywgc2VsZWN0ZWRNb2RlKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOabtOaWsOW9k+WJjeWHhuWFpeadoeS7tuWksei0pTonLCBlcnJvcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5jdXJyZW50QWNjZXNzTW9kZSA9IHNlbGVjdGVkTW9kZTtcbiAgICAgICAgICBzZWxlY3Rvci5yZW1vdmUoKTtcbiAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzZWxlY3Rvci5vbignY2xpY2suYWNjZXNzLW1vZGUtc2VsZWN0b3InLCAnLmxhdy1zZWxlY3Rvci1vdmVybGF5JywgZSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IHNlbGVjdG9yWzBdKSB7XG4gICAgICAgIHNlbGVjdG9yLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2VsZWN0b3Iub24oJ2NsaWNrLmFjY2Vzcy1tb2RlLXNlbGVjdG9yJywgJ1tkYXRhLWNsb3NlLXNlbGVjdG9yXScsIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHNlbGVjdG9yLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgJCgnYm9keScpLmFwcGVuZChzZWxlY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S65aKe5Yqg5rOV5YiZ6KeE5YiZ5a+56K+d5qGGXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHNob3dBZGRMYXdEaWFsb2coKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8g5aaC5p6c5a+56K+d5qGG5bey57uP5a2Y5Zyo77yM5YWI56e76Zmk5a6DXG4gICAgJCgnLmFkZC1ydWxlLWRpYWxvZy1vdmVybGF5JykucmVtb3ZlKCk7XG5cbiAgICBjb25zdCBkaWFsb2cgPSAkKGBcbiAgICAgIDxkaXYgY2xhc3M9XCJhZGQtcnVsZS1kaWFsb2ctb3ZlcmxheVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLXJ1bGUtZGlhbG9nXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoND7lop7liqDml4Xppobms5XliJk8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1jbG9zZS1idG5cIiBkYXRhLWNsb3NlLWRpYWxvZyBhcmlhLWxhYmVsPVwi5YWz6ZetXCI+XG4gICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48bGluZSB4MT1cIjE4XCIgeTE9XCI2XCIgeDI9XCI2XCIgeTI9XCIxOFwiLz48bGluZSB4MT1cIjZcIiB5MT1cIjZcIiB4Mj1cIjE4XCIgeTI9XCIxOFwiLz48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxhdy1uYW1lLWlucHV0XCI+5rOV5YiZ5ZCN56ewPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJsYXctbmFtZS1pbnB1dFwiIGNsYXNzPVwiZm9ybS1pbnB1dFwiIHBsYWNlaG9sZGVyPVwi5L6L5aaC77ya56aB6a2U44CB6auY6a2UXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxhdy1lZmZlY3QtaW5wdXRcIj7ms5XliJnmlYjmnpw8L2xhYmVsPlxuICAgICAgICAgICAgICA8dGV4dGFyZWEgaWQ9XCJsYXctZWZmZWN0LWlucHV0XCIgY2xhc3M9XCJmb3JtLXRleHRhcmVhXCIgcm93cz1cIjNcIiBwbGFjZWhvbGRlcj1cIuaPj+i/sOi/meS4quazleWImeeahOaViOaenC4uLlwiPjwvdGV4dGFyZWE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGlhbG9nLWFjdGlvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJkaWFsb2ctYnRuIGNhbmNlbC1idG5cIiBkYXRhLWNhbmNlbC1kaWFsb2c+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ0biBzYXZlLWJ0blwiIGRhdGEtc2F2ZS1sYXc+5L+d5a2YPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCk7XG5cbiAgICAvLyDnu5Hlrprkv53lrZjkuovku7ZcbiAgICBkaWFsb2cub24oJ2NsaWNrJywgJ1tkYXRhLXNhdmUtbGF3XScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhd05hbWUgPSAoZGlhbG9nLmZpbmQoJyNsYXctbmFtZS1pbnB1dCcpLnZhbCgpIGFzIHN0cmluZyk/LnRyaW0oKTtcbiAgICAgIGNvbnN0IGxhd0VmZmVjdCA9IChkaWFsb2cuZmluZCgnI2xhdy1lZmZlY3QtaW5wdXQnKS52YWwoKSBhcyBzdHJpbmcpPy50cmltKCk7XG5cbiAgICAgIGlmICghbGF3TmFtZSkge1xuICAgICAgICB0b2FzdHIud2FybmluZygn6K+36L6T5YWl5rOV5YiZ5ZCN56ewJywgJ+aPkOekuicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghbGF3RWZmZWN0KSB7XG4gICAgICAgIHRvYXN0ci53YXJuaW5nKCfor7fovpPlhaXms5XliJnmlYjmnpwnLCAn5o+Q56S6Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8g6K+75Y+W5b2T5YmN55qE5rOV5YiZ5YiX6KGo77yI5LyY5YWI5LuO5pyA5paw5qW85bGC6K+75Y+W77yM5aaC5p6c5rKh5pyJ5YiZ5LuOMOWxguivu+WPlu+8iVxuICAgICAgICBjb25zdCBsYXRlc3RNZXNzYWdlSWQgPSBnZXRMYXN0TWVzc2FnZUlkKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldE1lc3NhZ2VJZCA9IGxhdGVzdE1lc3NhZ2VJZCA+PSAwID8gbGF0ZXN0TWVzc2FnZUlkIDogMDtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiB0YXJnZXRNZXNzYWdlSWQgfSk7XG4gICAgICAgIGNvbnN0IHN0YXREYXRhID0gdmFyaWFibGVzPy5zdGF0X2RhdGEgfHwge307XG4gICAgICAgIGNvbnN0IGxhd3NMaXN0UmF3ID0gc3RhdERhdGEu5peF5bqXPy7ml4Xppobms5XliJk/LuazleWImeWIl+ihqCB8fCB7fTtcblxuICAgICAgICAvLyDlpITnkIYgTVZVIOagvOW8jyBb5YC8LCBcIuaPj+i/sFwiXVxuICAgICAgICBsZXQgbGF3c0xpc3Q6IFJlY29yZDxzdHJpbmcsIHsg5rOV5YiZ5pWI5p6cOiBzdHJpbmcgfT4gPSB7fTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGF3c0xpc3RSYXcpICYmIGxhd3NMaXN0UmF3Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsYXdzTGlzdCA9IGxhd3NMaXN0UmF3WzBdIHx8IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsYXdzTGlzdFJhdyA9PT0gJ29iamVjdCcgJiYgbGF3c0xpc3RSYXcgIT09IG51bGwpIHtcbiAgICAgICAgICBsYXdzTGlzdCA9IGxhd3NMaXN0UmF3O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5re75Yqg5paw5rOV5YiZXG4gICAgICAgIGxhd3NMaXN0W2xhd05hbWVdID0geyDms5XliJnmlYjmnpw6IGxhd0VmZmVjdCB9O1xuXG4gICAgICAgIC8vIOabtOaWsOWPmOmHj+ihqFxuICAgICAgICBhd2FpdCB1cGRhdGVTdGF0RGF0YVZhcmlhYmxlKCfml4Xlupcu5peF6aaG5rOV5YiZLuazleWImeWIl+ihqCcsIGxhd3NMaXN0KTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSDmiJDlip/mt7vliqDmlrDms5XliJk6JywgeyDms5XliJnlkI06IGxhd05hbWUsIOazleWImeaViOaenDogbGF3RWZmZWN0IH0pO1xuXG4gICAgICAgIC8vIOmHjeaWsOWKoOi9veaVsOaNruW5tuWIt+aWsOeVjOmdolxuICAgICAgICBhd2FpdCB0aGlzLmxvYWRGcm9tVmFyaWFibGVzKCk7XG4gICAgICAgIGRpYWxvZy5yZW1vdmUoKTtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+azleWImeW3suaIkOWKn+a3u+WKoO+8gScsICfmiJDlip8nKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmt7vliqDms5XliJnlpLHotKU6JywgZXJyb3IpO1xuICAgICAgICB0b2FzdHIuZXJyb3IoJ+a3u+WKoOazleWImeWksei0pe+8jOivt+mHjeivlScsICfplJnor68nKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOe7keWumuWPlua2iOWSjOWFs+mXreS6i+S7tlxuICAgIGRpYWxvZy5vbignY2xpY2snLCAnW2RhdGEtY2FuY2VsLWRpYWxvZ10sIFtkYXRhLWNsb3NlLWRpYWxvZ10sIC5hZGQtcnVsZS1kaWFsb2ctb3ZlcmxheScsIGUgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBkaWFsb2dbMF0gfHwgJChlLnRhcmdldCkuY2xvc2VzdCgnW2RhdGEtY2FuY2VsLWRpYWxvZ10sIFtkYXRhLWNsb3NlLWRpYWxvZ10nKS5sZW5ndGgpIHtcbiAgICAgICAgZGlhbG9nLnJlbW92ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g54K55Ye75a+56K+d5qGG5YaF5a655pe25LiN5YWz6ZetXG4gICAgZGlhbG9nLm9uKCdjbGljaycsICcuYWRkLXJ1bGUtZGlhbG9nJywgZSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuXG4gICAgJCgnYm9keScpLmFwcGVuZChkaWFsb2cpO1xuICAgIC8vIOiBmueEpuWIsOesrOS4gOS4qui+k+WFpeahhlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZGlhbG9nLmZpbmQoJyNsYXctbmFtZS1pbnB1dCcpLmZvY3VzKCk7XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrlop7liqDlh4blhaXmnaHku7bop4TliJnlr7nor53moYZcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2hvd0FkZEFjY2Vzc01vZGVEaWFsb2coKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8g5aaC5p6c5a+56K+d5qGG5bey57uP5a2Y5Zyo77yM5YWI56e76Zmk5a6DXG4gICAgJCgnLmFkZC1ydWxlLWRpYWxvZy1vdmVybGF5JykucmVtb3ZlKCk7XG5cbiAgICBjb25zdCBkaWFsb2cgPSAkKGBcbiAgICAgIDxkaXYgY2xhc3M9XCJhZGQtcnVsZS1kaWFsb2ctb3ZlcmxheVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYWRkLXJ1bGUtZGlhbG9nXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoND7lop7liqDlh4blhaXmnaHku7Y8L2g0PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1jbG9zZS1idG5cIiBkYXRhLWNsb3NlLWRpYWxvZyBhcmlhLWxhYmVsPVwi5YWz6ZetXCI+XG4gICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48bGluZSB4MT1cIjE4XCIgeTE9XCI2XCIgeDI9XCI2XCIgeTI9XCIxOFwiLz48bGluZSB4MT1cIjZcIiB5MT1cIjZcIiB4Mj1cIjE4XCIgeTI9XCIxOFwiLz48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaWFsb2ctY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImFjY2Vzcy1tb2RlLW5hbWUtaW5wdXRcIj7mqKHlvI/lkI3np7A8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImFjY2Vzcy1tb2RlLW5hbWUtaW5wdXRcIiBjbGFzcz1cImZvcm0taW5wdXRcIiBwbGFjZWhvbGRlcj1cIuS+i+Wmgu+8muWunuS9k+aYvueOsOOAgee7neWig+aVkei1jlwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJhY2Nlc3MtbW9kZS1kZXNjLWlucHV0XCI+5p2h5Lu25o+P6L+wPC9sYWJlbD5cbiAgICAgICAgICAgICAgPHRleHRhcmVhIGlkPVwiYWNjZXNzLW1vZGUtZGVzYy1pbnB1dFwiIGNsYXNzPVwiZm9ybS10ZXh0YXJlYVwiIHJvd3M9XCIzXCIgcGxhY2Vob2xkZXI9XCLmj4/ov7Dov5nkuKrlh4blhaXmnaHku7bnmoTor6bnu4bor7TmmI4uLi5cIj48L3RleHRhcmVhPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpYWxvZy1hY3Rpb25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGlhbG9nLWJ0biBjYW5jZWwtYnRuXCIgZGF0YS1jYW5jZWwtZGlhbG9nPuWPlua2iDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpYWxvZy1idG4gc2F2ZS1idG5cIiBkYXRhLXNhdmUtYWNjZXNzLW1vZGU+5L+d5a2YPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYCk7XG5cbiAgICAvLyDnu5Hlrprkv53lrZjkuovku7ZcbiAgICBkaWFsb2cub24oJ2NsaWNrJywgJ1tkYXRhLXNhdmUtYWNjZXNzLW1vZGVdJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9kZU5hbWUgPSAoZGlhbG9nLmZpbmQoJyNhY2Nlc3MtbW9kZS1uYW1lLWlucHV0JykudmFsKCkgYXMgc3RyaW5nKT8udHJpbSgpO1xuICAgICAgY29uc3QgbW9kZURlc2MgPSAoZGlhbG9nLmZpbmQoJyNhY2Nlc3MtbW9kZS1kZXNjLWlucHV0JykudmFsKCkgYXMgc3RyaW5nKT8udHJpbSgpO1xuXG4gICAgICBpZiAoIW1vZGVOYW1lKSB7XG4gICAgICAgIHRvYXN0ci53YXJuaW5nKCfor7fovpPlhaXmqKHlvI/lkI3np7AnLCAn5o+Q56S6Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFtb2RlRGVzYykge1xuICAgICAgICB0b2FzdHIud2FybmluZygn6K+36L6T5YWl5p2h5Lu25o+P6L+wJywgJ+aPkOekuicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIOivu+WPluW9k+WJjeeahOWHhuWFpeadoeS7tuWIl+ihqO+8iOS8mOWFiOS7juacgOaWsOalvOWxguivu+WPlu+8jOWmguaenOayoeacieWImeS7jjDlsYLor7vlj5bvvIlcbiAgICAgICAgY29uc3QgbGF0ZXN0TWVzc2FnZUlkID0gZ2V0TGFzdE1lc3NhZ2VJZCgpO1xuICAgICAgICBjb25zdCB0YXJnZXRNZXNzYWdlSWQgPSBsYXRlc3RNZXNzYWdlSWQgPj0gMCA/IGxhdGVzdE1lc3NhZ2VJZCA6IDA7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IGdldFZhcmlhYmxlcyh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogdGFyZ2V0TWVzc2FnZUlkIH0pO1xuICAgICAgICBjb25zdCBzdGF0RGF0YSA9IHZhcmlhYmxlcz8uc3RhdF9kYXRhIHx8IHt9O1xuICAgICAgICBjb25zdCBhY2Nlc3NNb2RlTGlzdFJhdyA9IHN0YXREYXRhLuaXheW6lz8u5YeG5YWl5p2h5Lu2Py7lh4blhaXmnaHku7bliJfooaggfHwge307XG5cbiAgICAgICAgLy8g5aSE55CGIE1WVSDmoLzlvI8gW+WAvCwgXCLmj4/ov7BcIl1cbiAgICAgICAgbGV0IGFjY2Vzc01vZGVMaXN0OiBSZWNvcmQ8c3RyaW5nLCB7IOadoeS7tuaPj+i/sDogc3RyaW5nIH0+ID0ge307XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFjY2Vzc01vZGVMaXN0UmF3KSAmJiBhY2Nlc3NNb2RlTGlzdFJhdy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgYWNjZXNzTW9kZUxpc3QgPSBhY2Nlc3NNb2RlTGlzdFJhd1swXSB8fCB7fTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYWNjZXNzTW9kZUxpc3RSYXcgPT09ICdvYmplY3QnICYmIGFjY2Vzc01vZGVMaXN0UmF3ICE9PSBudWxsKSB7XG4gICAgICAgICAgYWNjZXNzTW9kZUxpc3QgPSBhY2Nlc3NNb2RlTGlzdFJhdztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOa3u+WKoOaWsOWHhuWFpeadoeS7tlxuICAgICAgICBhY2Nlc3NNb2RlTGlzdFttb2RlTmFtZV0gPSB7IOadoeS7tuaPj+i/sDogbW9kZURlc2MgfTtcblxuICAgICAgICAvLyDmm7TmlrDlj5jph4/ooahcbiAgICAgICAgYXdhaXQgdXBkYXRlU3RhdERhdGFWYXJpYWJsZSgn5peF5bqXLuWHhuWFpeadoeS7ti7lh4blhaXmnaHku7bliJfooagnLCBhY2Nlc3NNb2RlTGlzdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUg5oiQ5Yqf5re75Yqg5paw5YeG5YWl5p2h5Lu2OicsIHsg5qih5byP5ZCN56ewOiBtb2RlTmFtZSwg5p2h5Lu25o+P6L+wOiBtb2RlRGVzYyB9KTtcblxuICAgICAgICAvLyDph43mlrDliqDovb3mlbDmja7lubbliLfmlrDnlYzpnaJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkRnJvbVZhcmlhYmxlcygpO1xuICAgICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKCflh4blhaXmnaHku7blt7LmiJDlip/mt7vliqDvvIEnLCAn5oiQ5YqfJyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg5re75Yqg5YeG5YWl5p2h5Lu25aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3RyLmVycm9yKCfmt7vliqDlh4blhaXmnaHku7blpLHotKXvvIzor7fph43or5UnLCAn6ZSZ6K+vJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDnu5Hlrprlj5bmtojlkozlhbPpl63kuovku7ZcbiAgICBkaWFsb2cub24oJ2NsaWNrJywgJ1tkYXRhLWNhbmNlbC1kaWFsb2ddLCBbZGF0YS1jbG9zZS1kaWFsb2ddLCAuYWRkLXJ1bGUtZGlhbG9nLW92ZXJsYXknLCBlID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PT0gZGlhbG9nWzBdIHx8ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ1tkYXRhLWNhbmNlbC1kaWFsb2ddLCBbZGF0YS1jbG9zZS1kaWFsb2ddJykubGVuZ3RoKSB7XG4gICAgICAgIGRpYWxvZy5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOeCueWHu+WvueivneahhuWGheWuueaXtuS4jeWFs+mXrVxuICAgIGRpYWxvZy5vbignY2xpY2snLCAnLmFkZC1ydWxlLWRpYWxvZycsIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcblxuICAgICQoJ2JvZHknKS5hcHBlbmQoZGlhbG9nKTtcbiAgICAvLyDogZrnhKbliLDnrKzkuIDkuKrovpPlhaXmoYZcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRpYWxvZy5maW5kKCcjYWNjZXNzLW1vZGUtbmFtZS1pbnB1dCcpLmZvY3VzKCk7XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDml4XlupflkI3lrZdcbiAgICovXG4gIHB1YmxpYyB1cGRhdGVJbm5OYW1lKGlubk5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuaW5uTmFtZSA9IGlubk5hbWU7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgY29uc3QgaW5uTmFtZUVsZW1lbnQgPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnW2RhdGEtaW5uLW5hbWVdJyk7XG4gICAgICBpZiAoaW5uTmFtZUVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgIGlubk5hbWVFbGVtZW50LnRleHQoaW5uTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOmUgOavgee7hOS7tlxuICAgKi9cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/Dashboard.ts\n\n}');
  },
  "./src/mhjg/components/Navigation.scss": 
  /*!*********************************************!*\
  !*** ./src/mhjg/components/Navigation.scss ***!
  \*********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL05hdmlnYXRpb24uc2NzcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvTmF2aWdhdGlvbi5zY3NzPzM5NzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/components/Navigation.scss\n\n}");
  },
  "./src/mhjg/components/Navigation.ts": 
  /*!*******************************************!*\
  !*** ./src/mhjg/components/Navigation.ts ***!
  \*******************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Navigation: () => (/* binding */ Navigation)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/mhjg/types.ts");\n/* harmony import */ var _Navigation_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Navigation.scss */ "./src/mhjg/components/Navigation.scss");\n\n\nclass Navigation {\n    element = null;\n    activeTab = _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.DASHBOARD;\n    callbacks;\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n    }\n    /**\n     * åˆ›å»ºå¯¼èˆªæ HTMLç»“æ„\n     */\n    createElement() {\n        const nav = document.createElement(\'nav\');\n        nav.className = \'mhjg-navigation\';\n        nav.innerHTML = this.getNavigationHTML();\n        this.element = nav;\n        this.bindEvents();\n        return nav;\n    }\n    /**\n     * è·å–å¯¼èˆªæ HTML\n     */\n    getNavigationHTML() {\n        const navItems = [\n            { id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.DASHBOARD, label: \'æ€»è§ˆ\', icon: \'dashboard\' },\n            { id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.STORY, label: \'é­”å…¸\', icon: \'book\' },\n            { id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.GUESTS, label: \'å®¾å®¢\', icon: \'users\' },\n            { id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.STAFF, label: \'å‘˜å·¥\', icon: \'users\' },\n            { id: _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.BUILD, label: \'æ‰©å»º\', icon: \'hammer\' },\n        ];\n        const navItemsHTML = navItems.map(item => {\n            const isActive = this.activeTab === item.id;\n            return `\r\n        <button\r\n          class="nav-item ${isActive ? \'active\' : \'\'}"\r\n          data-tab="${item.id}"\r\n          aria-label="${item.label}"\r\n        >\r\n          <div class="nav-icon">\r\n            ${this.getIconSVG(item.icon)}\r\n          </div>\r\n          <span class="nav-label">${item.label}</span>\r\n        </button>\r\n      `;\n        }).join(\'\');\n        return `\r\n      <div class="nav-logo" id="nav-settings-btn">\r\n        <div class="logo-bg"></div>\r\n        ${this.getSettingsIcon()}\r\n      </div>\r\n      <div class="nav-items">\r\n        ${navItemsHTML}\r\n      </div>\r\n      <div class="nav-status">\r\n        <div class="status-indicator"></div>\r\n        <span class="status-text">åœ¨çº¿</span>\r\n      </div>\r\n    `;\n    }\n    /**\n     * è·å–å›¾æ ‡SVG\n     */\n    getIconSVG(iconName) {\n        const icons = {\n            dashboard: \'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>\',\n            book: \'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>\',\n            users: \'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>\',\n            utensils: \'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3z"/><path d="M21 15v7"/></svg>\',\n            hammer: \'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m14.91 7.79 1.77-1.77a1.49 1.49 0 0 0 0-2.12l-3.54-3.54a1.49 1.49 0 0 0-2.12 0L9.12 4.23"/><path d="m8.53 12.91 5.38 5.38"/></svg>\',\n        };\n        return icons[iconName] || \'\';\n    }\n    /**\n     * è·å–è®¾ç½®å›¾æ ‡ï¼ˆç³»ç»Ÿå›¾æ ‡ï¼‰\n     */\n    getSettingsIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="logo-icon"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6m9-9h-6m-6 0H3m15.364 6.364-4.243-4.243m-4.242-4.242-4.243 4.243m4.242 4.242 4.243-4.243"/></svg>\';\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        $(this.element).on(\'click\', \'.nav-item\', (e) => {\n            const button = e.currentTarget;\n            const tab = button.getAttribute(\'data-tab\');\n            if (tab) {\n                this.setActiveTab(tab);\n                this.callbacks.onTabChange(tab);\n            }\n        });\n        // è®¾ç½®æŒ‰é’®ç‚¹å‡»äº‹ä»¶\n        $(this.element).on(\'click\', \'#nav-settings-btn\', () => {\n            this.showSettings();\n        });\n    }\n    /**\n     * æ˜¾ç¤ºè®¾ç½®é¡µé¢\n     */\n    showSettings() {\n        // åŠ¨æ€å¯¼å…¥è®¾ç½®æ¨¡æ€æ¡†\n        Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./modals/SettingsModal */ "./src/mhjg/components/modals/SettingsModal.ts")).then(({ SettingsModal }) => {\n            const settingsModal = new SettingsModal({\n                onClose: () => {\n                    settingsModal.destroy();\n                },\n            });\n            settingsModal.show();\n        });\n    }\n    /**\n     * è®¾ç½®æ´»åŠ¨æ ‡ç­¾é¡µ\n     */\n    setActiveTab(tab) {\n        this.activeTab = tab;\n        this.updateActiveState();\n    }\n    /**\n     * æ›´æ–°æ´»åŠ¨çŠ¶æ€\n     */\n    updateActiveState() {\n        if (!this.element)\n            return;\n        $(this.element).find(\'.nav-item\').each((_, el) => {\n            const $el = $(el);\n            const tab = $el.attr(\'data-tab\');\n            if (tab === this.activeTab) {\n                $el.addClass(\'active\');\n            }\n            else {\n                $el.removeClass(\'active\');\n            }\n        });\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQy9DLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNsQixNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBWSxDQUFDO1lBQzVDLElBQUksR0FBRyxLQUFLLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDM0IsR0FBRyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN6QixDQUFDO2lCQUFNLENBQUM7Z0JBQ04sR0FBRyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM1QixDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxPQUFPO1FBQ1osSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvTmF2aWdhdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHYW1lVGFiIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5pbXBvcnQgJy4vTmF2aWdhdGlvbi5zY3NzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvbkNhbGxiYWNrcyB7XHJcbiAgb25UYWJDaGFuZ2U6ICh0YWI6IEdhbWVUYWIpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uIHtcclxuICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBhY3RpdmVUYWI6IEdhbWVUYWIgPSBHYW1lVGFiLkRBU0hCT0FSRDtcclxuICBwcml2YXRlIGNhbGxiYWNrczogTmF2aWdhdGlvbkNhbGxiYWNrcztcclxuXHJcbiAgY29uc3RydWN0b3IoY2FsbGJhY2tzOiBOYXZpZ2F0aW9uQ2FsbGJhY2tzKSB7XHJcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWIm+W7uuWvvOiIquagj0hUTUznu5PmnoRcclxuICAgKi9cclxuICBwdWJsaWMgY3JlYXRlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBuYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCduYXYnKTtcclxuICAgIG5hdi5jbGFzc05hbWUgPSAnbWhqZy1uYXZpZ2F0aW9uJztcclxuICAgIG5hdi5pbm5lckhUTUwgPSB0aGlzLmdldE5hdmlnYXRpb25IVE1MKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBuYXY7XHJcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgIHJldHVybiBuYXY7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blr7zoiKrmoI9IVE1MXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXROYXZpZ2F0aW9uSFRNTCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgbmF2SXRlbXMgPSBbXHJcbiAgICAgIHsgaWQ6IEdhbWVUYWIuREFTSEJPQVJELCBsYWJlbDogJ+aAu+iniCcsIGljb246ICdkYXNoYm9hcmQnIH0sXHJcbiAgICAgIHsgaWQ6IEdhbWVUYWIuU1RPUlksIGxhYmVsOiAn6a2U5YW4JywgaWNvbjogJ2Jvb2snIH0sXHJcbiAgICAgIHsgaWQ6IEdhbWVUYWIuR1VFU1RTLCBsYWJlbDogJ+WuvuWuoicsIGljb246ICd1c2VycycgfSxcclxuICAgICAgeyBpZDogR2FtZVRhYi5TVEFGRiwgbGFiZWw6ICflkZjlt6UnLCBpY29uOiAndXNlcnMnIH0sXHJcbiAgICAgIHsgaWQ6IEdhbWVUYWIuQlVJTEQsIGxhYmVsOiAn5omp5bu6JywgaWNvbjogJ2hhbW1lcicgfSxcclxuICAgIF07XHJcblxyXG4gICAgY29uc3QgbmF2SXRlbXNIVE1MID0gbmF2SXRlbXMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICBjb25zdCBpc0FjdGl2ZSA9IHRoaXMuYWN0aXZlVGFiID09PSBpdGVtLmlkO1xyXG4gICAgICByZXR1cm4gYFxyXG4gICAgICAgIDxidXR0b25cclxuICAgICAgICAgIGNsYXNzPVwibmF2LWl0ZW0gJHtpc0FjdGl2ZSA/ICdhY3RpdmUnIDogJyd9XCJcclxuICAgICAgICAgIGRhdGEtdGFiPVwiJHtpdGVtLmlkfVwiXHJcbiAgICAgICAgICBhcmlhLWxhYmVsPVwiJHtpdGVtLmxhYmVsfVwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5hdi1pY29uXCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5nZXRJY29uU1ZHKGl0ZW0uaWNvbil9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmF2LWxhYmVsXCI+JHtpdGVtLmxhYmVsfTwvc3Bhbj5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgYDtcclxuICAgIH0pLmpvaW4oJycpO1xyXG5cclxuICAgIHJldHVybiBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJuYXYtbG9nb1wiIGlkPVwibmF2LXNldHRpbmdzLWJ0blwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvLWJnXCI+PC9kaXY+XHJcbiAgICAgICAgJHt0aGlzLmdldFNldHRpbmdzSWNvbigpfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm5hdi1pdGVtc1wiPlxyXG4gICAgICAgICR7bmF2SXRlbXNIVE1MfVxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm5hdi1zdGF0dXNcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdHVzLWluZGljYXRvclwiPjwvZGl2PlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdHVzLXRleHRcIj7lnKjnur88L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluWbvuagh1NWR1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0SWNvblNWRyhpY29uTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBkYXNoYm9hcmQ6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIyXCIgaGVpZ2h0PVwiMjJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHJlY3QgeD1cIjNcIiB5PVwiM1wiIHdpZHRoPVwiN1wiIGhlaWdodD1cIjdcIi8+PHJlY3QgeD1cIjE0XCIgeT1cIjNcIiB3aWR0aD1cIjdcIiBoZWlnaHQ9XCI3XCIvPjxyZWN0IHg9XCIxNFwiIHk9XCIxNFwiIHdpZHRoPVwiN1wiIGhlaWdodD1cIjdcIi8+PHJlY3QgeD1cIjNcIiB5PVwiMTRcIiB3aWR0aD1cIjdcIiBoZWlnaHQ9XCI3XCIvPjwvc3ZnPicsXHJcbiAgICAgIGJvb2s6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIyXCIgaGVpZ2h0PVwiMjJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk00IDE5LjV2LTE1QTIuNSAyLjUgMCAwIDEgNi41IDJIMjB2MjBINi41YTIuNSAyLjUgMCAwIDEgMC01SDIwXCIvPjwvc3ZnPicsXHJcbiAgICAgIHVzZXJzOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMlwiIGhlaWdodD1cIjIyXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MlwiLz48Y2lyY2xlIGN4PVwiOVwiIGN5PVwiN1wiIHI9XCI0XCIvPjxwYXRoIGQ9XCJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44N1wiLz48cGF0aCBkPVwiTTE2IDMuMTNhNCA0IDAgMCAxIDAgNy43NVwiLz48L3N2Zz4nLFxyXG4gICAgICB1dGVuc2lsczogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjJcIiBoZWlnaHQ9XCIyMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTMgMnY3YzAgMS4xLjkgMiAyIDJoNGEyIDIgMCAwIDAgMi0yVjJcIi8+PHBhdGggZD1cIk03IDJ2MjBcIi8+PHBhdGggZD1cIk0yMSAxNVYydjBhNSA1IDAgMCAwLTUgNXY2YzAgMS4xLjkgMiAyIDJoM3pcIi8+PHBhdGggZD1cIk0yMSAxNXY3XCIvPjwvc3ZnPicsXHJcbiAgICAgIGhhbW1lcjogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjJcIiBoZWlnaHQ9XCIyMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwibTE1IDEyLTguNSA4LjVjLS44My44My0yLjE3LjgzLTMgMCAwIDAgMCAwIDAgMGEyLjEyIDIuMTIgMCAwIDEgMC0zTDEyIDlcIi8+PHBhdGggZD1cIk0xNy42NCAxNSAyMiAxMC42NFwiLz48cGF0aCBkPVwibTE0LjkxIDcuNzkgMS43Ny0xLjc3YTEuNDkgMS40OSAwIDAgMCAwLTIuMTJsLTMuNTQtMy41NGExLjQ5IDEuNDkgMCAwIDAtMi4xMiAwTDkuMTIgNC4yM1wiLz48cGF0aCBkPVwibTguNTMgMTIuOTEgNS4zOCA1LjM4XCIvPjwvc3ZnPicsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGljb25zW2ljb25OYW1lXSB8fCAnJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluiuvue9ruWbvuagh++8iOezu+e7n+Wbvuagh++8iVxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0U2V0dGluZ3NJY29uKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImxvZ28taWNvblwiPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiM1wiLz48cGF0aCBkPVwiTTEyIDF2Nm0wIDZ2Nm05LTloLTZtLTYgMEgzbTE1LjM2NCA2LjM2NC00LjI0My00LjI0M20tNC4yNDItNC4yNDItNC4yNDMgNC4yNDNtNC4yNDIgNC4yNDIgNC4yNDMtNC4yNDNcIi8+PC9zdmc+JztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOe7keWumuS6i+S7tlxyXG4gICAqL1xyXG4gIHByaXZhdGUgYmluZEV2ZW50cygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcubmF2LWl0ZW0nLCAoZSkgPT4ge1xyXG4gICAgICBjb25zdCBidXR0b24gPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IHRhYiA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiJykgYXMgR2FtZVRhYjtcclxuICAgICAgaWYgKHRhYikge1xyXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiKHRhYik7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25UYWJDaGFuZ2UodGFiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g6K6+572u5oyJ6ZKu54K55Ye75LqL5Lu2XHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJyNuYXYtc2V0dGluZ3MtYnRuJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLnNob3dTZXR0aW5ncygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmmL7npLrorr7nva7pobXpnaJcclxuICAgKi9cclxuICBwcml2YXRlIHNob3dTZXR0aW5ncygpOiB2b2lkIHtcclxuICAgIC8vIOWKqOaAgeWvvOWFpeiuvue9ruaooeaAgeahhlxyXG4gICAgaW1wb3J0KCcuL21vZGFscy9TZXR0aW5nc01vZGFsJykudGhlbigoeyBTZXR0aW5nc01vZGFsIH0pID0+IHtcclxuICAgICAgY29uc3Qgc2V0dGluZ3NNb2RhbCA9IG5ldyBTZXR0aW5nc01vZGFsKHtcclxuICAgICAgICBvbkNsb3NlOiAoKSA9PiB7XHJcbiAgICAgICAgICBzZXR0aW5nc01vZGFsLmRlc3Ryb3koKTtcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgc2V0dGluZ3NNb2RhbC5zaG93KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiuvue9rua0u+WKqOagh+etvumhtVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXRBY3RpdmVUYWIodGFiOiBHYW1lVGFiKTogdm9pZCB7XHJcbiAgICB0aGlzLmFjdGl2ZVRhYiA9IHRhYjtcclxuICAgIHRoaXMudXBkYXRlQWN0aXZlU3RhdGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOabtOaWsOa0u+WKqOeKtuaAgVxyXG4gICAqL1xyXG4gIHByaXZhdGUgdXBkYXRlQWN0aXZlU3RhdGUoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcubmF2LWl0ZW0nKS5lYWNoKChfLCBlbCkgPT4ge1xyXG4gICAgICBjb25zdCAkZWwgPSAkKGVsKTtcclxuICAgICAgY29uc3QgdGFiID0gJGVsLmF0dHIoJ2RhdGEtdGFiJykgYXMgR2FtZVRhYjtcclxuICAgICAgaWYgKHRhYiA9PT0gdGhpcy5hY3RpdmVUYWIpIHtcclxuICAgICAgICAkZWwuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6ZSA5q+B57uE5Lu2XHJcbiAgICovXHJcbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5vZmYoKTtcclxuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/Navigation.ts\n\n}');
  },
  "./src/mhjg/components/NewGameSetup.scss": 
  /*!***********************************************!*\
  !*** ./src/mhjg/components/NewGameSetup.scss ***!
  \***********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL05ld0dhbWVTZXR1cC5zY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9OZXdHYW1lU2V0dXAuc2Nzcz8xMzcwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/NewGameSetup.scss\n\n}");
  },
  "./src/mhjg/components/NewGameSetup.ts": 
  /*!*********************************************!*\
  !*** ./src/mhjg/components/NewGameSetup.ts ***!
  \*********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NewGameSetup: () => (/* binding */ NewGameSetup)\n/* harmony export */ });\n/* harmony import */ var _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/gameConfig */ "./src/mhjg/types/gameConfig.ts");\n/* harmony import */ var _NewGameSetup_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NewGameSetup.scss */ "./src/mhjg/components/NewGameSetup.scss");\n\n\nclass NewGameSetup {\n    element = null;\n    callbacks;\n    config = {\n        innName: _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.RANDOM_INN_NAMES[0],\n        innStyle: \'oak\',\n        startingWorld: \'fantasy\',\n        startingPerk: \'wealth\',\n        accessMode: \'physical\',\n        seed: Date.now(),\n    };\n    fullscreenListenerAttached = false;\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n    }\n    /**\n     * åˆ›å»ºç»„ä»¶HTMLç»“æ„\n     */\n    createElement() {\n        const container = document.createElement(\'div\');\n        container.className = \'new-game-setup\';\n        container.innerHTML = this.getHTML();\n        this.element = container;\n        this.bindEvents();\n        // åŠ¨ç”»å…¥åœº\n        requestAnimationFrame(() => {\n            container.classList.add(\'visible\');\n        });\n        return container;\n    }\n    /**\n     * è·å–HTMLå†…å®¹\n     */\n    getHTML() {\n        return `\r\n      <div class="setup-bg"></div>\r\n      <div class="setup-particles"></div>\r\n      \r\n      <div class="setup-container">\r\n        <div class="setup-utility-buttons">\r\n          <button class="setup-utility-btn setup-fullscreen-btn" data-fullscreen-btn aria-label="åˆ‡æ¢å…¨å±" title="åˆ‡æ¢å…¨å±">\r\n            ${this.getFullscreenIcon()}\r\n          </button>\r\n        </div>\r\n        \r\n        <header class="setup-header">\r\n            <div class="header-left">\r\n                <button class="back-btn" data-action="cancel">\r\n                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>\r\n                    <span>è¿”å›</span>\r\n                </button>\r\n                <h1 class="page-title">åˆ›å»ºæ–°æ—…åº—</h1>\r\n            </div>\r\n        </header>\r\n\r\n        <div class="setup-content">\r\n            <div class="setup-form-scroll">\r\n                ${this.getFormHTML()}\r\n            </div>\r\n            \r\n            <div class="preview-panel">\r\n                <div class="preview-header">\r\n                    <h3>å¥‘çº¦é¢„è§ˆ</h3>\r\n                </div>\r\n                <div class="preview-content" id="preview-content">\r\n                    ${this.getPreviewContentHTML()}\r\n                </div>\r\n                <div class="preview-footer">\r\n                    <button class="confirm-btn" data-action="confirm">ç­¾ç½²å¥‘çº¦ (å¼€å§‹æ¸¸æˆ)</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * è·å–è¡¨å•HTML\n     */\n    getFormHTML() {\n        return `\r\n      \x3c!-- 1. Inn Name --\x3e\r\n      <div class="form-section">\r\n        <div class="section-header">\r\n            <div class="step-number">1</div>\r\n            <div class="section-title">æ—…åº—å‘½å</div>\r\n        </div>\r\n        <div class="input-group">\r\n            <input type="text" id="inn-name" value="${this.config.innName}" placeholder="è¾“å…¥æ—…åº—åç§°..." maxlength="30">\r\n            <button class="random-btn" data-action="random-name" title="éšæœºç”Ÿæˆ">\r\n                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>\r\n            </button>\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- 2. World Selection --\x3e\r\n      <div class="form-section">\r\n        <div class="section-header">\r\n            <div class="step-number">2</div>\r\n            <div class="section-title">é€‰æ‹©ä¸–ç•Œä½é¢</div>\r\n        </div>\r\n        <div class="cards-grid">\r\n            ${_types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS.map(world => `\r\n                <label class="selection-card ${this.config.startingWorld === world.id ? \'selected\' : \'\'}">\r\n                    <input type="radio" name="world" value="${world.id}" ${this.config.startingWorld === world.id ? \'checked\' : \'\'}>\r\n                    <div class="card-icon">\r\n                        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></svg>\r\n                    </div>\r\n                    <div class="card-title">${world.name}</div>\r\n                    <div class="card-desc">${world.desc}</div>\r\n                </label>\r\n            `).join(\'\')}\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- 3. Inn Style --\x3e\r\n      <div class="form-section">\r\n        <div class="section-header">\r\n            <div class="step-number">3</div>\r\n            <div class="section-title">åˆå§‹æ—…åº—é£æ ¼</div>\r\n        </div>\r\n        <div class="cards-grid">\r\n            ${_types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS.map(style => `\r\n                <label class="selection-card ${this.config.innStyle === style.id ? \'selected\' : \'\'}">\r\n                    <input type="radio" name="inn-style" value="${style.id}" ${this.config.innStyle === style.id ? \'checked\' : \'\'}>\r\n                    <div class="card-icon">\r\n                        ${this.getInnStyleIcon(style.icon)}\r\n                    </div>\r\n                    <div class="card-title">${style.name}</div>\r\n                    <div class="card-desc">${style.desc}</div>\r\n                </label>\r\n            `).join(\'\')}\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- 4. Starting Perk --\x3e\r\n      <div class="form-section">\r\n        <div class="section-header">\r\n            <div class="step-number">4</div>\r\n            <div class="section-title">åˆå§‹æ©èµ</div>\r\n        </div>\r\n        <div class="cards-grid">\r\n            ${_types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS.map(perk => `\r\n                <label class="selection-card ${this.config.startingPerk === perk.id ? \'selected\' : \'\'}">\r\n                    <input type="radio" name="perk" value="${perk.id}" ${this.config.startingPerk === perk.id ? \'checked\' : \'\'}>\r\n                    <div class="card-icon">\r\n                        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>\r\n                    </div>\r\n                    <div class="card-title">${perk.name}</div>\r\n                    <div class="card-desc">${perk.desc}</div>\r\n                </label>\r\n            `).join(\'\')}\r\n        </div>\r\n      </div>\r\n\r\n      \x3c!-- 5. Access Mode --\x3e\r\n      <div class="form-section">\r\n        <div class="section-header">\r\n            <div class="step-number">5</div>\r\n            <div class="section-title">å‡†å…¥æ¡ä»¶</div>\r\n        </div>\r\n        <div class="cards-grid">\r\n            ${_types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS.map(mode => `\r\n                <label class="selection-card ${this.config.accessMode === mode.id ? \'selected\' : \'\'}">\r\n                    <input type="radio" name="access-mode" value="${mode.id}" ${this.config.accessMode === mode.id ? \'checked\' : \'\'}>\r\n                    <div class="card-icon">\r\n                        ${this.getAccessModeIcon(mode.icon)}\r\n                    </div>\r\n                    <div class="card-title">${mode.mode_name}</div>\r\n                    <div class="card-desc">${mode.condition}</div>\r\n                </label>\r\n            `).join(\'\')}\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * è·å–æ—…åº—é£æ ¼å›¾æ ‡\n     */\n    getInnStyleIcon(iconName) {\n        const icons = {\n            oak: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12h18M3 6h18M3 18h18"/><path d="M6 3v18M18 3v18"/><path d="M9 9h6v6H9z"/><circle cx="12" cy="12" r="2"/></svg>\',\n            street: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 3v18"/><circle cx="12" cy="12" r="2"/><path d="M6 6h12v12H6z"/></svg>\',\n            crimson: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16v16H4z"/><path d="M4 8h16M8 4v16"/><path d="M12 12h4v4h-4z"/><circle cx="10" cy="10" r="1"/><circle cx="14" cy="14" r="1"/></svg>\',\n            bamboo: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12h18M3 6h18M3 18h18"/><path d="M6 3v18M18 3v18"/><circle cx="12" cy="12" r="3"/><path d="M9 9l6 6M15 9l-6 6"/></svg>\',\n        };\n        return icons[iconName] || icons.oak;\n    }\n    /**\n     * è·å–å‡†å…¥æ¡ä»¶å›¾æ ‡\n     */\n    getAccessModeIcon(iconName) {\n        const icons = {\n            door: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><path d="M9 4v18"/><path d="M9 12h6"/></svg>\',\n            heart: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 4c-1.76 0 3 .5 4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 11 8.5c0 2.29 1.51 4.04 3 5.5l-7 7Z"/></svg>\',\n            clock: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>\',\n            star: \'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>\',\n        };\n        return icons[iconName] || icons.door;\n    }\n    /**\n     * è·å–é¢„è§ˆHTMLå†…å®¹ (ä¾› updatePreview è°ƒç”¨)\n     */\n    getPreviewContentHTML() {\n        const selectedWorld = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS.find(w => w.id === this.config.startingWorld) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS[0];\n        const selectedStyle = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS.find(s => s.id === this.config.innStyle) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS[0];\n        const selectedPerk = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS.find(p => p.id === this.config.startingPerk) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS[0];\n        const selectedAccessMode = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS.find(m => m.id === this.config.accessMode) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS[0];\n        return `\r\n        <div class="preview-item">\r\n            <div class="label">æ—…åº—åç§°</div>\r\n            <div class="value highlight">${this.config.innName || \'???\'}</div>\r\n        </div>\r\n\r\n        <div class="preview-item">\r\n            <div class="label">æ‰€åœ¨ä¸–ç•Œ</div>\r\n            <div class="value">${selectedWorld.name}</div>\r\n            <div class="desc-box">${selectedWorld.desc}</div>\r\n        </div>\r\n\r\n        <div class="preview-item">\r\n            <div class="label">åˆå§‹æ—…åº—é£æ ¼</div>\r\n            <div class="value">${selectedStyle.name}</div>\r\n            <div class="desc-box">${selectedStyle.desc}</div>\r\n        </div>\r\n\r\n        <div class="preview-item">\r\n            <div class="label">åˆå§‹æ©èµ</div>\r\n            <div class="value">${selectedPerk.name}</div>\r\n            <div class="desc-box">${selectedPerk.desc}</div>\r\n        </div>\r\n\r\n        <div class="preview-item">\r\n            <div class="label">å‡†å…¥æ¡ä»¶</div>\r\n            <div class="value">${selectedAccessMode.mode_name}</div>\r\n            <div class="desc-box">${selectedAccessMode.condition}</div>\r\n        </div>\r\n    `;\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        // è¿”å›æŒ‰é’®\n        $(this.element).on(\'click\', \'[data-action="cancel"]\', () => {\n            this.hide(() => this.callbacks.onCancel());\n        });\n        // éšæœºåç§°\n        $(this.element).on(\'click\', \'[data-action="random-name"]\', () => {\n            const randomName = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.RANDOM_INN_NAMES[Math.floor(Math.random() * _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.RANDOM_INN_NAMES.length)];\n            const input = $(this.element).find(\'#inn-name\');\n            input.val(randomName);\n            this.config.innName = randomName;\n            this.updatePreview();\n            // Animation\n            input.addClass(\'flash\');\n            setTimeout(() => input.removeClass(\'flash\'), 300);\n        });\n        // åç§°è¾“å…¥\n        $(this.element).on(\'input\', \'#inn-name\', e => {\n            const value = e.target.value.trim();\n            this.config.innName = value;\n            this.updatePreview();\n        });\n        // Radio selection (Delegation)\n        $(this.element).on(\'change\', \'input[type="radio"]\', e => {\n            const input = e.target;\n            const name = input.name;\n            const value = input.value;\n            // Update config\n            if (name === \'world\')\n                this.config.startingWorld = value;\n            if (name === \'inn-style\')\n                this.config.innStyle = value;\n            if (name === \'perk\')\n                this.config.startingPerk = value;\n            if (name === \'access-mode\')\n                this.config.accessMode = value;\n            // Update visual selection state\n            const groupCards = $(this.element).find(`input[name="${name}"]`).closest(\'.selection-card\');\n            groupCards.removeClass(\'selected\');\n            $(input).closest(\'.selection-card\').addClass(\'selected\');\n            this.updatePreview();\n        });\n        // ç¡®è®¤æŒ‰é’®\n        $(this.element).on(\'click\', \'[data-action="confirm"]\', () => {\n            this.handleConfirm();\n        });\n        // å…¨å±æŒ‰é’®\n        $(this.element).on(\'click\', \'[data-fullscreen-btn]\', () => {\n            this.toggleFullscreen();\n        });\n        // åˆå§‹åŒ–å…¨å±ç›‘å¬\n        this.attachFullscreenListeners();\n        this.updateFullscreenIcon();\n    }\n    /**\n     * æ›´æ–°é¢„è§ˆé¢æ¿\n     */\n    updatePreview() {\n        if (!this.element)\n            return;\n        const content = $(this.element).find(\'#preview-content\');\n        content.html(this.getPreviewContentHTML());\n    }\n    /**\n     * éšè—å¹¶å›è°ƒ\n     */\n    hide(callback) {\n        if (!this.element)\n            return;\n        this.element.classList.remove(\'visible\');\n        setTimeout(() => {\n            if (callback)\n                callback();\n        }, 600);\n    }\n    /**\n     * è·å–å…¨å±å›¾æ ‡\n     */\n    getFullscreenIcon() {\n        const isFullscreen = !!(document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement);\n        if (isFullscreen) {\n            return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"/></svg>\';\n        }\n        else {\n            return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>\';\n        }\n    }\n    /**\n     * åˆ‡æ¢å…¨å±\n     */\n    toggleFullscreen() {\n        const doc = document.documentElement;\n        // æ£€æŸ¥å½“å‰æ˜¯å¦å…¨å±\n        const isFullscreen = !!(document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement);\n        if (isFullscreen) {\n            // é€€å‡ºå…¨å±\n            if (document.exitFullscreen) {\n                document.exitFullscreen().catch(err => {\n                    console.log(\'é€€å‡ºå…¨å±å¤±è´¥:\', err);\n                });\n            }\n            else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n            else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            }\n            else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n        }\n        else {\n            // è¿›å…¥å…¨å±\n            if (doc.requestFullscreen) {\n                doc.requestFullscreen().catch(err => {\n                    console.log(\'å…¨å±è¯·æ±‚å¤±è´¥:\', err);\n                });\n                return;\n            }\n            if (doc.webkitRequestFullscreen) {\n                doc.webkitRequestFullscreen();\n                return;\n            }\n            if (doc.mozRequestFullScreen) {\n                doc.mozRequestFullScreen();\n                return;\n            }\n            if (doc.msRequestFullscreen) {\n                document.msRequestFullscreen();\n            }\n        }\n    }\n    /**\n     * æ›´æ–°å…¨å±å›¾æ ‡\n     */\n    updateFullscreenIcon() {\n        if (!this.element)\n            return;\n        const btn = $(this.element).find(\'[data-fullscreen-btn]\');\n        if (btn.length) {\n            btn.html(this.getFullscreenIcon());\n        }\n    }\n    /**\n     * é™„åŠ å…¨å±çŠ¶æ€ç›‘å¬å™¨\n     */\n    attachFullscreenListeners() {\n        if (this.fullscreenListenerAttached)\n            return;\n        const handleFullscreenChange = () => {\n            this.updateFullscreenIcon();\n        };\n        document.addEventListener(\'fullscreenchange\', handleFullscreenChange);\n        document.addEventListener(\'webkitfullscreenchange\', handleFullscreenChange);\n        document.addEventListener(\'mozfullscreenchange\', handleFullscreenChange);\n        document.addEventListener(\'MSFullscreenChange\', handleFullscreenChange);\n        this.fullscreenListenerAttached = true;\n    }\n    /**\n     * é”€æ¯\n     */\n    destroy() {\n        if (this.element) {\n            this.fullscreenListenerAttached = false;\n            $(this.element).off();\n            this.element.remove();\n            this.element = null;\n        }\n    }\n    /**\n     * å¤„ç†ç¡®è®¤\n     */\n    handleConfirm() {\n        const innName = this.config.innName?.trim();\n        if (!innName || innName.length === 0) {\n            // Simple toast or alert replacement could be better, but alert is fine for now\n            alert(\'è¯·ä¸ºæ‚¨çš„æ—…åº—èµ·ä¸€ä¸ªåå­—ï¼\');\n            $(this.element).find(\'#inn-name\').focus();\n            return;\n        }\n        const config = {\n            innName: innName,\n            innStyle: this.config.innStyle || \'oak\',\n            startingWorld: this.config.startingWorld || \'fantasy\',\n            startingPerk: this.config.startingPerk || \'wealth\',\n            accessMode: this.config.accessMode || \'physical\',\n            seed: Date.now(),\n        };\n        this.hide(() => this.callbacks.onConfirm(config));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDO1FBQzVDLElBQUksQ0FBQyxPQUFPLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUNyQywrRUFBK0U7WUFDL0UsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBQzNDLE9BQU87UUFDVCxDQUFDO1FBRUQsTUFBTSxNQUFNLEdBQWU7WUFDekIsT0FBTyxFQUFFLE9BQU87WUFDaEIsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxJQUFJLEtBQUs7WUFDdkMsYUFBYSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxJQUFJLFNBQVM7WUFDckQsWUFBWSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxJQUFJLFFBQVE7WUFDbEQsVUFBVSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxJQUFJLFVBQVU7WUFDaEQsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUU7U0FDakIsQ0FBQztRQUVGLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9OZXdHYW1lU2V0dXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBBQ0NFU1NfTU9ERV9PUFRJT05TLFxyXG4gIEdhbWVDb25maWcsXHJcbiAgSU5OX1NUWUxFX09QVElPTlMsXHJcbiAgUEVSS19PUFRJT05TLFxyXG4gIFJBTkRPTV9JTk5fTkFNRVMsXHJcbiAgV09STERfT1BUSU9OUyxcclxufSBmcm9tICcuLi90eXBlcy9nYW1lQ29uZmlnJztcclxuaW1wb3J0ICcuL05ld0dhbWVTZXR1cC5zY3NzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmV3R2FtZVNldHVwQ2FsbGJhY2tzIHtcclxuICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcclxuICBvbkNvbmZpcm06IChjb25maWc6IEdhbWVDb25maWcpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBOZXdHYW1lU2V0dXAge1xyXG4gIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIGNhbGxiYWNrczogTmV3R2FtZVNldHVwQ2FsbGJhY2tzO1xyXG4gIHByaXZhdGUgY29uZmlnOiBQYXJ0aWFsPEdhbWVDb25maWc+ID0ge1xyXG4gICAgaW5uTmFtZTogUkFORE9NX0lOTl9OQU1FU1swXSxcclxuICAgIGlublN0eWxlOiAnb2FrJyxcclxuICAgIHN0YXJ0aW5nV29ybGQ6ICdmYW50YXN5JyxcclxuICAgIHN0YXJ0aW5nUGVyazogJ3dlYWx0aCcsXHJcbiAgICBhY2Nlc3NNb2RlOiAncGh5c2ljYWwnLFxyXG4gICAgc2VlZDogRGF0ZS5ub3coKSxcclxuICB9O1xyXG4gIHByaXZhdGUgZnVsbHNjcmVlbkxpc3RlbmVyQXR0YWNoZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgY29uc3RydWN0b3IoY2FsbGJhY2tzOiBOZXdHYW1lU2V0dXBDYWxsYmFja3MpIHtcclxuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu657uE5Lu2SFRNTOe7k+aehFxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICduZXctZ2FtZS1zZXR1cCc7XHJcbiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gdGhpcy5nZXRIVE1MKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBjb250YWluZXI7XHJcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuXHJcbiAgICAvLyDliqjnlLvlhaXlnLpcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+WSFRNTOWGheWuuVxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0SFRNTCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGBcclxuICAgICAgPGRpdiBjbGFzcz1cInNldHVwLWJnXCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzZXR1cC1wYXJ0aWNsZXNcIj48L2Rpdj5cclxuICAgICAgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzZXR1cC1jb250YWluZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dXAtdXRpbGl0eS1idXR0b25zXCI+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2V0dXAtdXRpbGl0eS1idG4gc2V0dXAtZnVsbHNjcmVlbi1idG5cIiBkYXRhLWZ1bGxzY3JlZW4tYnRuIGFyaWEtbGFiZWw9XCLliIfmjaLlhajlsY9cIiB0aXRsZT1cIuWIh+aNouWFqOWxj1wiPlxyXG4gICAgICAgICAgICAke3RoaXMuZ2V0RnVsbHNjcmVlbkljb24oKX1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxoZWFkZXIgY2xhc3M9XCJzZXR1cC1oZWFkZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlci1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmFjay1idG5cIiBkYXRhLWFjdGlvbj1cImNhbmNlbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwibTEyIDE5LTctNyA3LTdcIi8+PHBhdGggZD1cIk0xOSAxMkg1XCIvPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPui/lOWbnjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzPVwicGFnZS10aXRsZVwiPuWIm+W7uuaWsOaXheW6lzwvaDE+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvaGVhZGVyPlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dXAtY29udGVudFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dXAtZm9ybS1zY3JvbGxcIj5cclxuICAgICAgICAgICAgICAgICR7dGhpcy5nZXRGb3JtSFRNTCgpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3LXBhbmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldmlldy1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDM+5aWR57qm6aKE6KeIPC9oMz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXctY29udGVudFwiIGlkPVwicHJldmlldy1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmdldFByZXZpZXdDb250ZW50SFRNTCgpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldmlldy1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY29uZmlybS1idG5cIiBkYXRhLWFjdGlvbj1cImNvbmZpcm1cIj7nrb7nvbLlpZHnuqYgKOW8gOWni+a4uOaIjyk8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W6KGo5Y2VSFRNTFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0Rm9ybUhUTUwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgXHJcbiAgICAgIDwhLS0gMS4gSW5uIE5hbWUgLS0+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXNlY3Rpb25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1oZWFkZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtbnVtYmVyXCI+MTwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPuaXheW6l+WRveWQjTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImlubi1uYW1lXCIgdmFsdWU9XCIke3RoaXMuY29uZmlnLmlubk5hbWV9XCIgcGxhY2Vob2xkZXI9XCLovpPlhaXml4XlupflkI3np7AuLi5cIiBtYXhsZW5ndGg9XCIzMFwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmFuZG9tLWJ0blwiIGRhdGEtYWN0aW9uPVwicmFuZG9tLW5hbWVcIiB0aXRsZT1cIumaj+acuueUn+aIkFwiPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjEgMTJhOSA5IDAgMCAwLTktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOFwiLz48cGF0aCBkPVwiTTMgM3Y1aDVcIi8+PHBhdGggZD1cIk0zIDEyYTkgOSAwIDAgMCA5IDkgOS43NSA5Ljc1IDAgMCAwIDYuNzQtMi43NEwyMSAxNlwiLz48cGF0aCBkPVwiTTE2IDE2aDV2NVwiLz48L3N2Zz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPCEtLSAyLiBXb3JsZCBTZWxlY3Rpb24gLS0+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXNlY3Rpb25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1oZWFkZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0ZXAtbnVtYmVyXCI+MjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPumAieaLqeS4lueVjOS9jemdojwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkcy1ncmlkXCI+XHJcbiAgICAgICAgICAgICR7V09STERfT1BUSU9OUy5tYXAoXHJcbiAgICAgICAgICAgICAgd29ybGQgPT4gYFxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic2VsZWN0aW9uLWNhcmQgJHt0aGlzLmNvbmZpZy5zdGFydGluZ1dvcmxkID09PSB3b3JsZC5pZCA/ICdzZWxlY3RlZCcgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIndvcmxkXCIgdmFsdWU9XCIke3dvcmxkLmlkfVwiICR7dGhpcy5jb25maWcuc3RhcnRpbmdXb3JsZCA9PT0gd29ybGQuaWQgPyAnY2hlY2tlZCcgOiAnJ30+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiLz48cGF0aCBkPVwiTTEyIDJhMTQuNSAxNC41IDAgMCAwIDAgMjAgMTQuNSAxNC41IDAgMCAwIDAtMjBcIi8+PHBhdGggZD1cIk0yIDEyaDIwXCIvPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXRpdGxlXCI+JHt3b3JsZC5uYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWRlc2NcIj4ke3dvcmxkLmRlc2N9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICBgLFxyXG4gICAgICAgICAgICApLmpvaW4oJycpfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDwhLS0gMy4gSW5uIFN0eWxlIC0tPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1zZWN0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24taGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLW51bWJlclwiPjM8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj7liJ3lp4vml4Xlupfpo47moLw8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZHMtZ3JpZFwiPlxyXG4gICAgICAgICAgICAke0lOTl9TVFlMRV9PUFRJT05TLm1hcChcclxuICAgICAgICAgICAgICBzdHlsZSA9PiBgXHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzZWxlY3Rpb24tY2FyZCAke3RoaXMuY29uZmlnLmlublN0eWxlID09PSBzdHlsZS5pZCA/ICdzZWxlY3RlZCcgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImlubi1zdHlsZVwiIHZhbHVlPVwiJHtzdHlsZS5pZH1cIiAke3RoaXMuY29uZmlnLmlublN0eWxlID09PSBzdHlsZS5pZCA/ICdjaGVja2VkJyA6ICcnfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1pY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5nZXRJbm5TdHlsZUljb24oc3R5bGUuaWNvbil9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtdGl0bGVcIj4ke3N0eWxlLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZGVzY1wiPiR7c3R5bGUuZGVzY308L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIGAsXHJcbiAgICAgICAgICAgICkuam9pbignJyl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPCEtLSA0LiBTdGFydGluZyBQZXJrIC0tPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1zZWN0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24taGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLW51bWJlclwiPjQ8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj7liJ3lp4vmganotZA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZHMtZ3JpZFwiPlxyXG4gICAgICAgICAgICAke1BFUktfT1BUSU9OUy5tYXAoXHJcbiAgICAgICAgICAgICAgcGVyayA9PiBgXHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJzZWxlY3Rpb24tY2FyZCAke3RoaXMuY29uZmlnLnN0YXJ0aW5nUGVyayA9PT0gcGVyay5pZCA/ICdzZWxlY3RlZCcgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInBlcmtcIiB2YWx1ZT1cIiR7cGVyay5pZH1cIiAke3RoaXMuY29uZmlnLnN0YXJ0aW5nUGVyayA9PT0gcGVyay5pZCA/ICdjaGVja2VkJyA6ICcnfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1pY29uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwibTEyIDMtMS45MTIgNS44MTNhMiAyIDAgMCAxLTEuMjc1IDEuMjc1TDMgMTJsNS44MTMgMS45MTJhMiAyIDAgMCAxIDEuMjc1IDEuMjc1TDEyIDIxbDEuOTEyLTUuODEzYTIgMiAwIDAgMSAxLjI3NS0xLjI3NUwyMSAxMmwtNS44MTMtMS45MTJhMiAyIDAgMCAxLTEuMjc1LTEuMjc1TDEyIDNaXCIvPjwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXRpdGxlXCI+JHtwZXJrLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZGVzY1wiPiR7cGVyay5kZXNjfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgYCxcclxuICAgICAgICAgICAgKS5qb2luKCcnKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICA8IS0tIDUuIEFjY2VzcyBNb2RlIC0tPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1zZWN0aW9uXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24taGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGVwLW51bWJlclwiPjU8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj7lh4blhaXmnaHku7Y8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZHMtZ3JpZFwiPlxyXG4gICAgICAgICAgICAke0FDQ0VTU19NT0RFX09QVElPTlMubWFwKFxyXG4gICAgICAgICAgICAgIG1vZGUgPT4gYFxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic2VsZWN0aW9uLWNhcmQgJHt0aGlzLmNvbmZpZy5hY2Nlc3NNb2RlID09PSBtb2RlLmlkID8gJ3NlbGVjdGVkJyA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiYWNjZXNzLW1vZGVcIiB2YWx1ZT1cIiR7bW9kZS5pZH1cIiAke3RoaXMuY29uZmlnLmFjY2Vzc01vZGUgPT09IG1vZGUuaWQgPyAnY2hlY2tlZCcgOiAnJ30+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtaWNvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuZ2V0QWNjZXNzTW9kZUljb24obW9kZS5pY29uKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC10aXRsZVwiPiR7bW9kZS5tb2RlX25hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtZGVzY1wiPiR7bW9kZS5jb25kaXRpb259PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICBgLFxyXG4gICAgICAgICAgICApLmpvaW4oJycpfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bml4Xlupfpo47moLzlm77moIdcclxuICAgKi9cclxuICBwcml2YXRlIGdldElublN0eWxlSWNvbihpY29uTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBvYWs6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0zIDEyaDE4TTMgNmgxOE0zIDE4aDE4XCIvPjxwYXRoIGQ9XCJNNiAzdjE4TTE4IDN2MThcIi8+PHBhdGggZD1cIk05IDloNnY2SDl6XCIvPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiMlwiLz48L3N2Zz4nLFxyXG4gICAgICBzdHJlZXQ6XHJcbiAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cmVjdCB4PVwiM1wiIHk9XCIzXCIgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgcng9XCIyXCIvPjxwYXRoIGQ9XCJNMyA5aDE4TTkgM3YxOFwiLz48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjJcIi8+PHBhdGggZD1cIk02IDZoMTJ2MTJINnpcIi8+PC9zdmc+JyxcclxuICAgICAgY3JpbXNvbjpcclxuICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNNCA0aDE2djE2SDR6XCIvPjxwYXRoIGQ9XCJNNCA4aDE2TTggNHYxNlwiLz48cGF0aCBkPVwiTTEyIDEyaDR2NGgtNHpcIi8+PGNpcmNsZSBjeD1cIjEwXCIgY3k9XCIxMFwiIHI9XCIxXCIvPjxjaXJjbGUgY3g9XCIxNFwiIGN5PVwiMTRcIiByPVwiMVwiLz48L3N2Zz4nLFxyXG4gICAgICBiYW1ib286XHJcbiAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTMgMTJoMThNMyA2aDE4TTMgMThoMThcIi8+PHBhdGggZD1cIk02IDN2MThNMTggM3YxOFwiLz48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjNcIi8+PHBhdGggZD1cIk05IDlsNiA2TTE1IDlsLTYgNlwiLz48L3N2Zz4nLFxyXG4gICAgfTtcclxuICAgIHJldHVybiBpY29uc1tpY29uTmFtZV0gfHwgaWNvbnMub2FrO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5YeG5YWl5p2h5Lu25Zu+5qCHXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRBY2Nlc3NNb2RlSWNvbihpY29uTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICBkb29yOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjEuNVwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxyZWN0IHg9XCIzXCIgeT1cIjRcIiB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiByeD1cIjJcIiByeT1cIjJcIi8+PHBhdGggZD1cIk05IDR2MThcIi8+PHBhdGggZD1cIk05IDEyaDZcIi8+PC9zdmc+JyxcclxuICAgICAgaGVhcnQ6XHJcbiAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTE5IDE0YzEuNDktMS40NiAzLTMuMjEgMy01LjVBNS41IDUuNSAwIDAgMCAxNi41IDRjLTEuNzYgMCAzIC41IDQuNSAyLTEuNS0xLjUtMi43NC0yLTQuNS0yQTUuNSA1LjUgMCAwIDAgMTEgOC41YzAgMi4yOSAxLjUxIDQuMDQgMyA1LjVsLTcgN1pcIi8+PC9zdmc+JyxcclxuICAgICAgY2xvY2s6XHJcbiAgICAgICAgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIvPjxwb2x5bGluZSBwb2ludHM9XCIxMiA2IDEyIDEyIDE2IDE0XCIvPjwvc3ZnPicsXHJcbiAgICAgIHN0YXI6ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBvbHlnb24gcG9pbnRzPVwiMTIgMiAxNS4wOSA4LjI2IDIyIDkuMjcgMTcgMTQuMTQgMTguMTggMjEuMDIgMTIgMTcuNzcgNS44MiAyMS4wMiA3IDE0LjE0IDIgOS4yNyA4LjkxIDguMjYgMTIgMlwiLz48L3N2Zz4nLFxyXG4gICAgfTtcclxuICAgIHJldHVybiBpY29uc1tpY29uTmFtZV0gfHwgaWNvbnMuZG9vcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPlumihOiniEhUTUzlhoXlrrkgKOS+myB1cGRhdGVQcmV2aWV3IOiwg+eUqClcclxuICAgKi9cclxuICBwcml2YXRlIGdldFByZXZpZXdDb250ZW50SFRNTCgpOiBzdHJpbmcge1xyXG4gICAgY29uc3Qgc2VsZWN0ZWRXb3JsZCA9IFdPUkxEX09QVElPTlMuZmluZCh3ID0+IHcuaWQgPT09IHRoaXMuY29uZmlnLnN0YXJ0aW5nV29ybGQpIHx8IFdPUkxEX09QVElPTlNbMF07XHJcbiAgICBjb25zdCBzZWxlY3RlZFN0eWxlID0gSU5OX1NUWUxFX09QVElPTlMuZmluZChzID0+IHMuaWQgPT09IHRoaXMuY29uZmlnLmlublN0eWxlKSB8fCBJTk5fU1RZTEVfT1BUSU9OU1swXTtcclxuICAgIGNvbnN0IHNlbGVjdGVkUGVyayA9IFBFUktfT1BUSU9OUy5maW5kKHAgPT4gcC5pZCA9PT0gdGhpcy5jb25maWcuc3RhcnRpbmdQZXJrKSB8fCBQRVJLX09QVElPTlNbMF07XHJcbiAgICBjb25zdCBzZWxlY3RlZEFjY2Vzc01vZGUgPSBBQ0NFU1NfTU9ERV9PUFRJT05TLmZpbmQobSA9PiBtLmlkID09PSB0aGlzLmNvbmZpZy5hY2Nlc3NNb2RlKSB8fCBBQ0NFU1NfTU9ERV9PUFRJT05TWzBdO1xyXG5cclxuICAgIHJldHVybiBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXctaXRlbVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGFiZWxcIj7ml4XlupflkI3np7A8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZhbHVlIGhpZ2hsaWdodFwiPiR7dGhpcy5jb25maWcuaW5uTmFtZSB8fCAnPz8/J308L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXctaXRlbVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGFiZWxcIj7miYDlnKjkuJbnlYw8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZhbHVlXCI+JHtzZWxlY3RlZFdvcmxkLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjLWJveFwiPiR7c2VsZWN0ZWRXb3JsZC5kZXNjfTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJldmlldy1pdGVtXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsYWJlbFwiPuWIneWni+aXheW6l+mjjuagvDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidmFsdWVcIj4ke3NlbGVjdGVkU3R5bGUubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2MtYm94XCI+JHtzZWxlY3RlZFN0eWxlLmRlc2N9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3LWl0ZW1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+5Yid5aeL5oGp6LWQPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiPiR7c2VsZWN0ZWRQZXJrLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXNjLWJveFwiPiR7c2VsZWN0ZWRQZXJrLmRlc2N9PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3LWl0ZW1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxhYmVsXCI+5YeG5YWl5p2h5Lu2PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2YWx1ZVwiPiR7c2VsZWN0ZWRBY2Nlc3NNb2RlLm1vZGVfbmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlc2MtYm94XCI+JHtzZWxlY3RlZEFjY2Vzc01vZGUuY29uZGl0aW9ufTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOe7keWumuS6i+S7tlxyXG4gICAqL1xyXG4gIHByaXZhdGUgYmluZEV2ZW50cygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgLy8g6L+U5Zue5oyJ6ZKuXHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWFjdGlvbj1cImNhbmNlbFwiXScsICgpID0+IHtcclxuICAgICAgdGhpcy5oaWRlKCgpID0+IHRoaXMuY2FsbGJhY2tzLm9uQ2FuY2VsKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g6ZqP5py65ZCN56ewXHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWFjdGlvbj1cInJhbmRvbS1uYW1lXCJdJywgKCkgPT4ge1xyXG4gICAgICBjb25zdCByYW5kb21OYW1lID0gUkFORE9NX0lOTl9OQU1FU1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBSQU5ET01fSU5OX05BTUVTLmxlbmd0aCldO1xyXG4gICAgICBjb25zdCBpbnB1dCA9ICQodGhpcy5lbGVtZW50ISkuZmluZCgnI2lubi1uYW1lJykgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+O1xyXG4gICAgICBpbnB1dC52YWwocmFuZG9tTmFtZSk7XHJcbiAgICAgIHRoaXMuY29uZmlnLmlubk5hbWUgPSByYW5kb21OYW1lO1xyXG4gICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcclxuXHJcbiAgICAgIC8vIEFuaW1hdGlvblxyXG4gICAgICBpbnB1dC5hZGRDbGFzcygnZmxhc2gnKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiBpbnB1dC5yZW1vdmVDbGFzcygnZmxhc2gnKSwgMzAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOWQjeensOi+k+WFpVxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdpbnB1dCcsICcjaW5uLW5hbWUnLCBlID0+IHtcclxuICAgICAgY29uc3QgdmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUudHJpbSgpO1xyXG4gICAgICB0aGlzLmNvbmZpZy5pbm5OYW1lID0gdmFsdWU7XHJcbiAgICAgIHRoaXMudXBkYXRlUHJldmlldygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUmFkaW8gc2VsZWN0aW9uIChEZWxlZ2F0aW9uKVxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbdHlwZT1cInJhZGlvXCJdJywgZSA9PiB7XHJcbiAgICAgIGNvbnN0IGlucHV0ID0gZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgY29uc3QgbmFtZSA9IGlucHV0Lm5hbWU7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWU7XHJcblxyXG4gICAgICAvLyBVcGRhdGUgY29uZmlnXHJcbiAgICAgIGlmIChuYW1lID09PSAnd29ybGQnKSB0aGlzLmNvbmZpZy5zdGFydGluZ1dvcmxkID0gdmFsdWUgYXMgYW55O1xyXG4gICAgICBpZiAobmFtZSA9PT0gJ2lubi1zdHlsZScpIHRoaXMuY29uZmlnLmlublN0eWxlID0gdmFsdWUgYXMgYW55O1xyXG4gICAgICBpZiAobmFtZSA9PT0gJ3BlcmsnKSB0aGlzLmNvbmZpZy5zdGFydGluZ1BlcmsgPSB2YWx1ZSBhcyBhbnk7XHJcbiAgICAgIGlmIChuYW1lID09PSAnYWNjZXNzLW1vZGUnKSB0aGlzLmNvbmZpZy5hY2Nlc3NNb2RlID0gdmFsdWUgYXMgYW55O1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHZpc3VhbCBzZWxlY3Rpb24gc3RhdGVcclxuICAgICAgY29uc3QgZ3JvdXBDYXJkcyA9ICQodGhpcy5lbGVtZW50ISkuZmluZChgaW5wdXRbbmFtZT1cIiR7bmFtZX1cIl1gKS5jbG9zZXN0KCcuc2VsZWN0aW9uLWNhcmQnKTtcclxuICAgICAgZ3JvdXBDYXJkcy5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcclxuICAgICAgJChpbnB1dCkuY2xvc2VzdCgnLnNlbGVjdGlvbi1jYXJkJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOehruiupOaMiemSrlxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1hY3Rpb249XCJjb25maXJtXCJdJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUNvbmZpcm0oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOWFqOWxj+aMiemSrlxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1mdWxsc2NyZWVuLWJ0bl0nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudG9nZ2xlRnVsbHNjcmVlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g5Yid5aeL5YyW5YWo5bGP55uR5ZCsXHJcbiAgICB0aGlzLmF0dGFjaEZ1bGxzY3JlZW5MaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMudXBkYXRlRnVsbHNjcmVlbkljb24oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOabtOaWsOmihOiniOmdouadv1xyXG4gICAqL1xyXG4gIHByaXZhdGUgdXBkYXRlUHJldmlldygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcbiAgICBjb25zdCBjb250ZW50ID0gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJyNwcmV2aWV3LWNvbnRlbnQnKTtcclxuICAgIGNvbnRlbnQuaHRtbCh0aGlzLmdldFByZXZpZXdDb250ZW50SFRNTCgpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmakOiXj+W5tuWbnuiwg1xyXG4gICAqL1xyXG4gIHB1YmxpYyBoaWRlKGNhbGxiYWNrPzogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xyXG4gICAgfSwgNjAwKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluWFqOWxj+Wbvuagh1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0RnVsbHNjcmVlbkljb24oKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IGlzRnVsbHNjcmVlbiA9ICEhKFxyXG4gICAgICBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxyXG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fFxyXG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fFxyXG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS5tc0Z1bGxzY3JlZW5FbGVtZW50XHJcbiAgICApO1xyXG5cclxuICAgIGlmIChpc0Z1bGxzY3JlZW4pIHtcclxuICAgICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk04IDN2M2EyIDIgMCAwIDEtMiAySDNtMTggMGgtM2EyIDIgMCAwIDEtMi0yVjNtMCAxOHYtM2EyIDIgMCAwIDEgMi0yaDNNMyAxNmgzYTIgMiAwIDAgMSAyIDJ2M1wiLz48L3N2Zz4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk04IDNINWEyIDIgMCAwIDAtMiAydjNtMTggMFY1YTIgMiAwIDAgMC0yLTJoLTNtMCAxOGgzYTIgMiAwIDAgMCAyLTJ2LTNNMyAxNnYzYTIgMiAwIDAgMCAyIDJoM1wiLz48L3N2Zz4nO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5YiH5o2i5YWo5bGPXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB0b2dnbGVGdWxsc2NyZWVuKCk6IHZvaWQge1xyXG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuICAgIC8vIOajgOafpeW9k+WJjeaYr+WQpuWFqOWxj1xyXG4gICAgY29uc3QgaXNGdWxsc2NyZWVuID0gISEoXHJcbiAgICAgIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IHx8XHJcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XHJcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XHJcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1zRnVsbHNjcmVlbkVsZW1lbnRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGlzRnVsbHNjcmVlbikge1xyXG4gICAgICAvLyDpgIDlh7rlhajlsY9cclxuICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+mAgOWHuuWFqOWxj+Wksei0pTonLCBlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgKGRvY3VtZW50IGFzIGFueSkud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgfSBlbHNlIGlmICgoZG9jdW1lbnQgYXMgYW55KS5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgKGRvY3VtZW50IGFzIGFueSkubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xyXG4gICAgICB9IGVsc2UgaWYgKChkb2N1bWVudCBhcyBhbnkpLm1zRXhpdEZ1bGxzY3JlZW4pIHtcclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS5tc0V4aXRGdWxsc2NyZWVuKCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOi/m+WFpeWFqOWxj1xyXG4gICAgICBpZiAoZG9jLnJlcXVlc3RGdWxsc2NyZWVuKSB7XHJcbiAgICAgICAgZG9jLnJlcXVlc3RGdWxsc2NyZWVuKCkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCflhajlsY/or7fmsYLlpLHotKU6JywgZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKChkb2MgYXMgYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xyXG4gICAgICAgIChkb2MgYXMgYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoKGRvYyBhcyBhbnkpLm1velJlcXVlc3RGdWxsU2NyZWVuKSB7XHJcbiAgICAgICAgKGRvYyBhcyBhbnkpLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICgoZG9jIGFzIGFueSkubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xyXG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pu05paw5YWo5bGP5Zu+5qCHXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB1cGRhdGVGdWxsc2NyZWVuSWNvbigpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcbiAgICBjb25zdCBidG4gPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnW2RhdGEtZnVsbHNjcmVlbi1idG5dJyk7XHJcbiAgICBpZiAoYnRuLmxlbmd0aCkge1xyXG4gICAgICBidG4uaHRtbCh0aGlzLmdldEZ1bGxzY3JlZW5JY29uKCkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6ZmE5Yqg5YWo5bGP54q25oCB55uR5ZCs5ZmoXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhdHRhY2hGdWxsc2NyZWVuTGlzdGVuZXJzKCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZnVsbHNjcmVlbkxpc3RlbmVyQXR0YWNoZWQpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLnVwZGF0ZUZ1bGxzY3JlZW5JY29uKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xyXG5cclxuICAgIHRoaXMuZnVsbHNjcmVlbkxpc3RlbmVyQXR0YWNoZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6ZSA5q+BXHJcbiAgICovXHJcbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuZnVsbHNjcmVlbkxpc3RlbmVyQXR0YWNoZWQgPSBmYWxzZTtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbnoa7orqRcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUNvbmZpcm0oKTogdm9pZCB7XHJcbiAgICBjb25zdCBpbm5OYW1lID0gdGhpcy5jb25maWcuaW5uTmFtZT8udHJpbSgpO1xyXG4gICAgaWYgKCFpbm5OYW1lIHx8IGlubk5hbWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIC8vIFNpbXBsZSB0b2FzdCBvciBhbGVydCByZXBsYWNlbWVudCBjb3VsZCBiZSBiZXR0ZXIsIGJ1dCBhbGVydCBpcyBmaW5lIGZvciBub3dcclxuICAgICAgYWxlcnQoJ+ivt+S4uuaCqOeahOaXheW6l+i1t+S4gOS4quWQjeWtl++8gScpO1xyXG4gICAgICAkKHRoaXMuZWxlbWVudCEpLmZpbmQoJyNpbm4tbmFtZScpLmZvY3VzKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maWc6IEdhbWVDb25maWcgPSB7XHJcbiAgICAgIGlubk5hbWU6IGlubk5hbWUsXHJcbiAgICAgIGlublN0eWxlOiB0aGlzLmNvbmZpZy5pbm5TdHlsZSB8fCAnb2FrJyxcclxuICAgICAgc3RhcnRpbmdXb3JsZDogdGhpcy5jb25maWcuc3RhcnRpbmdXb3JsZCB8fCAnZmFudGFzeScsXHJcbiAgICAgIHN0YXJ0aW5nUGVyazogdGhpcy5jb25maWcuc3RhcnRpbmdQZXJrIHx8ICd3ZWFsdGgnLFxyXG4gICAgICBhY2Nlc3NNb2RlOiB0aGlzLmNvbmZpZy5hY2Nlc3NNb2RlIHx8ICdwaHlzaWNhbCcsXHJcbiAgICAgIHNlZWQ6IERhdGUubm93KCksXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuaGlkZSgoKSA9PiB0aGlzLmNhbGxiYWNrcy5vbkNvbmZpcm0oY29uZmlnKSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/NewGameSetup.ts\n\n}');
  },
  "./src/mhjg/components/SplashScreen.scss": 
  /*!***********************************************!*\
  !*** ./src/mhjg/components/SplashScreen.scss ***!
  \***********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL1NwbGFzaFNjcmVlbi5zY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9TcGxhc2hTY3JlZW4uc2Nzcz8zOGZhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/SplashScreen.scss\n\n}");
  },
  "./src/mhjg/components/SplashScreen.ts": 
  /*!*********************************************!*\
  !*** ./src/mhjg/components/SplashScreen.ts ***!
  \*********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SplashScreen: () => (/* binding */ SplashScreen)\n/* harmony export */ });\n/* harmony import */ var _BackgroundEffects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BackgroundEffects */ "./src/mhjg/components/BackgroundEffects.ts");\n/* harmony import */ var _SplashScreen_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SplashScreen.scss */ "./src/mhjg/components/SplashScreen.scss");\n\n\nconst DEFAULT_OPTIONS = {\n    title: \'è¯¸å¤©ä¾¿æºæ—…åº—\',\n    subtitle: \'è¿·å¤±è€…çš„åº‡æŠ¤æ‰€\',\n    hasSaveData: false,\n    backgroundImage: \'https://pub-0f03753252fb439e966a538d805f20ef.r2.dev/docs/1765458743425.png\',\n    showSettings: false,\n    showExit: false,\n};\nclass SplashScreen {\n    element = null;\n    callbacks;\n    options;\n    isVisible = false;\n    isExiting = false;\n    bgLoaded = false;\n    backgroundEffects = null;\n    fullscreenBtn = null;\n    fullscreenListenerAttached = false;\n    constructor(callbacks, options) {\n        this.callbacks = callbacks;\n        this.options = { ...DEFAULT_OPTIONS, ...options };\n    }\n    /**\n     * åˆ›å»ºæ ‡é¢˜é¡µé¢HTMLç»“æ„\n     */\n    createElement() {\n        const screen = document.createElement(\'div\');\n        screen.className = \'splash-screen\';\n        screen.innerHTML = this.getSplashHTML();\n        this.element = screen;\n        this.preloadBackground();\n        return screen;\n    }\n    /**\n     * é¢„åŠ è½½èƒŒæ™¯å›¾ç‰‡\n     */\n    preloadBackground() {\n        if (!this.options.backgroundImage) {\n            this.bgLoaded = true;\n            if (this.isVisible && this.element) {\n                this.render();\n            }\n            return;\n        }\n        const img = new Image();\n        img.src = this.options.backgroundImage;\n        img.onload = () => {\n            this.bgLoaded = true;\n            if (this.isVisible && this.element) {\n                this.render();\n                // å°å»¶è¿Ÿç¡®ä¿æ¸²æŸ“å®Œæˆ\n                setTimeout(() => {\n                    $(this.element).addClass(\'visible\');\n                }, 100);\n            }\n        };\n        img.onerror = () => {\n            this.bgLoaded = true;\n            if (this.isVisible && this.element) {\n                this.render();\n                setTimeout(() => {\n                    $(this.element).addClass(\'visible\');\n                }, 100);\n            }\n        };\n    }\n    /**\n     * è·å–æ ‡é¢˜é¡µé¢HTML\n     */\n    getSplashHTML() {\n        if (!this.bgLoaded) {\n            return `\n        <div class="splash-loading">\n          <div class="loading-spinner"></div>\n        </div>\n      `;\n        }\n        return `\n      <div class="splash-background" style="background-image: url(\'${this.options.backgroundImage}\')"></div>\n      <div class="splash-aurora"></div>\n      <div class="splash-effects-container"></div>\n      \n      <div class="splash-utility-buttons">\n        <button class="splash-utility-btn splash-fullscreen-btn" data-fullscreen-btn aria-label="åˆ‡æ¢å…¨å±" title="åˆ‡æ¢å…¨å±">\n          ${this.getFullscreenIcon()}\n        </button>\n      </div>\n      \n      <div class="splash-content">\n        <div class="splash-title-section">\n          <h1 class="splash-title" data-text="${this.options.title}">${this.options.title}</h1>\n          <div class="splash-subtitle-wrapper">\n            <div class="splash-subtitle-line"></div>\n            <h2 class="splash-subtitle">${this.options.subtitle}</h2>\n            <div class="splash-subtitle-line"></div>\n          </div>\n        </div>\n        \n        <div class="splash-buttons">\n          ${this.createButtonsHTML()}\n        </div>\n      </div>\n      \n      <div class="splash-footer">\n        <div class="footer-line"></div>\n        <div class="footer-content">\n          <div class="footer-left">\n            <div class="footer-text">Ver 1.0.0 â€¢ Void Walker Studio</div>\n          </div>\n          <div class="footer-center">\n            <div class="footer-author">\n              <span class="author-label">Created by</span>\n              <span class="author-name">POARIES</span>\n            </div>\n            <div class="footer-copyright">\n              <p xmlns:cc="http://creativecommons.org/ns#">\n                Licensed under \n                <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" \n                   target="_blank" \n                   rel="license noopener noreferrer" \n                   class="license-link">\n                  CC BY-NC-SA 4.0\n                  <span class="license-icons">\n                    <img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="CC" class="license-icon">\n                    <img src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="BY" class="license-icon">\n                    <img src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1" alt="NC" class="license-icon">\n                    <img src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" alt="SA" class="license-icon">\n                  </span>\n                </a>\n              </p>\n            </div>\n          </div>\n          <div class="footer-right">\n            <nav class="footer-navigation">\n              <a href="https://discord.gg/nJecqe5HUx" \n                 class="footer-nav-link" \n                 target="_blank" \n                 rel="noopener noreferrer">\n                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n                </svg>\n                DISCORD\n              </a>\n            </nav>\n          </div>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºæŒ‰é’®HTML\n     */\n    createButtonsHTML() {\n        const buttons = [];\n        // ç»§ç»­æ¸¸æˆ\n        if (this.options.hasSaveData) {\n            buttons.push(this.createButton(\'continue\', \'ç»§ç»­æ—…ç¨‹\', \'primary\', `\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>\n      `, 0.4));\n        }\n        // å¼€å§‹æ–°æ¸¸æˆ\n        buttons.push(this.createButton(\'new-game\', \'å¼€å¯æ–°ç¯‡ç« \', this.options.hasSaveData ? \'secondary\' : \'primary\', `\n      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>\n    `, 0.5));\n        return buttons.join(\'\');\n    }\n    createButton(action, label, variant, icon, delay) {\n        return `\n      <button class="glass-btn glass-btn-${variant}" data-action="${action}" data-delay="${delay}">\n        <div class="btn-content">\n          <div class="btn-icon">${icon}</div>\n          <span class="glass-btn-label">${label}</span>\n        </div>\n      </button>\n    `;\n    }\n    /**\n     * å¤„ç†æ“ä½œ\n     */\n    handleAction(callback) {\n        if (!callback || this.isExiting)\n            return;\n        this.isExiting = true;\n        this.animateOut(() => {\n            callback();\n        });\n    }\n    /**\n     * é‡æ–°æ¸²æŸ“\n     */\n    render() {\n        if (!this.element)\n            return;\n        const wasVisible = this.isVisible;\n        this.element.innerHTML = this.getSplashHTML();\n        this.bindEvents();\n        this.initBackgroundEffects();\n        if (wasVisible) {\n            this.animateIn();\n        }\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        // ç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶\n        $(this.element).on(\'click\', \'.glass-btn[data-action]\', (e) => {\n            e.preventDefault();\n            const action = $(e.currentTarget).attr(\'data-action\');\n            this.handleButtonAction(action);\n        });\n        // ç»‘å®šå…¨å±æŒ‰é’®\n        $(this.element).on(\'click\', \'[data-fullscreen-btn]\', () => {\n            this.toggleFullscreen();\n        });\n        // åˆå§‹åŒ–æŒ‰é’®åŠ¨ç”»\n        this.initButtonAnimations();\n        // åˆå§‹åŒ–å…¨å±ç›‘å¬\n        this.attachFullscreenListeners();\n        this.updateFullscreenIcon();\n    }\n    /**\n     * å¤„ç†æŒ‰é’®æ“ä½œ\n     */\n    handleButtonAction(action) {\n        if (!action)\n            return;\n        switch (action) {\n            case \'new-game\':\n                this.handleAction(this.callbacks.onStartNewGame);\n                break;\n            case \'continue\':\n                if (this.callbacks.onContinueGame) {\n                    this.handleAction(this.callbacks.onContinueGame);\n                }\n                break;\n            case \'settings\':\n                if (this.callbacks.onOpenSettings) {\n                    this.handleAction(this.callbacks.onOpenSettings);\n                }\n                break;\n            case \'exit\':\n                if (this.callbacks.onExit) {\n                    this.handleAction(this.callbacks.onExit);\n                }\n                break;\n        }\n    }\n    /**\n     * åˆå§‹åŒ–æŒ‰é’®åŠ¨ç”»\n     */\n    initButtonAnimations() {\n        if (!this.element)\n            return;\n        $(this.element)\n            .find(\'.glass-btn\')\n            .each((_, el) => {\n            const $btn = $(el);\n            const delay = parseFloat($btn.attr(\'data-delay\') || \'0\') * 1000;\n            $btn.css({\n                opacity: 0,\n                transform: \'translateY(20px) rotateX(10deg)\',\n            });\n            setTimeout(() => {\n                $btn.animate({ opacity: 1 }, {\n                    duration: 800,\n                    easing: \'swing\', // jQuery easing\n                    step: function (now, fx) {\n                        if (fx.prop === \'opacity\')\n                            return; // Skip transform on opacity step\n                        // Manually handling complex transform if needed, but jQuery animate only supports basic props usually.\n                        // Better to use CSS transition class for complex transforms, but here we use inline for stagger.\n                        // Simplified:\n                        $(this).css(\'transform\', \'translateY(0) rotateX(0)\');\n                    }\n                });\n                // Since jQuery animate transform support is limited without plugin, \n                // we\'ll just set the final state and let CSS transition handle it if class is present,\n                // or use a simple timeout to remove the offset.\n                // Actually, let\'s rely on a CSS class for entrance.\n                $btn.addClass(\'animate-in\');\n            }, delay);\n        });\n    }\n    /**\n     * åˆå§‹åŒ–èƒŒæ™¯ç‰¹æ•ˆ\n     */\n    initBackgroundEffects() {\n        if (!this.element)\n            return;\n        const effectsContainer = this.element.querySelector(\'.splash-effects-container\');\n        if (effectsContainer) {\n            this.backgroundEffects = new _BackgroundEffects__WEBPACK_IMPORTED_MODULE_0__.BackgroundEffects();\n            const effectsElement = this.backgroundEffects.createElement();\n            effectsContainer.appendChild(effectsElement);\n        }\n    }\n    /**\n     * è¿›å…¥åŠ¨ç”»\n     */\n    animateIn() {\n        if (!this.element)\n            return;\n        // å®¹å™¨æ·¡å…¥\n        $(this.element).css({ opacity: 0 });\n        $(this.element).animate({ opacity: 1 }, 800);\n        // æ ‡é¢˜åŠ¨ç”»\n        const title = $(this.element).find(\'.splash-title\');\n        title.css({ opacity: 0, transform: \'translateY(-50px) scale(0.9)\' });\n        setTimeout(() => {\n            title.css({ transition: \'all 1s cubic-bezier(0.22, 1, 0.36, 1)\', opacity: 1, transform: \'translateY(0) scale(1)\' });\n        }, 200);\n        // å‰¯æ ‡é¢˜åŠ¨ç”»\n        const subtitle = $(this.element).find(\'.splash-subtitle-wrapper\');\n        subtitle.css({ opacity: 0, transform: \'translateY(20px)\' });\n        setTimeout(() => {\n            subtitle.css({ transition: \'all 1s ease\', opacity: 1, transform: \'translateY(0)\' });\n        }, 600);\n    }\n    /**\n     * é€€å‡ºåŠ¨ç”»\n     */\n    animateOut(callback) {\n        if (!this.element) {\n            callback();\n            return;\n        }\n        // Zoom in and fade out\n        const bg = $(this.element).find(\'.splash-background\');\n        bg.css({ transform: \'scale(1.2)\', transition: \'transform 0.8s ease-in\' });\n        $(this.element).animate({ opacity: 0 }, { duration: 800, complete: callback });\n    }\n    /**\n     * æ˜¾ç¤ºæ ‡é¢˜é¡µé¢\n     */\n    show() {\n        this.isVisible = true;\n        if (this.element) {\n            if (this.bgLoaded) {\n                this.render();\n                setTimeout(() => {\n                    $(this.element).addClass(\'visible\');\n                }, 50);\n            }\n            else {\n                // å¦‚æœèƒŒæ™¯è¿˜æ²¡åŠ è½½å®Œï¼Œç­‰å¾…åŠ è½½å®Œæˆåå†æ˜¾ç¤º\n                $(this.element).addClass(\'visible\');\n            }\n        }\n    }\n    /**\n     * éšè—æ ‡é¢˜é¡µé¢\n     */\n    hide() {\n        this.isVisible = false;\n        if (this.element) {\n            $(this.element).removeClass(\'visible\');\n        }\n    }\n    /**\n     * è·å–å…¨å±å›¾æ ‡\n     */\n    getFullscreenIcon() {\n        const isFullscreen = !!(document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement);\n        if (isFullscreen) {\n            return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"/></svg>\';\n        }\n        else {\n            return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>\';\n        }\n    }\n    /**\n     * åˆ‡æ¢å…¨å±\n     */\n    toggleFullscreen() {\n        const doc = document.documentElement;\n        // æ£€æŸ¥å½“å‰æ˜¯å¦å…¨å±\n        const isFullscreen = !!(document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement);\n        if (isFullscreen) {\n            // é€€å‡ºå…¨å±\n            if (document.exitFullscreen) {\n                document.exitFullscreen().catch((err) => {\n                    console.log(\'é€€å‡ºå…¨å±å¤±è´¥:\', err);\n                });\n            }\n            else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n            else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            }\n            else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n        }\n        else {\n            // è¿›å…¥å…¨å±\n            if (doc.requestFullscreen) {\n                doc.requestFullscreen().catch((err) => {\n                    console.log(\'å…¨å±è¯·æ±‚å¤±è´¥:\', err);\n                });\n            }\n            else if (doc.webkitRequestFullscreen) {\n                doc.webkitRequestFullscreen();\n            }\n            else if (doc.mozRequestFullScreen) {\n                doc.mozRequestFullScreen();\n            }\n            else if (doc.msRequestFullscreen) {\n                document.msRequestFullscreen();\n            }\n        }\n    }\n    /**\n     * æ›´æ–°å…¨å±å›¾æ ‡\n     */\n    updateFullscreenIcon() {\n        if (!this.element)\n            return;\n        const btn = $(this.element).find(\'[data-fullscreen-btn]\');\n        if (btn.length) {\n            btn.html(this.getFullscreenIcon());\n        }\n    }\n    /**\n     * é™„åŠ å…¨å±çŠ¶æ€ç›‘å¬å™¨\n     */\n    attachFullscreenListeners() {\n        if (this.fullscreenListenerAttached)\n            return;\n        const handleFullscreenChange = () => {\n            this.updateFullscreenIcon();\n        };\n        document.addEventListener(\'fullscreenchange\', handleFullscreenChange);\n        document.addEventListener(\'webkitfullscreenchange\', handleFullscreenChange);\n        document.addEventListener(\'mozfullscreenchange\', handleFullscreenChange);\n        document.addEventListener(\'MSFullscreenChange\', handleFullscreenChange);\n        this.fullscreenListenerAttached = true;\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.backgroundEffects) {\n            this.backgroundEffects.destroy();\n            this.backgroundEffects = null;\n        }\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n        this.fullscreenListenerAttached = false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL1NwbGFzaFNjcmVlbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDd0Q7QUFDM0I7QUFFN0IsTUFBTSxlQUFlLEdBQXdCO0lBQzNDLEtBQUssRUFBRSxRQUFRO0lBQ2YsUUFBUSxFQUFFLFNBQVM7SUFDbkIsV0FBVyxFQUFFLEtBQUs7SUFDbEIsZUFBZSxFQUFFLDRFQUE0RTtJQUM3RixZQUFZLEVBQUUsS0FBSztJQUNuQixRQUFRLEVBQUUsS0FBSztDQUNoQixDQUFDO0FBRUssTUFBTSxZQUFZO0lBQ2YsT0FBTyxHQUF1QixJQUFJLENBQUM7SUFDbkMsU0FBUyxDQUF3QjtJQUNqQyxPQUFPLENBQXNCO0lBQzdCLFNBQVMsR0FBWSxLQUFLLENBQUM7SUFDM0IsU0FBUyxHQUFZLEtBQUssQ0FBQztJQUMzQixRQUFRLEdBQVksS0FBSyxDQUFDO0lBQzFCLGlCQUFpQixHQUE2QixJQUFJLENBQUM7SUFDbkQsYUFBYSxHQUF1QixJQUFJLENBQUM7SUFDekMsMEJBQTBCLEdBQVksS0FBSyxDQUFDO0lBRXBELFlBQVksU0FBZ0MsRUFBRSxPQUE2QjtRQUN6RSxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsR0FBRyxlQUFlLEVBQUUsR0FBRyxPQUFPLEVBQUUsQ0FBQztJQUNwRCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxhQUFhO1FBQ2xCLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLFNBQVMsR0FBRyxlQUFlLENBQUM7UUFDbkMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDeEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7UUFDdEIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDekIsT0FBTyxNQUFNLENBQUM7SUFDaEIsQ0FBQztJQUVEOztPQUVHO0lBQ0ssaUJBQWlCO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ3JCLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUNoQixDQUFDO1lBQ0QsT0FBTztRQUNULENBQUM7UUFFRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUM7UUFDdkMsR0FBRyxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7WUFDaEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDckIsSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDbkMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNkLFlBQVk7Z0JBQ1osVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDZCxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDdkMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ1YsQ0FBQztRQUNILENBQUMsQ0FBQztRQUNGLEdBQUcsQ0FBQyxPQUFPLEdBQUcsR0FBRyxFQUFFO1lBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1lBQ3JCLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ25DLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDZCxVQUFVLENBQUMsR0FBRyxFQUFFO29CQUNkLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBUSxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN2QyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDVixDQUFDO1FBQ0gsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0ssYUFBYTtRQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ25CLE9BQU87Ozs7T0FJTixDQUFDO1FBQ0osQ0FBQztRQUVELE9BQU87cUVBQzBELElBQUksQ0FBQyxPQUFPLENBQUMsZUFBZTs7Ozs7O1lBTXJGLElBQUksQ0FBQyxpQkFBaUIsRUFBRTs7Ozs7O2dEQU1ZLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSzs7OzBDQUcvQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVE7Ozs7OztZQU1uRCxJQUFJLENBQUMsaUJBQWlCLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQWdEL0IsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNLLGlCQUFpQjtRQUN2QixNQUFNLE9BQU8sR0FBYSxFQUFFLENBQUM7UUFFN0IsT0FBTztRQUNQLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM3QixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUU7O09BRTdELEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNYLENBQUM7UUFFRCxRQUFRO1FBQ1IsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUFFOztLQUV2RyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFVCxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUVPLFlBQVksQ0FBQyxNQUFjLEVBQUUsS0FBYSxFQUFFLE9BQWUsRUFBRSxJQUFZLEVBQUUsS0FBYTtRQUM5RixPQUFPOzJDQUNnQyxPQUFPLGtCQUFrQixNQUFNLGlCQUFpQixLQUFLOztrQ0FFOUQsSUFBSTswQ0FDSSxLQUFLOzs7S0FHMUMsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNLLFlBQVksQ0FBQyxRQUFxQjtRQUN4QyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTztRQUV4QyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztRQUN0QixJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNuQixRQUFRLEVBQUUsQ0FBQztRQUNiLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVEOztPQUVHO0lBQ0ssTUFBTTtRQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFDMUIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNsQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzdCLElBQUksVUFBVSxFQUFFLENBQUM7WUFDZixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbkIsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNLLFVBQVU7UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTztRQUUxQixXQUFXO1FBQ1gsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLHlCQUF5QixFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDM0QsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ25CLE1BQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQ3RELElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQztRQUVILFNBQVM7UUFDVCxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO1lBQ3hELElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO1FBRUgsVUFBVTtRQUNWLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBRTVCLFVBQVU7UUFDVixJQUFJLENBQUMseUJBQXlCLEVBQUUsQ0FBQztRQUNqQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRUQ7O09BRUc7SUFDSyxrQkFBa0IsQ0FBQyxNQUEwQjtRQUNuRCxJQUFJLENBQUMsTUFBTTtZQUFFLE9BQU87UUFFcEIsUUFBUSxNQUFNLEVBQUUsQ0FBQztZQUNmLEtBQUssVUFBVTtnQkFDYixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQ2pELE1BQU07WUFDUixLQUFLLFVBQVU7Z0JBQ2IsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxDQUFDO29CQUNsQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLENBQUM7Z0JBQ25ELENBQUM7Z0JBQ0QsTUFBTTtZQUNSLEtBQUssVUFBVTtnQkFDYixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBQ2xDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDbkQsQ0FBQztnQkFDRCxNQUFNO1lBQ1IsS0FBSyxNQUFNO2dCQUNULElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztvQkFDMUIsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMzQyxDQUFDO2dCQUNELE1BQU07UUFDVixDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ssb0JBQW9CO1FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFFMUIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7YUFDWixJQUFJLENBQUMsWUFBWSxDQUFDO2FBQ2xCLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtZQUNkLE1BQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNuQixNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7WUFFaEUsSUFBSSxDQUFDLEdBQUcsQ0FBQztnQkFDUCxPQUFPLEVBQUUsQ0FBQztnQkFDVixTQUFTLEVBQUUsaUNBQWlDO2FBQzdDLENBQUMsQ0FBQztZQUVILFVBQVUsQ0FBQyxHQUFHLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FDVixFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFDZDtvQkFDRSxRQUFRLEVBQUUsR0FBRztvQkFDYixNQUFNLEVBQUUsT0FBTyxFQUFFLGdCQUFnQjtvQkFDakMsSUFBSSxFQUFFLFVBQVMsR0FBRyxFQUFFLEVBQUU7d0JBQ25CLElBQUksRUFBRSxDQUFDLElBQUksS0FBSyxTQUFTOzRCQUFFLE9BQU8sQ0FBQyxpQ0FBaUM7d0JBQ3BFLHVHQUF1Rzt3QkFDdkcsaUdBQWlHO3dCQUNqRyxjQUFjO3dCQUNkLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLDBCQUEwQixDQUFDLENBQUM7b0JBQ3hELENBQUM7aUJBQ0YsQ0FDRixDQUFDO2dCQUNGLHFFQUFxRTtnQkFDckUsdUZBQXVGO2dCQUN2RixnREFBZ0Q7Z0JBQ2hELG9EQUFvRDtnQkFDcEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUM5QixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDWixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRDs7T0FFRztJQUNLLHFCQUFxQjtRQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBRTFCLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUNqRixJQUFJLGdCQUFnQixFQUFFLENBQUM7WUFDckIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUVBQWlCLEVBQUUsQ0FBQztZQUNqRCxNQUFNLGNBQWMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7WUFDOUQsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQy9DLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSyxTQUFTO1FBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTztRQUUxQixPQUFPO1FBQ1AsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUU3QyxPQUFPO1FBQ1AsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDcEQsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLDhCQUE4QixFQUFFLENBQUMsQ0FBQztRQUNyRSxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFVBQVUsRUFBRSx1Q0FBdUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSx3QkFBd0IsRUFBRSxDQUFDLENBQUM7UUFDdEgsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRVIsUUFBUTtRQUNSLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUM7UUFDbEUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLGtCQUFrQixFQUFFLENBQUMsQ0FBQztRQUM1RCxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2IsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztRQUN2RixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDVixDQUFDO0lBRUQ7O09BRUc7SUFDSyxVQUFVLENBQUMsUUFBb0I7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNsQixRQUFRLEVBQUUsQ0FBQztZQUNYLE9BQU87UUFDVCxDQUFDO1FBRUQsdUJBQXVCO1FBQ3ZCLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDdEQsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLHdCQUF3QixFQUFFLENBQUMsQ0FBQztRQUUxRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDakYsQ0FBQztJQUVEOztPQUVHO0lBQ0ksSUFBSTtRQUNULElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pCLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO2dCQUNsQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ2QsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDZCxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDdkMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ1QsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLHVCQUF1QjtnQkFDdkIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdEMsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxJQUFJO1FBQ1QsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekMsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNLLGlCQUFpQjtRQUN2QixNQUFNLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FDckIsUUFBUSxDQUFDLGlCQUFpQjtZQUN6QixRQUFnQixDQUFDLHVCQUF1QjtZQUN4QyxRQUFnQixDQUFDLG9CQUFvQjtZQUNyQyxRQUFnQixDQUFDLG1CQUFtQixDQUN0QyxDQUFDO1FBRUYsSUFBSSxZQUFZLEVBQUUsQ0FBQztZQUNqQixPQUFPLHNTQUFzUyxDQUFDO1FBQ2hULENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxzU0FBc1MsQ0FBQztRQUNoVCxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ssZ0JBQWdCO1FBQ3RCLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7UUFFckMsV0FBVztRQUNYLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUNyQixRQUFRLENBQUMsaUJBQWlCO1lBQ3pCLFFBQWdCLENBQUMsdUJBQXVCO1lBQ3hDLFFBQWdCLENBQUMsb0JBQW9CO1lBQ3JDLFFBQWdCLENBQUMsbUJBQW1CLENBQ3RDLENBQUM7UUFFRixJQUFJLFlBQVksRUFBRSxDQUFDO1lBQ2pCLE9BQU87WUFDUCxJQUFJLFFBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQkFDNUIsUUFBUSxDQUFDLGNBQWMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO29CQUN0QyxPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDOUIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDO2lCQUFNLElBQUssUUFBZ0IsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO2dCQUNqRCxRQUFnQixDQUFDLG9CQUFvQixFQUFFLENBQUM7WUFDM0MsQ0FBQztpQkFBTSxJQUFLLFFBQWdCLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztnQkFDaEQsUUFBZ0IsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1lBQzFDLENBQUM7aUJBQU0sSUFBSyxRQUFnQixDQUFDLGdCQUFnQixFQUFFLENBQUM7Z0JBQzdDLFFBQWdCLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUN2QyxDQUFDO1FBQ0gsQ0FBQzthQUFNLENBQUM7WUFDTixPQUFPO1lBQ1AsSUFBSSxHQUFHLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztnQkFDMUIsR0FBRyxDQUFDLGlCQUFpQixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7b0JBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUM5QixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUM7aUJBQU0sSUFBSyxHQUFXLENBQUMsdUJBQXVCLEVBQUUsQ0FBQztnQkFDL0MsR0FBVyxDQUFDLHVCQUF1QixFQUFFLENBQUM7WUFDekMsQ0FBQztpQkFBTSxJQUFLLEdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO2dCQUM1QyxHQUFXLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUN0QyxDQUFDO2lCQUFNLElBQUssR0FBVyxDQUFDLG1CQUFtQixFQUFFLENBQUM7Z0JBQzNDLFFBQWdCLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUMxQyxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNLLG9CQUFvQjtRQUMxQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBQzFCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDMUQsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDZixHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7UUFDckMsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNLLHlCQUF5QjtRQUMvQixJQUFJLElBQUksQ0FBQywwQkFBMEI7WUFBRSxPQUFPO1FBRTVDLE1BQU0sc0JBQXNCLEdBQUcsR0FBRyxFQUFFO1lBQ2xDLElBQUksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQzlCLENBQUMsQ0FBQztRQUVGLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3RFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyx3QkFBd0IsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQzVFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBQ3pFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxvQkFBb0IsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDO1FBRXhFLElBQUksQ0FBQywwQkFBMEIsR0FBRyxJQUFJLENBQUM7SUFDekMsQ0FBQztJQUVEOztPQUVHO0lBQ0ksT0FBTztRQUNaLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFDaEMsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO1FBQ0QsSUFBSSxDQUFDLDBCQUEwQixHQUFHLEtBQUssQ0FBQztJQUMxQyxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9TcGxhc2hTY3JlZW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3BsYXNoU2NyZWVuQ2FsbGJhY2tzLCBTcGxhc2hTY3JlZW5PcHRpb25zIH0gZnJvbSAnLi9TcGxhc2hTY3JlZW4udHlwZXMnO1xuaW1wb3J0IHsgQmFja2dyb3VuZEVmZmVjdHMgfSBmcm9tICcuL0JhY2tncm91bmRFZmZlY3RzJztcbmltcG9ydCAnLi9TcGxhc2hTY3JlZW4uc2Nzcyc7XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUzogU3BsYXNoU2NyZWVuT3B0aW9ucyA9IHtcbiAgdGl0bGU6ICfor7jlpKnkvr/mkLrml4XlupcnLFxuICBzdWJ0aXRsZTogJ+i/t+WkseiAheeahOW6h+aKpOaJgCcsXG4gIGhhc1NhdmVEYXRhOiBmYWxzZSxcbiAgYmFja2dyb3VuZEltYWdlOiAnaHR0cHM6Ly9wdWItMGYwMzc1MzI1MmZiNDM5ZTk2NmE1MzhkODA1ZjIwZWYucjIuZGV2L2RvY3MvMTc2NTQ1ODc0MzQyNS5wbmcnLFxuICBzaG93U2V0dGluZ3M6IGZhbHNlLFxuICBzaG93RXhpdDogZmFsc2UsXG59O1xuXG5leHBvcnQgY2xhc3MgU3BsYXNoU2NyZWVuIHtcbiAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNhbGxiYWNrczogU3BsYXNoU2NyZWVuQ2FsbGJhY2tzO1xuICBwcml2YXRlIG9wdGlvbnM6IFNwbGFzaFNjcmVlbk9wdGlvbnM7XG4gIHByaXZhdGUgaXNWaXNpYmxlOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgaXNFeGl0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgYmdMb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBiYWNrZ3JvdW5kRWZmZWN0czogQmFja2dyb3VuZEVmZmVjdHMgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBmdWxsc2NyZWVuQnRuOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGZ1bGxzY3JlZW5MaXN0ZW5lckF0dGFjaGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoY2FsbGJhY2tzOiBTcGxhc2hTY3JlZW5DYWxsYmFja3MsIG9wdGlvbnM/OiBTcGxhc2hTY3JlZW5PcHRpb25zKSB7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rmoIfpopjpobXpnaJIVE1M57uT5p6EXG4gICAqL1xuICBwdWJsaWMgY3JlYXRlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3Qgc2NyZWVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc2NyZWVuLmNsYXNzTmFtZSA9ICdzcGxhc2gtc2NyZWVuJztcbiAgICBzY3JlZW4uaW5uZXJIVE1MID0gdGhpcy5nZXRTcGxhc2hIVE1MKCk7XG4gICAgdGhpcy5lbGVtZW50ID0gc2NyZWVuO1xuICAgIHRoaXMucHJlbG9hZEJhY2tncm91bmQoKTtcbiAgICByZXR1cm4gc2NyZWVuO1xuICB9XG5cbiAgLyoqXG4gICAqIOmihOWKoOi9veiDjOaZr+WbvueJh1xuICAgKi9cbiAgcHJpdmF0ZSBwcmVsb2FkQmFja2dyb3VuZCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgIHRoaXMuYmdMb2FkZWQgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlICYmIHRoaXMuZWxlbWVudCkge1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgIGltZy5zcmMgPSB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZEltYWdlO1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmJnTG9hZGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSAmJiB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgLy8g5bCP5bu26L+f56Gu5L+d5riy5p+T5a6M5oiQXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQodGhpcy5lbGVtZW50ISkuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgdGhpcy5iZ0xvYWRlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy5pc1Zpc2libGUgJiYgdGhpcy5lbGVtZW50KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICQodGhpcy5lbGVtZW50ISkuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluagh+mimOmhtemdokhUTUxcbiAgICovXG4gIHByaXZhdGUgZ2V0U3BsYXNoSFRNTCgpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5iZ0xvYWRlZCkge1xuICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNwbGFzaC1sb2FkaW5nXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmctc3Bpbm5lclwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzcGxhc2gtYmFja2dyb3VuZFwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke3RoaXMub3B0aW9ucy5iYWNrZ3JvdW5kSW1hZ2V9JylcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzcGxhc2gtYXVyb3JhXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwic3BsYXNoLWVmZmVjdHMtY29udGFpbmVyXCI+PC9kaXY+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3M9XCJzcGxhc2gtdXRpbGl0eS1idXR0b25zXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzcGxhc2gtdXRpbGl0eS1idG4gc3BsYXNoLWZ1bGxzY3JlZW4tYnRuXCIgZGF0YS1mdWxsc2NyZWVuLWJ0biBhcmlhLWxhYmVsPVwi5YiH5o2i5YWo5bGPXCIgdGl0bGU9XCLliIfmjaLlhajlsY9cIj5cbiAgICAgICAgICAke3RoaXMuZ2V0RnVsbHNjcmVlbkljb24oKX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzcz1cInNwbGFzaC1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGxhc2gtdGl0bGUtc2VjdGlvblwiPlxuICAgICAgICAgIDxoMSBjbGFzcz1cInNwbGFzaC10aXRsZVwiIGRhdGEtdGV4dD1cIiR7dGhpcy5vcHRpb25zLnRpdGxlfVwiPiR7dGhpcy5vcHRpb25zLnRpdGxlfTwvaDE+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwbGFzaC1zdWJ0aXRsZS13cmFwcGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BsYXNoLXN1YnRpdGxlLWxpbmVcIj48L2Rpdj5cbiAgICAgICAgICAgIDxoMiBjbGFzcz1cInNwbGFzaC1zdWJ0aXRsZVwiPiR7dGhpcy5vcHRpb25zLnN1YnRpdGxlfTwvaDI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BsYXNoLXN1YnRpdGxlLWxpbmVcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwic3BsYXNoLWJ1dHRvbnNcIj5cbiAgICAgICAgICAke3RoaXMuY3JlYXRlQnV0dG9uc0hUTUwoKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzcz1cInNwbGFzaC1mb290ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvb3Rlci1saW5lXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXItY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXItbGVmdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3Rlci10ZXh0XCI+VmVyIDEuMC4wIOKAoiBWb2lkIFdhbGtlciBTdHVkaW88L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3Rlci1hdXRob3JcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhdXRob3ItbGFiZWxcIj5DcmVhdGVkIGJ5PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImF1dGhvci1uYW1lXCI+UE9BUklFUzwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3Rlci1jb3B5cmlnaHRcIj5cbiAgICAgICAgICAgICAgPHAgeG1sbnM6Y2M9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyNcIj5cbiAgICAgICAgICAgICAgICBMaWNlbnNlZCB1bmRlciBcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC8/cmVmPWNob29zZXItdjFcIiBcbiAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIiBcbiAgICAgICAgICAgICAgICAgICByZWw9XCJsaWNlbnNlIG5vb3BlbmVyIG5vcmVmZXJyZXJcIiBcbiAgICAgICAgICAgICAgICAgICBjbGFzcz1cImxpY2Vuc2UtbGlua1wiPlxuICAgICAgICAgICAgICAgICAgQ0MgQlktTkMtU0EgNC4wXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxpY2Vuc2UtaWNvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL21pcnJvcnMuY3JlYXRpdmVjb21tb25zLm9yZy9wcmVzc2tpdC9pY29ucy9jYy5zdmc/cmVmPWNob29zZXItdjFcIiBhbHQ9XCJDQ1wiIGNsYXNzPVwibGljZW5zZS1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cHM6Ly9taXJyb3JzLmNyZWF0aXZlY29tbW9ucy5vcmcvcHJlc3NraXQvaWNvbnMvYnkuc3ZnP3JlZj1jaG9vc2VyLXYxXCIgYWx0PVwiQllcIiBjbGFzcz1cImxpY2Vuc2UtaWNvblwiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImh0dHBzOi8vbWlycm9ycy5jcmVhdGl2ZWNvbW1vbnMub3JnL3ByZXNza2l0L2ljb25zL25jLnN2Zz9yZWY9Y2hvb3Nlci12MVwiIGFsdD1cIk5DXCIgY2xhc3M9XCJsaWNlbnNlLWljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwczovL21pcnJvcnMuY3JlYXRpdmVjb21tb25zLm9yZy9wcmVzc2tpdC9pY29ucy9zYS5zdmc/cmVmPWNob29zZXItdjFcIiBhbHQ9XCJTQVwiIGNsYXNzPVwibGljZW5zZS1pY29uXCI+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyLXJpZ2h0XCI+XG4gICAgICAgICAgICA8bmF2IGNsYXNzPVwiZm9vdGVyLW5hdmlnYXRpb25cIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cImh0dHBzOi8vZGlzY29yZC5nZy9uSmVjcWU1SFV4XCIgXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9vdGVyLW5hdi1saW5rXCIgXG4gICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiIFxuICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+XG4gICAgICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0yMSAxNWEyIDIgMCAwIDEtMiAySDdsLTQgNFY1YTIgMiAwIDAgMSAyLTJoMTRhMiAyIDAgMCAxIDIgMnpcIj48L3BhdGg+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgRElTQ09SRFxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L25hdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uuaMiemSrkhUTUxcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlQnV0dG9uc0hUTUwoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidXR0b25zOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8g57un57ut5ri45oiPXG4gICAgaWYgKHRoaXMub3B0aW9ucy5oYXNTYXZlRGF0YSkge1xuICAgICAgYnV0dG9ucy5wdXNoKHRoaXMuY3JlYXRlQnV0dG9uKCdjb250aW51ZScsICfnu6fnu63ml4XnqIsnLCAncHJpbWFyeScsIGBcbiAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwb2x5Z29uIHBvaW50cz1cIjUgMyAxOSAxMiA1IDIxIDUgM1wiLz48L3N2Zz5cbiAgICAgIGAsIDAuNCkpO1xuICAgIH1cblxuICAgIC8vIOW8gOWni+aWsOa4uOaIj1xuICAgIGJ1dHRvbnMucHVzaCh0aGlzLmNyZWF0ZUJ1dHRvbignbmV3LWdhbWUnLCAn5byA5ZCv5paw56+H56ugJywgdGhpcy5vcHRpb25zLmhhc1NhdmVEYXRhID8gJ3NlY29uZGFyeScgOiAncHJpbWFyeScsIGBcbiAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIvPjxsaW5lIHgxPVwiMTJcIiB5MT1cIjhcIiB4Mj1cIjEyXCIgeTI9XCIxNlwiLz48bGluZSB4MT1cIjhcIiB5MT1cIjEyXCIgeDI9XCIxNlwiIHkyPVwiMTJcIi8+PC9zdmc+XG4gICAgYCwgMC41KSk7XG5cbiAgICByZXR1cm4gYnV0dG9ucy5qb2luKCcnKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQnV0dG9uKGFjdGlvbjogc3RyaW5nLCBsYWJlbDogc3RyaW5nLCB2YXJpYW50OiBzdHJpbmcsIGljb246IHN0cmluZywgZGVsYXk6IG51bWJlcik6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDxidXR0b24gY2xhc3M9XCJnbGFzcy1idG4gZ2xhc3MtYnRuLSR7dmFyaWFudH1cIiBkYXRhLWFjdGlvbj1cIiR7YWN0aW9ufVwiIGRhdGEtZGVsYXk9XCIke2RlbGF5fVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWljb25cIj4ke2ljb259PC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbGFzcy1idG4tbGFiZWxcIj4ke2xhYmVsfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2J1dHRvbj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOWkhOeQhuaTjeS9nFxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVBY3Rpb24oY2FsbGJhY2s/OiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKCFjYWxsYmFjayB8fCB0aGlzLmlzRXhpdGluZykgcmV0dXJuO1xuXG4gICAgdGhpcy5pc0V4aXRpbmcgPSB0cnVlO1xuICAgIHRoaXMuYW5pbWF0ZU91dCgoKSA9PiB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOmHjeaWsOa4suafk1xuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcbiAgICBjb25zdCB3YXNWaXNpYmxlID0gdGhpcy5pc1Zpc2libGU7XG4gICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuZ2V0U3BsYXNoSFRNTCgpO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIHRoaXMuaW5pdEJhY2tncm91bmRFZmZlY3RzKCk7XG4gICAgaWYgKHdhc1Zpc2libGUpIHtcbiAgICAgIHRoaXMuYW5pbWF0ZUluKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOe7keWumuS6i+S7tlxuICAgKi9cbiAgcHJpdmF0ZSBiaW5kRXZlbnRzKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XG5cbiAgICAvLyDnu5HlrprmjInpkq7ngrnlh7vkuovku7ZcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJy5nbGFzcy1idG5bZGF0YS1hY3Rpb25dJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGFjdGlvbiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLWFjdGlvbicpO1xuICAgICAgdGhpcy5oYW5kbGVCdXR0b25BY3Rpb24oYWN0aW9uKTtcbiAgICB9KTtcblxuICAgIC8vIOe7keWumuWFqOWxj+aMiemSrlxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnW2RhdGEtZnVsbHNjcmVlbi1idG5dJywgKCkgPT4ge1xuICAgICAgdGhpcy50b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgfSk7XG5cbiAgICAvLyDliJ3lp4vljJbmjInpkq7liqjnlLtcbiAgICB0aGlzLmluaXRCdXR0b25BbmltYXRpb25zKCk7XG4gICAgXG4gICAgLy8g5Yid5aeL5YyW5YWo5bGP55uR5ZCsXG4gICAgdGhpcy5hdHRhY2hGdWxsc2NyZWVuTGlzdGVuZXJzKCk7XG4gICAgdGhpcy51cGRhdGVGdWxsc2NyZWVuSWNvbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWkhOeQhuaMiemSruaTjeS9nFxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVCdXR0b25BY3Rpb24oYWN0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAoIWFjdGlvbikgcmV0dXJuO1xuXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgJ25ldy1nYW1lJzpcbiAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24odGhpcy5jYWxsYmFja3Mub25TdGFydE5ld0dhbWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NvbnRpbnVlJzpcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uQ29udGludWVHYW1lKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVBY3Rpb24odGhpcy5jYWxsYmFja3Mub25Db250aW51ZUdhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2V0dGluZ3MnOlxuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25PcGVuU2V0dGluZ3MpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZUFjdGlvbih0aGlzLmNhbGxiYWNrcy5vbk9wZW5TZXR0aW5ncyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdleGl0JzpcbiAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLm9uRXhpdCkge1xuICAgICAgICAgIHRoaXMuaGFuZGxlQWN0aW9uKHRoaXMuY2FsbGJhY2tzLm9uRXhpdCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluaMiemSruWKqOeUu1xuICAgKi9cbiAgcHJpdmF0ZSBpbml0QnV0dG9uQW5pbWF0aW9ucygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgJCh0aGlzLmVsZW1lbnQpXG4gICAgICAuZmluZCgnLmdsYXNzLWJ0bicpXG4gICAgICAuZWFjaCgoXywgZWwpID0+IHtcbiAgICAgICAgY29uc3QgJGJ0biA9ICQoZWwpO1xuICAgICAgICBjb25zdCBkZWxheSA9IHBhcnNlRmxvYXQoJGJ0bi5hdHRyKCdkYXRhLWRlbGF5JykgfHwgJzAnKSAqIDEwMDA7XG5cbiAgICAgICAgJGJ0bi5jc3Moe1xuICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgyMHB4KSByb3RhdGVYKDEwZGVnKScsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICRidG4uYW5pbWF0ZShcbiAgICAgICAgICAgIHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgZHVyYXRpb246IDgwMCxcbiAgICAgICAgICAgICAgZWFzaW5nOiAnc3dpbmcnLCAvLyBqUXVlcnkgZWFzaW5nXG4gICAgICAgICAgICAgIHN0ZXA6IGZ1bmN0aW9uKG5vdywgZngpIHtcbiAgICAgICAgICAgICAgICAgaWYgKGZ4LnByb3AgPT09ICdvcGFjaXR5JykgcmV0dXJuOyAvLyBTa2lwIHRyYW5zZm9ybSBvbiBvcGFjaXR5IHN0ZXBcbiAgICAgICAgICAgICAgICAgLy8gTWFudWFsbHkgaGFuZGxpbmcgY29tcGxleCB0cmFuc2Zvcm0gaWYgbmVlZGVkLCBidXQgalF1ZXJ5IGFuaW1hdGUgb25seSBzdXBwb3J0cyBiYXNpYyBwcm9wcyB1c3VhbGx5LlxuICAgICAgICAgICAgICAgICAvLyBCZXR0ZXIgdG8gdXNlIENTUyB0cmFuc2l0aW9uIGNsYXNzIGZvciBjb21wbGV4IHRyYW5zZm9ybXMsIGJ1dCBoZXJlIHdlIHVzZSBpbmxpbmUgZm9yIHN0YWdnZXIuXG4gICAgICAgICAgICAgICAgIC8vIFNpbXBsaWZpZWQ6XG4gICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgwKSByb3RhdGVYKDApJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIFNpbmNlIGpRdWVyeSBhbmltYXRlIHRyYW5zZm9ybSBzdXBwb3J0IGlzIGxpbWl0ZWQgd2l0aG91dCBwbHVnaW4sIFxuICAgICAgICAgIC8vIHdlJ2xsIGp1c3Qgc2V0IHRoZSBmaW5hbCBzdGF0ZSBhbmQgbGV0IENTUyB0cmFuc2l0aW9uIGhhbmRsZSBpdCBpZiBjbGFzcyBpcyBwcmVzZW50LFxuICAgICAgICAgIC8vIG9yIHVzZSBhIHNpbXBsZSB0aW1lb3V0IHRvIHJlbW92ZSB0aGUgb2Zmc2V0LlxuICAgICAgICAgIC8vIEFjdHVhbGx5LCBsZXQncyByZWx5IG9uIGEgQ1NTIGNsYXNzIGZvciBlbnRyYW5jZS5cbiAgICAgICAgICAkYnRuLmFkZENsYXNzKCdhbmltYXRlLWluJyk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluiDjOaZr+eJueaViFxuICAgKi9cbiAgcHJpdmF0ZSBpbml0QmFja2dyb3VuZEVmZmVjdHMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcblxuICAgIGNvbnN0IGVmZmVjdHNDb250YWluZXIgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLnNwbGFzaC1lZmZlY3RzLWNvbnRhaW5lcicpO1xuICAgIGlmIChlZmZlY3RzQ29udGFpbmVyKSB7XG4gICAgICB0aGlzLmJhY2tncm91bmRFZmZlY3RzID0gbmV3IEJhY2tncm91bmRFZmZlY3RzKCk7XG4gICAgICBjb25zdCBlZmZlY3RzRWxlbWVudCA9IHRoaXMuYmFja2dyb3VuZEVmZmVjdHMuY3JlYXRlRWxlbWVudCgpO1xuICAgICAgZWZmZWN0c0NvbnRhaW5lci5hcHBlbmRDaGlsZChlZmZlY3RzRWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOi/m+WFpeWKqOeUu1xuICAgKi9cbiAgcHJpdmF0ZSBhbmltYXRlSW4oKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcblxuICAgIC8vIOWuueWZqOa3oeWFpVxuICAgICQodGhpcy5lbGVtZW50KS5jc3MoeyBvcGFjaXR5OiAwIH0pO1xuICAgICQodGhpcy5lbGVtZW50KS5hbmltYXRlKHsgb3BhY2l0eTogMSB9LCA4MDApO1xuXG4gICAgLy8g5qCH6aKY5Yqo55S7XG4gICAgY29uc3QgdGl0bGUgPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnLnNwbGFzaC10aXRsZScpO1xuICAgIHRpdGxlLmNzcyh7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTUwcHgpIHNjYWxlKDAuOSknIH0pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGl0bGUuY3NzKHsgdHJhbnNpdGlvbjogJ2FsbCAxcyBjdWJpYy1iZXppZXIoMC4yMiwgMSwgMC4zNiwgMSknLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9KTtcbiAgICB9LCAyMDApO1xuXG4gICAgLy8g5Ymv5qCH6aKY5Yqo55S7XG4gICAgY29uc3Qgc3VidGl0bGUgPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnLnNwbGFzaC1zdWJ0aXRsZS13cmFwcGVyJyk7XG4gICAgc3VidGl0bGUuY3NzKHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgyMHB4KScgfSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgc3VidGl0bGUuY3NzKHsgdHJhbnNpdGlvbjogJ2FsbCAxcyBlYXNlJywgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScgfSk7XG4gICAgfSwgNjAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDpgIDlh7rliqjnlLtcbiAgICovXG4gIHByaXZhdGUgYW5pbWF0ZU91dChjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbGVtZW50KSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFpvb20gaW4gYW5kIGZhZGUgb3V0XG4gICAgY29uc3QgYmcgPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnLnNwbGFzaC1iYWNrZ3JvdW5kJyk7XG4gICAgYmcuY3NzKHsgdHJhbnNmb3JtOiAnc2NhbGUoMS4yKScsIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC44cyBlYXNlLWluJyB9KTtcbiAgICBcbiAgICAkKHRoaXMuZWxlbWVudCkuYW5pbWF0ZSh7IG9wYWNpdHk6IDAgfSwgeyBkdXJhdGlvbjogODAwLCBjb21wbGV0ZTogY2FsbGJhY2sgfSk7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S65qCH6aKY6aG16Z2iXG4gICAqL1xuICBwdWJsaWMgc2hvdygpOiB2b2lkIHtcbiAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgaWYgKHRoaXMuYmdMb2FkZWQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgJCh0aGlzLmVsZW1lbnQhKS5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDlpoLmnpzog4zmma/ov5jmsqHliqDovb3lrozvvIznrYnlvoXliqDovb3lrozmiJDlkI7lho3mmL7npLpcbiAgICAgICAgJCh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOmakOiXj+agh+mimOmhtemdolxuICAgKi9cbiAgcHVibGljIGhpZGUoKTogdm9pZCB7XG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5YWo5bGP5Zu+5qCHXG4gICAqL1xuICBwcml2YXRlIGdldEZ1bGxzY3JlZW5JY29uKCk6IHN0cmluZyB7XG4gICAgY29uc3QgaXNGdWxsc2NyZWVuID0gISEoXG4gICAgICBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgKGRvY3VtZW50IGFzIGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS5tc0Z1bGxzY3JlZW5FbGVtZW50XG4gICAgKTtcblxuICAgIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNOCAzdjNhMiAyIDAgMCAxLTIgMkgzbTE4IDBoLTNhMiAyIDAgMCAxLTItMlYzbTAgMTh2LTNhMiAyIDAgMCAxIDItMmgzTTMgMTZoM2EyIDIgMCAwIDEgMiAydjNcIi8+PC9zdmc+JztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk04IDNINWEyIDIgMCAwIDAtMiAydjNtMTggMFY1YTIgMiAwIDAgMC0yLTJoLTNtMCAxOGgzYTIgMiAwIDAgMCAyLTJ2LTNNMyAxNnYzYTIgMiAwIDAgMCAyIDJoM1wiLz48L3N2Zz4nO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDliIfmjaLlhajlsY9cbiAgICovXG4gIHByaXZhdGUgdG9nZ2xlRnVsbHNjcmVlbigpOiB2b2lkIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgXG4gICAgLy8g5qOA5p+l5b2T5YmN5piv5ZCm5YWo5bGPXG4gICAgY29uc3QgaXNGdWxsc2NyZWVuID0gISEoXG4gICAgICBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgKGRvY3VtZW50IGFzIGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS5tc0Z1bGxzY3JlZW5FbGVtZW50XG4gICAgKTtcbiAgICBcbiAgICBpZiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgICAvLyDpgIDlh7rlhajlsY9cbiAgICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn6YCA5Ye65YWo5bGP5aSx6LSlOicsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICgoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICgoZG9jdW1lbnQgYXMgYW55KS5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoKGRvY3VtZW50IGFzIGFueSkubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOi/m+WFpeWFqOWxj1xuICAgICAgaWYgKGRvYy5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBkb2MucmVxdWVzdEZ1bGxzY3JlZW4oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+WFqOWxj+ivt+axguWksei0pTonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoKGRvYyBhcyBhbnkpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIChkb2MgYXMgYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICgoZG9jIGFzIGFueSkubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgKGRvYyBhcyBhbnkpLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKChkb2MgYXMgYW55KS5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5pu05paw5YWo5bGP5Zu+5qCHXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZUZ1bGxzY3JlZW5JY29uKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XG4gICAgY29uc3QgYnRuID0gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJ1tkYXRhLWZ1bGxzY3JlZW4tYnRuXScpO1xuICAgIGlmIChidG4ubGVuZ3RoKSB7XG4gICAgICBidG4uaHRtbCh0aGlzLmdldEZ1bGxzY3JlZW5JY29uKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDpmYTliqDlhajlsY/nirbmgIHnm5HlkKzlmahcbiAgICovXG4gIHByaXZhdGUgYXR0YWNoRnVsbHNjcmVlbkxpc3RlbmVycygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5mdWxsc2NyZWVuTGlzdGVuZXJBdHRhY2hlZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlRnVsbHNjcmVlbkljb24oKTtcbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignTVNGdWxsc2NyZWVuQ2hhbmdlJywgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSk7XG5cbiAgICB0aGlzLmZ1bGxzY3JlZW5MaXN0ZW5lckF0dGFjaGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDplIDmr4Hnu4Tku7ZcbiAgICovXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmJhY2tncm91bmRFZmZlY3RzKSB7XG4gICAgICB0aGlzLmJhY2tncm91bmRFZmZlY3RzLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuYmFja2dyb3VuZEVmZmVjdHMgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCk7XG4gICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlKCk7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLmZ1bGxzY3JlZW5MaXN0ZW5lckF0dGFjaGVkID0gZmFsc2U7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/SplashScreen.ts\n\n}');
  },
  "./src/mhjg/components/StartScreen.scss": 
  /*!**********************************************!*\
  !*** ./src/mhjg/components/StartScreen.scss ***!
  \**********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL1N0YXJ0U2NyZWVuLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL1N0YXJ0U2NyZWVuLnNjc3M/MzY2YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/StartScreen.scss\n\n}");
  },
  "./src/mhjg/components/StartScreen.ts": 
  /*!********************************************!*\
  !*** ./src/mhjg/components/StartScreen.ts ***!
  \********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StartScreen: () => (/* binding */ StartScreen)\n/* harmony export */ });\n/* harmony import */ var _StartScreen_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StartScreen.scss */ \"./src/mhjg/components/StartScreen.scss\");\n\nclass StartScreen {\n    element = null;\n    callbacks;\n    isVisible = false;\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n    }\n    /**\n     * åˆ›å»ºå¼€å§‹å±å¹•HTMLç»“æ„\n     */\n    createElement() {\n        const screen = document.createElement('div');\n        screen.className = 'start-screen';\n        screen.innerHTML = this.getStartScreenHTML();\n        this.element = screen;\n        this.bindEvents();\n        return screen;\n    }\n    /**\n     * è·å–å¼€å§‹å±å¹•HTML\n     */\n    getStartScreenHTML() {\n        return `\r\n      <div class=\"start-screen-content\">\r\n        <div class=\"start-screen-text\">\r\n          <span class=\"start-text-main\">ç‚¹å‡»æ­¤å¤„å¼€å§‹</span>\r\n          <span class=\"start-text-hint\">Click to Start</span>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        $(this.element).on('click', () => {\n            this.handleStart();\n        });\n        // æ”¯æŒé”®ç›˜ Enter é”®\n        $(document).on('keydown.startScreen', (e) => {\n            if (e.key === 'Enter' && this.isVisible) {\n                this.handleStart();\n            }\n        });\n    }\n    /**\n     * å¤„ç†å¼€å§‹\n     */\n    handleStart() {\n        if (!this.isVisible)\n            return;\n        // æ‰§è¡Œå…¨å±\n        this.requestFullscreen();\n        // æ·¡å‡ºåŠ¨ç”»\n        this.hide(() => {\n            this.callbacks.onStart();\n        });\n    }\n    /**\n     * è¯·æ±‚å…¨å±\n     */\n    requestFullscreen() {\n        const doc = document.documentElement;\n        if (doc.requestFullscreen) {\n            doc.requestFullscreen().catch((err) => {\n                console.log('å…¨å±è¯·æ±‚å¤±è´¥:', err);\n            });\n        }\n        else if (doc.webkitRequestFullscreen) {\n            doc.webkitRequestFullscreen();\n        }\n        else if (doc.mozRequestFullScreen) {\n            doc.mozRequestFullScreen();\n        }\n        else if (doc.msRequestFullscreen) {\n            doc.msRequestFullscreen();\n        }\n    }\n    /**\n     * æ˜¾ç¤ºå¼€å§‹å±å¹•\n     */\n    show() {\n        this.isVisible = true;\n        if (this.element) {\n            $(this.element).addClass('visible');\n        }\n    }\n    /**\n     * éšè—å¼€å§‹å±å¹•\n     */\n    hide(callback) {\n        this.isVisible = false;\n        if (this.element) {\n            $(this.element).removeClass('visible');\n            if (callback) {\n                setTimeout(callback, 400); // ç­‰å¾…æ·¡å‡ºåŠ¨ç”»å®Œæˆ\n            }\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            $(document).off('keydown.startScreen');\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3RDLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxJQUFJLENBQUMsUUFBcUI7UUFDL0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkMsSUFBSSxRQUFRLEVBQUUsQ0FBQztnQkFDYixVQUFVLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsV0FBVztZQUN4QyxDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNJLE9BQU87UUFDWixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvU3RhcnRTY3JlZW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL1N0YXJ0U2NyZWVuLnNjc3MnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGFydFNjcmVlbkNhbGxiYWNrcyB7XHJcbiAgb25TdGFydDogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJ0U2NyZWVuIHtcclxuICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBjYWxsYmFja3M6IFN0YXJ0U2NyZWVuQ2FsbGJhY2tzO1xyXG4gIHByaXZhdGUgaXNWaXNpYmxlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrczogU3RhcnRTY3JlZW5DYWxsYmFja3MpIHtcclxuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu65byA5aeL5bGP5bmVSFRNTOe7k+aehFxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IHNjcmVlbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgc2NyZWVuLmNsYXNzTmFtZSA9ICdzdGFydC1zY3JlZW4nO1xyXG4gICAgc2NyZWVuLmlubmVySFRNTCA9IHRoaXMuZ2V0U3RhcnRTY3JlZW5IVE1MKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBzY3JlZW47XHJcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgIHJldHVybiBzY3JlZW47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blvIDlp4vlsY/luZVIVE1MXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRTdGFydFNjcmVlbkhUTUwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJzdGFydC1zY3JlZW4tY29udGVudFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdGFydC1zY3JlZW4tdGV4dFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGFydC10ZXh0LW1haW5cIj7ngrnlh7vmraTlpITlvIDlp4s8L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXJ0LXRleHQtaGludFwiPkNsaWNrIHRvIFN0YXJ0PC9zcGFuPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnu5Hlrprkuovku7ZcclxuICAgKi9cclxuICBwcml2YXRlIGJpbmRFdmVudHMoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlU3RhcnQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOaUr+aMgemUruebmCBFbnRlciDplK5cclxuICAgICQoZG9jdW1lbnQpLm9uKCdrZXlkb3duLnN0YXJ0U2NyZWVuJywgKGUpID0+IHtcclxuICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmIHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVTdGFydCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWkhOeQhuW8gOWni1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlU3RhcnQoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuaXNWaXNpYmxlKSByZXR1cm47XHJcblxyXG4gICAgLy8g5omn6KGM5YWo5bGPXHJcbiAgICB0aGlzLnJlcXVlc3RGdWxsc2NyZWVuKCk7XHJcblxyXG4gICAgLy8g5reh5Ye65Yqo55S7XHJcbiAgICB0aGlzLmhpZGUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNhbGxiYWNrcy5vblN0YXJ0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOivt+axguWFqOWxj1xyXG4gICAqL1xyXG4gIHByaXZhdGUgcmVxdWVzdEZ1bGxzY3JlZW4oKTogdm9pZCB7XHJcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICBpZiAoZG9jLnJlcXVlc3RGdWxsc2NyZWVuKSB7XHJcbiAgICAgIGRvYy5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygn5YWo5bGP6K+35rGC5aSx6LSlOicsIGVycik7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICgoZG9jIGFzIGFueSkud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcclxuICAgICAgKGRvYyBhcyBhbnkpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XHJcbiAgICB9IGVsc2UgaWYgKChkb2MgYXMgYW55KS5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xyXG4gICAgICAoZG9jIGFzIGFueSkubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcclxuICAgIH0gZWxzZSBpZiAoKGRvYyBhcyBhbnkpLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcclxuICAgICAgKGRvYyBhcyBhbnkpLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYvuekuuW8gOWni+Wxj+W5lVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzaG93KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xyXG4gICAgICAkKHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmakOiXj+W8gOWni+Wxj+W5lVxyXG4gICAqL1xyXG4gIHB1YmxpYyBoaWRlKGNhbGxiYWNrPzogKCkgPT4gdm9pZCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XHJcbiAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDQwMCk7IC8vIOetieW+hea3oeWHuuWKqOeUu+WujOaIkFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDplIDmr4Hnu4Tku7ZcclxuICAgKi9cclxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xyXG4gICAgICAkKGRvY3VtZW50KS5vZmYoJ2tleWRvd24uc3RhcnRTY3JlZW4nKTtcclxuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/StartScreen.ts\n\n}");
  },
  "./src/mhjg/components/TopBar.scss": 
  /*!*****************************************!*\
  !*** ./src/mhjg/components/TopBar.scss ***!
  \*****************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL1RvcEJhci5zY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9Ub3BCYXIuc2Nzcz9kMDg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/TopBar.scss\n\n}");
  },
  "./src/mhjg/components/TopBar.ts": 
  /*!***************************************!*\
  !*** ./src/mhjg/components/TopBar.ts ***!
  \***************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TopBar: () => (/* binding */ TopBar)\n/* harmony export */ });\n/* harmony import */ var _utils_variableReader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/variableReader */ "./src/mhjg/utils/variableReader.ts");\n/* harmony import */ var _TopBar_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TopBar.scss */ "./src/mhjg/components/TopBar.scss");\n\n\nclass TopBar {\n    element = null;\n    worldInputOpen = false;\n    state = {\n        gold: 0,\n        reputation: 0,\n        materials: 0,\n        currentWorld: \'\',\n        innName: \'\',\n    };\n    constructor(initialState) {\n        if (initialState) {\n            this.state = initialState;\n        }\n        else {\n            // ä»å˜é‡è¡¨è¯»å–åˆå§‹çŠ¶æ€ï¼ˆå¼‚æ­¥ï¼Œä¸ç­‰å¾…ï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼‰\n            this.loadFromVariables();\n        }\n    }\n    /**\n     * ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n     */\n    async loadFromVariables() {\n        const gameData = await (0,_utils_variableReader__WEBPACK_IMPORTED_MODULE_0__.readGameData)();\n        this.state = {\n            gold: gameData.gold,\n            reputation: gameData.reputation,\n            materials: gameData.materials,\n            currentWorld: gameData.currentWorld,\n            innName: gameData.innName,\n        };\n        if (this.element) {\n            this.render();\n        }\n    }\n    /**\n     * åˆ›å»ºé¡¶éƒ¨æ HTMLç»“æ„\n     */\n    createElement() {\n        const header = document.createElement(\'header\');\n        header.className = \'mhjg-topbar\';\n        header.innerHTML = this.getTopBarHTML();\n        this.element = header;\n        this.bindEvents();\n        return header;\n    }\n    /**\n     * è·å–é¡¶éƒ¨æ HTML\n     */\n    getTopBarHTML() {\n        return `\n      <div class="topbar-bg"></div>\n      <div class="topbar-content">\n        <div class="topbar-title">\n          <h1 class="title-text" data-inn-name>${this.state.innName || \'è¯¸å¤©ä¾¿æºæ—…åº—\'}</h1>\n          <div class="title-subtitle">\n            <div class="subtitle-line"></div>\n            <span class="subtitle-text">è¿·å¤±è€…çš„åº‡æŠ¤æ‰€</span>\n            <div class="subtitle-line"></div>\n          </div>\n        </div>\n        <div class="topbar-resources">\n          ${this.createResourceHTML(\'gold\', this.state.gold, \'é‡‘å¸\', \'amber\')}\n          ${this.createResourceHTML(\'reputation\', this.state.reputation, \'å£°æœ›\', \'purple\')}\n          ${this.createWorldHTML(this.state.currentWorld)}\n          <button class="fullscreen-btn" data-fullscreen-btn aria-label="åˆ‡æ¢å…¨å±">\n            ${this.getFullscreenIcon()}\n          </button>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºèµ„æºHTML\n     */\n    createResourceHTML(id, value, label, color) {\n        const colorClasses = {\n            amber: {\n                text: \'text-amber-400\',\n                bg: \'from-amber-950/40 to-slate-900/40\',\n                border: \'border-amber-500/20\',\n            },\n            purple: {\n                text: \'text-purple-400\',\n                bg: \'from-purple-950/40 to-slate-900/40\',\n                border: \'border-purple-500/20\',\n            },\n            cyan: {\n                text: \'text-cyan-400\',\n                bg: \'from-cyan-950/40 to-slate-900/40\',\n                border: \'border-cyan-500/20\',\n            },\n        };\n        const colors = colorClasses[color] || colorClasses.amber;\n        const icon = this.getResourceIcon(id);\n        return `\n      <div class="resource-item ${colors.text} ${colors.bg} ${colors.border}">\n        <div class="resource-icon">\n          ${icon}\n        </div>\n        <div class="resource-info">\n          <span class="resource-label">${label}</span>\n          <span class="resource-value">${value.toLocaleString()}</span>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * è·å–èµ„æºå›¾æ ‡\n     */\n    getResourceIcon(id) {\n        const icons = {\n            gold: \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v12M15 9a3 3 0 1 1-6 0"/></svg>\',\n            reputation: \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 .794.588l6.148.886a.5.5 0 0 1 .277.853l-4.45 4.34a1 1 0 0 0-.288.885l1.05 6.12a.5.5 0 0 1-.725.527l-5.494-2.89a1 1 0 0 0-.931 0l-5.494 2.89a.5.5 0 0 1-.725-.527l1.05-6.12a1 1 0 0 0-.288-.885L2.39 11.197a.5.5 0 0 1 .277-.853l6.148-.886a1 1 0 0 0 .794-.588z"/></svg>\',\n            materials: \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>\',\n            mana: \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>\',\n        };\n        return icons[id] || \'\';\n    }\n    /**\n     * åˆ›å»ºä¸–ç•ŒHTML\n     */\n    createWorldHTML(worldName) {\n        return `\n      <div class="world-item text-cyan-400 from-cyan-950/40 to-slate-900/40 border-cyan-500/20" data-world-selector>\n        <div class="resource-icon">\n          ${this.getWorldIcon()}\n        </div>\n        <div class="resource-info">\n          <span class="resource-label">å½“å‰ä¸–ç•Œ</span>\n          <span class="resource-value">${worldName}</span>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * è·å–ä¸–ç•Œå›¾æ ‡\n     */\n    getWorldIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>\';\n    }\n    /**\n     * è·å–å…¨å±å›¾æ ‡\n     */\n    getFullscreenIcon() {\n        // æ£€æŸ¥å½“å‰æ˜¯å¦å…¨å±\n        const isFullscreen = !!(document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement);\n        if (isFullscreen) {\n            // é€€å‡ºå…¨å±å›¾æ ‡\n            return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"/></svg>\';\n        }\n        else {\n            // è¿›å…¥å…¨å±å›¾æ ‡\n            return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/></svg>\';\n        }\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        // ä¸–ç•Œé€‰æ‹©å™¨\n        $(this.element).on(\'click\', \'[data-world-selector]\', e => {\n            e.stopPropagation();\n            this.showWorldInput();\n        });\n        // å…¨å±æŒ‰é’®\n        $(this.element).on(\'click\', \'[data-fullscreen-btn]\', e => {\n            e.stopPropagation();\n            this.toggleFullscreen();\n        });\n        // ç›‘å¬å…¨å±çŠ¶æ€å˜åŒ–ï¼Œæ›´æ–°å›¾æ ‡\n        document.addEventListener(\'fullscreenchange\', () => {\n            this.updateFullscreenIcon();\n        });\n        document.addEventListener(\'webkitfullscreenchange\', () => {\n            this.updateFullscreenIcon();\n        });\n        document.addEventListener(\'mozfullscreenchange\', () => {\n            this.updateFullscreenIcon();\n        });\n        document.addEventListener(\'MSFullscreenChange\', () => {\n            this.updateFullscreenIcon();\n        });\n    }\n    /**\n     * æ˜¾ç¤ºä¸–ç•Œè¾“å…¥æ¡†\n     */\n    showWorldInput() {\n        // é˜²æ­¢é‡å¤æ‰“å¼€\n        if (this.worldInputOpen) {\n            return;\n        }\n        // å¦‚æœå·²ç»å­˜åœ¨è¾“å…¥æ¡†ï¼Œå…ˆç§»é™¤\n        $(\'.world-input-overlay\').remove();\n        this.worldInputOpen = true;\n        const input = $(`\n      <div class="world-input-overlay">\n        <div class="world-input">\n          <h4>ç©¿è¶Šåˆ°æ–°ä¸–ç•Œ</h4>\n          <p class="world-input-desc">è¾“å…¥æ–°ä¸–ç•Œçš„åç§°ï¼Œæ—…åº—å°†ç©¿è¶Šåˆ°è¯¥ä¸–ç•Œè§‚</p>\n          <input type="text" class="world-input-field" placeholder="ä¾‹å¦‚ï¼šç°ä»£éƒ½å¸‚ã€é­”æ³•å­¦é™¢ã€èµ›åšæœ‹å…‹..." value="${this.state.currentWorld}" />\n          <div class="world-input-actions">\n            <button class="world-input-cancel">å–æ¶ˆ</button>\n            <button class="world-input-confirm">ç¡®è®¤ç©¿è¶Š</button>\n          </div>\n        </div>\n      </div>\n    `);\n        input.on(\'click\', \'.world-input-cancel, .world-input-overlay\', e => {\n            if (e.target === input[0] || $(e.target).hasClass(\'world-input-cancel\')) {\n                input.remove();\n                this.worldInputOpen = false;\n            }\n        });\n        input.on(\'click\', \'.world-input-confirm\', async () => {\n            const newWorld = input.find(\'.world-input-field\').val()?.toString().trim();\n            if (newWorld && newWorld !== this.state.currentWorld) {\n                // å…³é—­ä¸–ç•Œè¾“å…¥æ¡†\n                input.remove();\n                this.worldInputOpen = false;\n                const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n                const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n                const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../types */ "./src/mhjg/types.ts"));\n                const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../utils/appState */ "./src/mhjg/utils/appState.ts"));\n                await handleUnifiedRequest({\n                    type: \'world-travel\',\n                    content: {\n                        worldName: newWorld,\n                    },\n                }, {\n                    onSwitchToStory: () => {\n                        handleTabChange(GameTab.STORY);\n                        const storyModal = getStoryModal();\n                        if (storyModal) {\n                            storyModal.show();\n                        }\n                    },\n                    onRefreshStoryIfOpen: () => {\n                        const storyModal = getStoryModal();\n                        if (storyModal && storyModal.isOpen) {\n                            storyModal.refresh();\n                        }\n                    },\n                    onDisableOptions: () => {\n                        const storyModal = getStoryModal();\n                        if (storyModal) {\n                            storyModal.disableOptions();\n                        }\n                    },\n                    onShowGenerating: () => {\n                        const storyModal = getStoryModal();\n                        if (storyModal) {\n                            storyModal.showGenerating();\n                        }\n                    },\n                    onHideGenerating: () => {\n                        const storyModal = getStoryModal();\n                        if (storyModal) {\n                            storyModal.hideGenerating();\n                        }\n                    },\n                    onEnableOptions: () => {\n                        const storyModal = getStoryModal();\n                        if (storyModal) {\n                            storyModal.enableOptions();\n                        }\n                    },\n                    onError: (error) => {\n                        console.error(\'âŒ ä¸–ç•Œç©¿è¶Šå¤±è´¥:\', error);\n                    },\n                    onRefreshStory: () => {\n                        const storyModal = getStoryModal();\n                        if (storyModal) {\n                            storyModal.refresh();\n                        }\n                    },\n                });\n                // æ›´æ–°æœ¬åœ°çŠ¶æ€\n                this.state.currentWorld = newWorld;\n                this.render();\n            }\n            else {\n                // å¦‚æœæ²¡æœ‰è¾“å…¥æˆ–ç›¸åŒï¼Œä¹Ÿå…³é—­è¾“å…¥æ¡†\n                input.remove();\n                this.worldInputOpen = false;\n            }\n        });\n        $(\'body\').append(input);\n        input.find(\'.world-input-field\').focus().select();\n    }\n    /**\n     * åˆ‡æ¢å…¨å±\n     */\n    toggleFullscreen() {\n        const doc = document.documentElement;\n        // æ£€æŸ¥å½“å‰æ˜¯å¦å…¨å±\n        const isFullscreen = !!(document.fullscreenElement ||\n            document.webkitFullscreenElement ||\n            document.mozFullScreenElement ||\n            document.msFullscreenElement);\n        if (isFullscreen) {\n            // é€€å‡ºå…¨å±\n            if (document.exitFullscreen) {\n                document.exitFullscreen().catch((err) => {\n                    console.log(\'é€€å‡ºå…¨å±å¤±è´¥:\', err);\n                });\n            }\n            else if (document.webkitExitFullscreen) {\n                document.webkitExitFullscreen();\n            }\n            else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            }\n            else if (document.msExitFullscreen) {\n                document.msExitFullscreen();\n            }\n        }\n        else {\n            // è¿›å…¥å…¨å±\n            if (doc.requestFullscreen) {\n                doc.requestFullscreen().catch((err) => {\n                    console.log(\'å…¨å±è¯·æ±‚å¤±è´¥:\', err);\n                });\n            }\n            else if (doc.webkitRequestFullscreen) {\n                doc.webkitRequestFullscreen();\n            }\n            else if (doc.mozRequestFullScreen) {\n                doc.mozRequestFullScreen();\n            }\n            else if (doc.msRequestFullscreen) {\n                doc.msRequestFullscreen();\n            }\n        }\n    }\n    /**\n     * æ›´æ–°å…¨å±å›¾æ ‡\n     */\n    updateFullscreenIcon() {\n        if (!this.element)\n            return;\n        const btn = $(this.element).find(\'[data-fullscreen-btn]\');\n        if (btn.length) {\n            btn.html(this.getFullscreenIcon());\n        }\n    }\n    /**\n     * æ›´æ–°çŠ¶æ€\n     */\n    updateState(newState) {\n        this.state = { ...this.state, ...newState };\n        this.render();\n    }\n    /**\n     * é‡æ–°æ¸²æŸ“\n     */\n    render() {\n        if (!this.element)\n            return;\n        this.element.innerHTML = this.getTopBarHTML();\n        this.bindEvents();\n    }\n    /**\n     * æ›´æ–°çŠ¶æ€\n     */\n    updateState(newState) {\n        this.state = { ...this.state, ...newState };\n        if (this.element) {\n            this.render();\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QThCO1FBQy9DLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsR0FBRyxRQUFRLEVBQUUsQ0FBQztRQUM1QyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDaEIsQ0FBQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNJLE9BQU87UUFDWixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9Ub3BCYXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVhZEdhbWVEYXRhIH0gZnJvbSAnLi4vdXRpbHMvdmFyaWFibGVSZWFkZXInO1xuaW1wb3J0ICcuL1RvcEJhci5zY3NzJztcblxuZXhwb3J0IGludGVyZmFjZSBUb3BCYXJTdGF0ZSB7XG4gIGdvbGQ6IG51bWJlcjtcbiAgcmVwdXRhdGlvbjogbnVtYmVyO1xuICBtYXRlcmlhbHM6IG51bWJlcjtcbiAgY3VycmVudFdvcmxkOiBzdHJpbmc7XG4gIGlubk5hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBUb3BCYXIge1xuICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgd29ybGRJbnB1dE9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBzdGF0ZTogVG9wQmFyU3RhdGUgPSB7XG4gICAgZ29sZDogMCxcbiAgICByZXB1dGF0aW9uOiAwLFxuICAgIG1hdGVyaWFsczogMCxcbiAgICBjdXJyZW50V29ybGQ6ICcnLFxuICAgIGlubk5hbWU6ICcnLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKGluaXRpYWxTdGF0ZT86IFRvcEJhclN0YXRlKSB7XG4gICAgaWYgKGluaXRpYWxTdGF0ZSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5LuO5Y+Y6YeP6KGo6K+75Y+W5Yid5aeL54q25oCB77yI5byC5q2l77yM5LiN562J5b6F77yM5L2/55So6buY6K6k5YC877yJXG4gICAgICB0aGlzLmxvYWRGcm9tVmFyaWFibGVzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOS7juWPmOmHj+ihqOWKoOi9veaVsOaNrlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGxvYWRGcm9tVmFyaWFibGVzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGdhbWVEYXRhID0gYXdhaXQgcmVhZEdhbWVEYXRhKCk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGdvbGQ6IGdhbWVEYXRhLmdvbGQsXG4gICAgICByZXB1dGF0aW9uOiBnYW1lRGF0YS5yZXB1dGF0aW9uLFxuICAgICAgbWF0ZXJpYWxzOiBnYW1lRGF0YS5tYXRlcmlhbHMsXG4gICAgICBjdXJyZW50V29ybGQ6IGdhbWVEYXRhLmN1cnJlbnRXb3JsZCxcbiAgICAgIGlubk5hbWU6IGdhbWVEYXRhLmlubk5hbWUsXG4gICAgfTtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rpobbpg6jmoI9IVE1M57uT5p6EXG4gICAqL1xuICBwdWJsaWMgY3JlYXRlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gICAgaGVhZGVyLmNsYXNzTmFtZSA9ICdtaGpnLXRvcGJhcic7XG4gICAgaGVhZGVyLmlubmVySFRNTCA9IHRoaXMuZ2V0VG9wQmFySFRNTCgpO1xuICAgIHRoaXMuZWxlbWVudCA9IGhlYWRlcjtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICByZXR1cm4gaGVhZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPlumhtumDqOagj0hUTUxcbiAgICovXG4gIHByaXZhdGUgZ2V0VG9wQmFySFRNTCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwidG9wYmFyLWJnXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidG9wYmFyLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRvcGJhci10aXRsZVwiPlxuICAgICAgICAgIDxoMSBjbGFzcz1cInRpdGxlLXRleHRcIiBkYXRhLWlubi1uYW1lPiR7dGhpcy5zdGF0ZS5pbm5OYW1lIHx8ICfor7jlpKnkvr/mkLrml4XlupcnfTwvaDE+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlLXN1YnRpdGxlXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3VidGl0bGUtbGluZVwiPjwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdWJ0aXRsZS10ZXh0XCI+6L+35aSx6ICF55qE5bqH5oqk5omAPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1YnRpdGxlLWxpbmVcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0b3BiYXItcmVzb3VyY2VzXCI+XG4gICAgICAgICAgJHt0aGlzLmNyZWF0ZVJlc291cmNlSFRNTCgnZ29sZCcsIHRoaXMuc3RhdGUuZ29sZCwgJ+mHkeW4gScsICdhbWJlcicpfVxuICAgICAgICAgICR7dGhpcy5jcmVhdGVSZXNvdXJjZUhUTUwoJ3JlcHV0YXRpb24nLCB0aGlzLnN0YXRlLnJlcHV0YXRpb24sICflo7DmnJsnLCAncHVycGxlJyl9XG4gICAgICAgICAgJHt0aGlzLmNyZWF0ZVdvcmxkSFRNTCh0aGlzLnN0YXRlLmN1cnJlbnRXb3JsZCl9XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImZ1bGxzY3JlZW4tYnRuXCIgZGF0YS1mdWxsc2NyZWVuLWJ0biBhcmlhLWxhYmVsPVwi5YiH5o2i5YWo5bGPXCI+XG4gICAgICAgICAgICAke3RoaXMuZ2V0RnVsbHNjcmVlbkljb24oKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uui1hOa6kEhUTUxcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlUmVzb3VyY2VIVE1MKGlkOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIsIGxhYmVsOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGNvbG9yQ2xhc3NlczogUmVjb3JkPHN0cmluZywgeyB0ZXh0OiBzdHJpbmc7IGJnOiBzdHJpbmc7IGJvcmRlcjogc3RyaW5nIH0+ID0ge1xuICAgICAgYW1iZXI6IHtcbiAgICAgICAgdGV4dDogJ3RleHQtYW1iZXItNDAwJyxcbiAgICAgICAgYmc6ICdmcm9tLWFtYmVyLTk1MC80MCB0by1zbGF0ZS05MDAvNDAnLFxuICAgICAgICBib3JkZXI6ICdib3JkZXItYW1iZXItNTAwLzIwJyxcbiAgICAgIH0sXG4gICAgICBwdXJwbGU6IHtcbiAgICAgICAgdGV4dDogJ3RleHQtcHVycGxlLTQwMCcsXG4gICAgICAgIGJnOiAnZnJvbS1wdXJwbGUtOTUwLzQwIHRvLXNsYXRlLTkwMC80MCcsXG4gICAgICAgIGJvcmRlcjogJ2JvcmRlci1wdXJwbGUtNTAwLzIwJyxcbiAgICAgIH0sXG4gICAgICBjeWFuOiB7XG4gICAgICAgIHRleHQ6ICd0ZXh0LWN5YW4tNDAwJyxcbiAgICAgICAgYmc6ICdmcm9tLWN5YW4tOTUwLzQwIHRvLXNsYXRlLTkwMC80MCcsXG4gICAgICAgIGJvcmRlcjogJ2JvcmRlci1jeWFuLTUwMC8yMCcsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zdCBjb2xvcnMgPSBjb2xvckNsYXNzZXNbY29sb3JdIHx8IGNvbG9yQ2xhc3Nlcy5hbWJlcjtcbiAgICBjb25zdCBpY29uID0gdGhpcy5nZXRSZXNvdXJjZUljb24oaWQpO1xuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJyZXNvdXJjZS1pdGVtICR7Y29sb3JzLnRleHR9ICR7Y29sb3JzLmJnfSAke2NvbG9ycy5ib3JkZXJ9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXNvdXJjZS1pY29uXCI+XG4gICAgICAgICAgJHtpY29ufVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJlc291cmNlLWluZm9cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc291cmNlLWxhYmVsXCI+JHtsYWJlbH08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJyZXNvdXJjZS12YWx1ZVwiPiR7dmFsdWUudG9Mb2NhbGVTdHJpbmcoKX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5botYTmupDlm77moIdcbiAgICovXG4gIHByaXZhdGUgZ2V0UmVzb3VyY2VJY29uKGlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgZ29sZDogJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIvPjxwYXRoIGQ9XCJNMTIgNnYxMk0xNSA5YTMgMyAwIDEgMS02IDBcIi8+PC9zdmc+JyxcbiAgICAgIHJlcHV0YXRpb246XG4gICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0xMS41NjIgMy4yNjZhLjUuNSAwIDAgMSAuODc2IDBMMTUuMzkgOC44N2ExIDEgMCAwIDAgLjc5NC41ODhsNi4xNDguODg2YS41LjUgMCAwIDEgLjI3Ny44NTNsLTQuNDUgNC4zNGExIDEgMCAwIDAtLjI4OC44ODVsMS4wNSA2LjEyYS41LjUgMCAwIDEtLjcyNS41MjdsLTUuNDk0LTIuODlhMSAxIDAgMCAwLS45MzEgMGwtNS40OTQgMi44OWEuNS41IDAgMCAxLS43MjUtLjUyN2wxLjA1LTYuMTJhMSAxIDAgMCAwLS4yODgtLjg4NUwyLjM5IDExLjE5N2EuNS41IDAgMCAxIC4yNzctLjg1M2w2LjE0OC0uODg2YTEgMSAwIDAgMCAuNzk0LS41ODh6XCIvPjwvc3ZnPicsXG4gICAgICBtYXRlcmlhbHM6XG4gICAgICAgICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0xNC43IDYuM2ExIDEgMCAwIDAgMCAxLjRsMS42IDEuNmExIDEgMCAwIDAgMS40IDBsMy43Ny0zLjc3YTYgNiAwIDAgMS03Ljk0IDcuOTRsLTYuOTEgNi45MWEyLjEyIDIuMTIgMCAwIDEtMy0zbDYuOTEtNi45MWE2IDYgMCAwIDEgNy45NC03Ljk0bC0zLjc2IDMuNzZ6XCIvPjwvc3ZnPicsXG4gICAgICBtYW5hOiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMTIgMnYyME0xNyA1SDkuNWEzLjUgMy41IDAgMCAwIDAgN2g1YTMuNSAzLjUgMCAwIDEgMCA3SDZcIi8+PC9zdmc+JyxcbiAgICB9O1xuICAgIHJldHVybiBpY29uc1tpZF0gfHwgJyc7XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65LiW55WMSFRNTFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVXb3JsZEhUTUwod29ybGROYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwid29ybGQtaXRlbSB0ZXh0LWN5YW4tNDAwIGZyb20tY3lhbi05NTAvNDAgdG8tc2xhdGUtOTAwLzQwIGJvcmRlci1jeWFuLTUwMC8yMFwiIGRhdGEtd29ybGQtc2VsZWN0b3I+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZXNvdXJjZS1pY29uXCI+XG4gICAgICAgICAgJHt0aGlzLmdldFdvcmxkSWNvbigpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJlc291cmNlLWluZm9cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlc291cmNlLWxhYmVsXCI+5b2T5YmN5LiW55WMPC9zcGFuPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzb3VyY2UtdmFsdWVcIj4ke3dvcmxkTmFtZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bkuJbnlYzlm77moIdcbiAgICovXG4gIHByaXZhdGUgZ2V0V29ybGRJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiLz48bGluZSB4MT1cIjJcIiB5MT1cIjEyXCIgeDI9XCIyMlwiIHkyPVwiMTJcIi8+PHBhdGggZD1cIk0xMiAyYTE1LjMgMTUuMyAwIDAgMSA0IDEwIDE1LjMgMTUuMyAwIDAgMS00IDEwIDE1LjMgMTUuMyAwIDAgMS00LTEwIDE1LjMgMTUuMyAwIDAgMSA0LTEwelwiLz48L3N2Zz4nO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluWFqOWxj+Wbvuagh1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRGdWxsc2NyZWVuSWNvbigpOiBzdHJpbmcge1xuICAgIC8vIOajgOafpeW9k+WJjeaYr+WQpuWFqOWxj1xuICAgIGNvbnN0IGlzRnVsbHNjcmVlbiA9ICEhKFxuICAgICAgZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS5tb3pGdWxsU2NyZWVuRWxlbWVudCB8fFxuICAgICAgKGRvY3VtZW50IGFzIGFueSkubXNGdWxsc2NyZWVuRWxlbWVudFxuICAgICk7XG4gICAgXG4gICAgaWYgKGlzRnVsbHNjcmVlbikge1xuICAgICAgLy8g6YCA5Ye65YWo5bGP5Zu+5qCHXG4gICAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTggM3YzYTIgMiAwIDAgMS0yIDJIM20xOCAwaC0zYTIgMiAwIDAgMS0yLTJWM20wIDE4di0zYTIgMiAwIDAgMSAyLTJoM00zIDE2aDNhMiAyIDAgMCAxIDIgMnYzXCIvPjwvc3ZnPic7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOi/m+WFpeWFqOWxj+Wbvuagh1xuICAgICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk04IDNINWEyIDIgMCAwIDAtMiAydjNtMTggMFY1YTIgMiAwIDAgMC0yLTJoLTNtMCAxOGgzYTIgMiAwIDAgMCAyLTJ2LTNNMyAxNnYzYTIgMiAwIDAgMCAyIDJoM1wiLz48L3N2Zz4nO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDnu5Hlrprkuovku7ZcbiAgICovXG4gIHByaXZhdGUgYmluZEV2ZW50cygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgLy8g5LiW55WM6YCJ5oup5ZmoXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS13b3JsZC1zZWxlY3Rvcl0nLCBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnNob3dXb3JsZElucHV0KCk7XG4gICAgfSk7XG5cbiAgICAvLyDlhajlsY/mjInpkq5cbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJ1tkYXRhLWZ1bGxzY3JlZW4tYnRuXScsIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMudG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIOebkeWQrOWFqOWxj+eKtuaAgeWPmOWMlu+8jOabtOaWsOWbvuagh1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUZ1bGxzY3JlZW5JY29uKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlRnVsbHNjcmVlbkljb24oKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVGdWxsc2NyZWVuSWNvbigpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01TRnVsbHNjcmVlbkNoYW5nZScsICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlRnVsbHNjcmVlbkljb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrkuJbnlYzovpPlhaXmoYZcbiAgICovXG4gIHByaXZhdGUgc2hvd1dvcmxkSW5wdXQoKTogdm9pZCB7XG4gICAgLy8g6Ziy5q2i6YeN5aSN5omT5byAXG4gICAgaWYgKHRoaXMud29ybGRJbnB1dE9wZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDlpoLmnpzlt7Lnu4/lrZjlnKjovpPlhaXmoYbvvIzlhYjnp7vpmaRcbiAgICAkKCcud29ybGQtaW5wdXQtb3ZlcmxheScpLnJlbW92ZSgpO1xuXG4gICAgdGhpcy53b3JsZElucHV0T3BlbiA9IHRydWU7XG5cbiAgICBjb25zdCBpbnB1dCA9ICQoYFxuICAgICAgPGRpdiBjbGFzcz1cIndvcmxkLWlucHV0LW92ZXJsYXlcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIndvcmxkLWlucHV0XCI+XG4gICAgICAgICAgPGg0Puepv+i2iuWIsOaWsOS4lueVjDwvaDQ+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ3b3JsZC1pbnB1dC1kZXNjXCI+6L6T5YWl5paw5LiW55WM55qE5ZCN56ew77yM5peF5bqX5bCG56m/6LaK5Yiw6K+l5LiW55WM6KeCPC9wPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwid29ybGQtaW5wdXQtZmllbGRcIiBwbGFjZWhvbGRlcj1cIuS+i+Wmgu+8mueOsOS7o+mDveW4guOAgemtlOazleWtpumZouOAgei1m+WNmuaci+WFiy4uLlwiIHZhbHVlPVwiJHt0aGlzLnN0YXRlLmN1cnJlbnRXb3JsZH1cIiAvPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3b3JsZC1pbnB1dC1hY3Rpb25zXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwid29ybGQtaW5wdXQtY2FuY2VsXCI+5Y+W5raIPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwid29ybGQtaW5wdXQtY29uZmlybVwiPuehruiupOepv+i2ijwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGApO1xuXG4gICAgaW5wdXQub24oJ2NsaWNrJywgJy53b3JsZC1pbnB1dC1jYW5jZWwsIC53b3JsZC1pbnB1dC1vdmVybGF5JywgZSA9PiB7XG4gICAgICBpZiAoZS50YXJnZXQgPT09IGlucHV0WzBdIHx8ICQoZS50YXJnZXQpLmhhc0NsYXNzKCd3b3JsZC1pbnB1dC1jYW5jZWwnKSkge1xuICAgICAgICBpbnB1dC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy53b3JsZElucHV0T3BlbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaW5wdXQub24oJ2NsaWNrJywgJy53b3JsZC1pbnB1dC1jb25maXJtJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbmV3V29ybGQgPSBpbnB1dC5maW5kKCcud29ybGQtaW5wdXQtZmllbGQnKS52YWwoKT8udG9TdHJpbmcoKS50cmltKCk7XG4gICAgICBpZiAobmV3V29ybGQgJiYgbmV3V29ybGQgIT09IHRoaXMuc3RhdGUuY3VycmVudFdvcmxkKSB7XG4gICAgICAgIC8vIOWFs+mXreS4lueVjOi+k+WFpeahhlxuICAgICAgICBpbnB1dC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy53b3JsZElucHV0T3BlbiA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgeyBoYW5kbGVVbmlmaWVkUmVxdWVzdCB9ID0gYXdhaXQgaW1wb3J0KCcuLi91dGlscy91bmlmaWVkUmVxdWVzdEhhbmRsZXInKTtcbiAgICAgICAgY29uc3QgeyBoYW5kbGVUYWJDaGFuZ2UgfSA9IGF3YWl0IGltcG9ydCgnLi4vdXRpbHMvdGFiTWFuYWdlcicpO1xuICAgICAgICBjb25zdCB7IEdhbWVUYWIgfSA9IGF3YWl0IGltcG9ydCgnLi4vdHlwZXMnKTtcbiAgICAgICAgY29uc3QgeyBnZXRTdG9yeU1vZGFsIH0gPSBhd2FpdCBpbXBvcnQoJy4uL3V0aWxzL2FwcFN0YXRlJyk7XG5cbiAgICAgICAgYXdhaXQgaGFuZGxlVW5pZmllZFJlcXVlc3QoXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ3dvcmxkLXRyYXZlbCcsXG4gICAgICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgICAgIHdvcmxkTmFtZTogbmV3V29ybGQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25Td2l0Y2hUb1N0b3J5OiAoKSA9PiB7XG4gICAgICAgICAgICAgIGhhbmRsZVRhYkNoYW5nZShHYW1lVGFiLlNUT1JZKTtcbiAgICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgICBzdG9yeU1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVmcmVzaFN0b3J5SWZPcGVuOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsICYmIHN0b3J5TW9kYWwuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgc3RvcnlNb2RhbC5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRpc2FibGVPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICAgICAgc3RvcnlNb2RhbC5kaXNhYmxlT3B0aW9ucygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TaG93R2VuZXJhdGluZzogKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgICAgIHN0b3J5TW9kYWwuc2hvd0dlbmVyYXRpbmcoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uSGlkZUdlbmVyYXRpbmc6ICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgICBzdG9yeU1vZGFsLmhpZGVHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVuYWJsZU9wdGlvbnM6ICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgICBzdG9yeU1vZGFsLmVuYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRXJyb3I6IChlcnJvcjogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDkuJbnlYznqb/otorlpLHotKU6JywgZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVmcmVzaFN0b3J5OiAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICAgICAgc3RvcnlNb2RhbC5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcblxuICAgICAgICAvLyDmm7TmlrDmnKzlnLDnirbmgIFcbiAgICAgICAgdGhpcy5zdGF0ZS5jdXJyZW50V29ybGQgPSBuZXdXb3JsZDtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOWmguaenOayoeaciei+k+WFpeaIluebuOWQjO+8jOS5n+WFs+mXrei+k+WFpeahhlxuICAgICAgICBpbnB1dC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy53b3JsZElucHV0T3BlbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnYm9keScpLmFwcGVuZChpbnB1dCk7XG4gICAgaW5wdXQuZmluZCgnLndvcmxkLWlucHV0LWZpZWxkJykuZm9jdXMoKS5zZWxlY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliIfmjaLlhajlsY9cbiAgICovXG4gIHByaXZhdGUgdG9nZ2xlRnVsbHNjcmVlbigpOiB2b2lkIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgXG4gICAgLy8g5qOA5p+l5b2T5YmN5piv5ZCm5YWo5bGPXG4gICAgY29uc3QgaXNGdWxsc2NyZWVuID0gISEoXG4gICAgICBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgKGRvY3VtZW50IGFzIGFueSkud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHxcbiAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8XG4gICAgICAoZG9jdW1lbnQgYXMgYW55KS5tc0Z1bGxzY3JlZW5FbGVtZW50XG4gICAgKTtcbiAgICBcbiAgICBpZiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgICAvLyDpgIDlh7rlhajlsY9cbiAgICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn6YCA5Ye65YWo5bGP5aSx6LSlOicsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICgoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICgoZG9jdW1lbnQgYXMgYW55KS5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoKGRvY3VtZW50IGFzIGFueSkubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOi/m+WFpeWFqOWxj1xuICAgICAgaWYgKGRvYy5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBkb2MucmVxdWVzdEZ1bGxzY3JlZW4oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+WFqOWxj+ivt+axguWksei0pTonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoKGRvYyBhcyBhbnkpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIChkb2MgYXMgYW55KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICgoZG9jIGFzIGFueSkubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgKGRvYyBhcyBhbnkpLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKChkb2MgYXMgYW55KS5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgIChkb2MgYXMgYW55KS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICAvKipcbiAgICog5pu05paw5YWo5bGP5Zu+5qCHXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZUZ1bGxzY3JlZW5JY29uKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XG4gICAgY29uc3QgYnRuID0gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJ1tkYXRhLWZ1bGxzY3JlZW4tYnRuXScpO1xuICAgIGlmIChidG4ubGVuZ3RoKSB7XG4gICAgICBidG4uaHRtbCh0aGlzLmdldEZ1bGxzY3JlZW5JY29uKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDnirbmgIFcbiAgICovXG4gIHB1YmxpYyB1cGRhdGVTdGF0ZShuZXdTdGF0ZTogUGFydGlhbDxUb3BCYXJTdGF0ZT4pOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi5uZXdTdGF0ZSB9O1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICog6YeN5paw5riy5p+TXG4gICAqL1xuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldFRvcEJhckhUTUwoKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrDnirbmgIFcbiAgICovXG4gIHB1YmxpYyB1cGRhdGVTdGF0ZShuZXdTdGF0ZTogUGFydGlhbDxUb3BCYXJTdGF0ZT4pOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0geyAuLi50aGlzLnN0YXRlLCAuLi5uZXdTdGF0ZSB9O1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOmUgOavgee7hOS7tlxuICAgKi9cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/TopBar.ts\n\n}');
  },
  "./src/mhjg/components/modals/BuildModal.scss": 
  /*!****************************************************!*\
  !*** ./src/mhjg/components/modals/BuildModal.scss ***!
  \****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9CdWlsZE1vZGFsLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9CdWlsZE1vZGFsLnNjc3M/ZDllMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/BuildModal.scss\n\n}");
  },
  "./src/mhjg/components/modals/BuildModal.ts": 
  /*!**************************************************!*\
  !*** ./src/mhjg/components/modals/BuildModal.ts ***!
  \**************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BuildModal: () => (/* binding */ BuildModal)\n/* harmony export */ });\n/* harmony import */ var _utils_variableReader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/variableReader */ "./src/mhjg/utils/variableReader.ts");\n/* harmony import */ var _BuildModal_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BuildModal.scss */ "./src/mhjg/components/modals/BuildModal.scss");\n/* harmony import */ var _NewFacilityModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NewFacilityModal */ "./src/mhjg/components/modals/NewFacilityModal.ts");\n\n\n\nclass BuildModal {\n    element = null;\n    callbacks;\n    isOpen = false;\n    facilities = [];\n    newFacilityModal = null;\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n        // ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n        this.loadFromVariables();\n    }\n    /**\n     * ä»å˜é‡è¡¨åŠ è½½è®¾æ–½æ•°æ®\n     */\n    async loadFromVariables() {\n        const gameData = await (0,_utils_variableReader__WEBPACK_IMPORTED_MODULE_0__.readGameData)();\n        this.facilities = gameData.facilities;\n        if (this.isOpen && this.element) {\n            this.render();\n        }\n    }\n    /**\n     * åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„\n     */\n    createElement() {\n        const modal = document.createElement(\'div\');\n        modal.className = \'mhjg-modal mhjg-modal-build\';\n        modal.innerHTML = this.getModalHTML();\n        this.element = modal;\n        this.bindEvents();\n        return modal;\n    }\n    /**\n     * è·å–æ¨¡æ€æ¡†HTML\n     */\n    getModalHTML() {\n        if (!this.isOpen)\n            return \'\';\n        return `\n      <div class="modal-backdrop"></div>\n      <div class="modal-window">\n        <div class="modal-header">\n          <div class="modal-header-left">\n            <div class="modal-icon">\n              ${this.getHammerIcon()}\n            </div>\n            <div class="modal-title-group">\n              <h2 class="modal-title">å‡çº§/æ‰©å»º</h2>\n              <p class="modal-subtitle">æŠ•å…¥é‡‘å¸å’Œå»ºææ¥å‡çº§ä½ çš„è®¾æ–½</p>\n            </div>\n          </div>\n          <button class="modal-close" aria-label="å…³é—­">\n            <span class="close-text">å…³é—­è“å›¾</span>\n            ${this.getCloseIcon()}\n          </button>\n        </div>\n        <div class="modal-content">\n          <div class="facilities-grid">\n            ${this.facilities.map((facility, index) => this.createFacilityCard(facility, index)).join(\'\')}\n            <div class="facility-placeholder" data-action="new-facility">\n              <span class="placeholder-icon">+</span>\n              <span class="placeholder-text">æ–°å»º</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºè®¾æ–½å¡ç‰‡\n     */\n    createFacilityCard(facility, index) {\n        const maxLevel = 5;\n        const canUpgrade = facility.ç­‰çº§ < maxLevel;\n        return `\n      <div class="facility-card rpg-panel" data-facility-index="${index}">\n        <div class="facility-header">\n          <h3 class="facility-name">${facility.åç§°}</h3>\n          <div class="facility-level">\n            <div class="level-bars">\n              ${Array.from({ length: maxLevel }, (_, i) => `<div class="level-bar ${i < facility.ç­‰çº§ ? \'level-bar-filled\' : \'level-bar-empty\'}"></div>`).join(\'\')}\n            </div>\n            <span class="level-text">Lv.${facility.ç­‰çº§}</span>\n          </div>\n        </div>\n        <div class="facility-description">\n          <p>${facility.å½“å‰ç­‰çº§æè¿°}</p>\n        </div>\n        <button class="facility-upgrade-btn rpg-btn rpg-btn-primary" ${!canUpgrade ? \'disabled\' : \'\'} data-action="upgrade">\n          ${this.getArrowUpIcon()}\n          ${canUpgrade ? \'å‡çº§\' : \'å·²è¾¾æœ€é«˜ç­‰çº§\'}\n        </button>\n      </div>\n    `;\n    }\n    /**\n     * è·å–å›¾æ ‡\n     */\n    getHammerIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m14.91 7.79 1.77-1.77a1.49 1.49 0 0 0 0-2.12l-3.54-3.54a1.49 1.49 0 0 0-2.12 0L9.12 4.23"/><path d="m8.53 12.91 5.38 5.38"/></svg>\';\n    }\n    getCloseIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\';\n    }\n    getArrowUpIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m16 12-4-4-4 4"/><path d="M12 16V8"/></svg>\';\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        $(this.element).on(\'click\', \'.modal-backdrop, .modal-close\', () => {\n            this.close();\n        });\n        // å‡çº§æŒ‰é’®\n        $(this.element).on(\'click\', \'[data-action="upgrade"]\', e => {\n            e.stopPropagation();\n            const card = $(e.currentTarget).closest(\'.facility-card\');\n            const index = parseInt(card.attr(\'data-facility-index\') || \'0\', 10);\n            this.handleUpgrade(index);\n        });\n        // æ–°å»ºæŒ‰é’®\n        $(this.element).on(\'click\', \'[data-action="new-facility"]\', () => {\n            this.showNewFacilityModal();\n        });\n    }\n    /**\n     * å¤„ç†å‡çº§\n     */\n    async handleUpgrade(index) {\n        const facility = this.facilities[index];\n        if (!facility)\n            return;\n        if (facility.ç­‰çº§ >= 5) {\n            alert(\'è¯¥è®¾æ–½å·²è¾¾åˆ°æœ€é«˜ç­‰çº§\');\n            return;\n        }\n        // è¯»å–å½“å‰èµ„æºï¼ˆè¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”è¯¥ä»å˜é‡è¡¨è¯»å–ï¼‰\n        const { readGameData } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/variableReader */ "./src/mhjg/utils/variableReader.ts"));\n        const gameData = await readGameData();\n        // ç®€åŒ–çš„å‡çº§è´¹ç”¨è®¡ç®—ï¼ˆå®é™…åº”è¯¥ä»é…ç½®è¯»å–ï¼‰\n        const upgradeCost = {\n            gold: (facility.ç­‰çº§ + 1) * 100,\n            materials: (facility.ç­‰çº§ + 1) * 50,\n        };\n        // å…³é—­å‡çº§ç•Œé¢\n        this.close(false);\n        const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n        const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../types */ "./src/mhjg/types.ts"));\n        const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n        await handleUnifiedRequest({\n            type: \'upgrade\',\n            content: {\n                facilityName: facility.åç§°,\n                facilityLevel: facility.ç­‰çº§,\n                cost: upgradeCost,\n                description: `å°†${facility.åç§°}ä»${facility.ç­‰çº§}çº§å‡çº§åˆ°${facility.ç­‰çº§ + 1}çº§`,\n            },\n        }, {\n            onSwitchToStory: () => {\n                handleTabChange(GameTab.STORY);\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.show();\n                }\n            },\n            onRefreshStoryIfOpen: () => {\n                const storyModal = getStoryModal();\n                if (storyModal && storyModal.isOpen) {\n                    storyModal.refresh();\n                }\n            },\n            onDisableOptions: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.disableOptions();\n                }\n            },\n            onShowGenerating: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.showGenerating();\n                }\n            },\n            onHideGenerating: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.hideGenerating();\n                }\n            },\n            onEnableOptions: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.enableOptions();\n                }\n            },\n            onError: (error) => {\n                console.error(\'âŒ å‡çº§è¯·æ±‚å¤±è´¥:\', error);\n            },\n            onRefreshStory: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.refresh();\n                }\n            },\n        });\n    }\n    /**\n     * æ˜¾ç¤ºæ–°å»ºè®¾æ–½æ¨¡æ€æ¡†\n     */\n    showNewFacilityModal() {\n        if (!this.newFacilityModal) {\n            this.newFacilityModal = new _NewFacilityModal__WEBPACK_IMPORTED_MODULE_2__.NewFacilityModal({\n                onConfirm: (request) => {\n                    this.handleNewFacility(request);\n                },\n                onCancel: () => {\n                    // å…³é—­æ—¶ä¸åšä»»ä½•æ“ä½œ\n                },\n            });\n            document.body.appendChild(this.newFacilityModal.createElement());\n        }\n        this.newFacilityModal.show();\n    }\n    /**\n     * å¤„ç†æ–°å»ºè®¾æ–½è¯·æ±‚\n     */\n    handleNewFacility(request) {\n        console.log(\'ğŸ—ï¸ æ–°å»ºè®¾æ–½è¯·æ±‚:\', request);\n        // TODO: å®ç°æ–°å»ºè®¾æ–½é€»è¾‘ï¼Œæ›´æ–°å˜é‡è¡¨\n        alert(`æ–°å»ºè®¾æ–½ï¼š${request.name}\\nåˆå§‹ç­‰çº§ï¼š${request.initialLevel}\\næè¿°ï¼š${request.description}\\nï¼ˆåŠŸèƒ½å¾…å®ç°ï¼‰`);\n        // åˆ·æ–°è®¾æ–½åˆ—è¡¨\n        this.loadFromVariables();\n    }\n    /**\n     * æ˜¾ç¤ºæ¨¡æ€æ¡†\n     */\n    show() {\n        this.isOpen = true;\n        // æ¯æ¬¡æ˜¾ç¤ºæ—¶é‡æ–°ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n        this.loadFromVariables();\n        if (this.element) {\n            this.render();\n            $(this.element).addClass(\'open\');\n            $(\'body\').addClass(\'modal-open\');\n        }\n    }\n    /**\n     * é‡æ–°æ¸²æŸ“\n     */\n    render() {\n        if (!this.element)\n            return;\n        this.element.innerHTML = this.getModalHTML();\n        this.bindEvents();\n    }\n    /**\n     * æ£€æŸ¥æ¨¡æ€æ¡†æ˜¯å¦æ‰“å¼€\n     */\n    getIsOpen() {\n        return this.isOpen;\n    }\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    close(triggerCallback = true) {\n        this.isOpen = false;\n        if (this.element) {\n            $(this.element).removeClass(\'open\');\n            $(\'body\').removeClass(\'modal-open\');\n        }\n        if (triggerCallback) {\n            this.callbacks.onClose();\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.newFacilityModal) {\n            this.newFacilityModal.destroy();\n            this.newFacilityModal = null;\n        }\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9CdWlsZE1vZGFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMEQ7QUFDL0I7QUFDK0M7QUFZbkUsTUFBTSxVQUFVO0lBQ2IsT0FBTyxHQUF1QixJQUFJLENBQUM7SUFDbkMsU0FBUyxDQUFzQjtJQUMvQixNQUFNLEdBQVksS0FBSyxDQUFDO0lBQ3hCLFVBQVUsR0FBZSxFQUFFLENBQUM7SUFDNUIsZ0JBQWdCLEdBQTRCLElBQUksQ0FBQztJQUV6RCxZQUFZLFNBQThCO1FBQ3hDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLFdBQVc7UUFDWCxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRUQ7O09BRUc7SUFDSSxLQUFLLENBQUMsaUJBQWlCO1FBQzVCLE1BQU0sUUFBUSxHQUFHLE1BQU0sbUVBQVksRUFBRSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFDLFVBQVUsQ0FBQztRQUN0QyxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQixDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ksYUFBYTtRQUNsQixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzVDLEtBQUssQ0FBQyxTQUFTLEdBQUcsNkJBQTZCLENBQUM7UUFDaEQsS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDckIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVEOztPQUVHO0lBQ0ssWUFBWTtRQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU07WUFBRSxP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SCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxPQUFPO1FBQ1osSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDaEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUMvQixDQUFDO1FBQ0QsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUN0QixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9tb2RhbHMvQnVpbGRNb2RhbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZWFkR2FtZURhdGEgfSBmcm9tICcuLi8uLi91dGlscy92YXJpYWJsZVJlYWRlcic7XG5pbXBvcnQgJy4vQnVpbGRNb2RhbC5zY3NzJztcbmltcG9ydCB7IE5ld0ZhY2lsaXR5TW9kYWwsIE5ld0ZhY2lsaXR5UmVxdWVzdCB9IGZyb20gJy4vTmV3RmFjaWxpdHlNb2RhbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRNb2RhbENhbGxiYWNrcyB7XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBGYWNpbGl0eSB7XG4gIOWQjeensDogc3RyaW5nO1xuICDnrYnnuqc6IG51bWJlcjtcbiAg5b2T5YmN562J57qn5o+P6L+wOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBCdWlsZE1vZGFsIHtcbiAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGNhbGxiYWNrczogQnVpbGRNb2RhbENhbGxiYWNrcztcbiAgcHJpdmF0ZSBpc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBmYWNpbGl0aWVzOiBGYWNpbGl0eVtdID0gW107XG4gIHByaXZhdGUgbmV3RmFjaWxpdHlNb2RhbDogTmV3RmFjaWxpdHlNb2RhbCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrczogQnVpbGRNb2RhbENhbGxiYWNrcykge1xuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xuICAgIC8vIOS7juWPmOmHj+ihqOWKoOi9veaVsOaNrlxuICAgIHRoaXMubG9hZEZyb21WYXJpYWJsZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDku47lj5jph4/ooajliqDovb3orr7mlr3mlbDmja5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBsb2FkRnJvbVZhcmlhYmxlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBnYW1lRGF0YSA9IGF3YWl0IHJlYWRHYW1lRGF0YSgpO1xuICAgIHRoaXMuZmFjaWxpdGllcyA9IGdhbWVEYXRhLmZhY2lsaXRpZXM7XG4gICAgaWYgKHRoaXMuaXNPcGVuICYmIHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65qih5oCB5qGGSFRNTOe7k+aehFxuICAgKi9cbiAgcHVibGljIGNyZWF0ZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbW9kYWwuY2xhc3NOYW1lID0gJ21oamctbW9kYWwgbWhqZy1tb2RhbC1idWlsZCc7XG4gICAgbW9kYWwuaW5uZXJIVE1MID0gdGhpcy5nZXRNb2RhbEhUTUwoKTtcbiAgICB0aGlzLmVsZW1lbnQgPSBtb2RhbDtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICByZXR1cm4gbW9kYWw7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5qih5oCB5qGGSFRNTFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRNb2RhbEhUTUwoKTogc3RyaW5nIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm4gJyc7XG5cbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtd2luZG93XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyLWxlZnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1pY29uXCI+XG4gICAgICAgICAgICAgICR7dGhpcy5nZXRIYW1tZXJJY29uKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZS1ncm91cFwiPlxuICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPuWNh+e6py/mianlu7o8L2gyPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1vZGFsLXN1YnRpdGxlXCI+5oqV5YWl6YeR5biB5ZKM5bu65p2Q5p2l5Y2H57qn5L2g55qE6K6+5pa9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNsb3NlXCIgYXJpYS1sYWJlbD1cIuWFs+mXrVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbG9zZS10ZXh0XCI+5YWz6Zet6JOd5Zu+PC9zcGFuPlxuICAgICAgICAgICAgJHt0aGlzLmdldENsb3NlSWNvbigpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmFjaWxpdGllcy1ncmlkXCI+XG4gICAgICAgICAgICAke3RoaXMuZmFjaWxpdGllcy5tYXAoKGZhY2lsaXR5LCBpbmRleCkgPT4gdGhpcy5jcmVhdGVGYWNpbGl0eUNhcmQoZmFjaWxpdHksIGluZGV4KSkuam9pbignJyl9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmFjaWxpdHktcGxhY2Vob2xkZXJcIiBkYXRhLWFjdGlvbj1cIm5ldy1mYWNpbGl0eVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYWNlaG9sZGVyLWljb25cIj4rPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInBsYWNlaG9sZGVyLXRleHRcIj7mlrDlu7o8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uuiuvuaWveWNoeeJh1xuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVGYWNpbGl0eUNhcmQoZmFjaWxpdHk6IEZhY2lsaXR5LCBpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBtYXhMZXZlbCA9IDU7XG4gICAgY29uc3QgY2FuVXBncmFkZSA9IGZhY2lsaXR5Luetiee6pyA8IG1heExldmVsO1xuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJmYWNpbGl0eS1jYXJkIHJwZy1wYW5lbFwiIGRhdGEtZmFjaWxpdHktaW5kZXg9XCIke2luZGV4fVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmFjaWxpdHktaGVhZGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzPVwiZmFjaWxpdHktbmFtZVwiPiR7ZmFjaWxpdHku5ZCN56ewfTwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZhY2lsaXR5LWxldmVsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWwtYmFyc1wiPlxuICAgICAgICAgICAgICAke0FycmF5LmZyb20oXG4gICAgICAgICAgICAgICAgeyBsZW5ndGg6IG1heExldmVsIH0sXG4gICAgICAgICAgICAgICAgKF8sIGkpID0+IGA8ZGl2IGNsYXNzPVwibGV2ZWwtYmFyICR7aSA8IGZhY2lsaXR5Luetiee6pyA/ICdsZXZlbC1iYXItZmlsbGVkJyA6ICdsZXZlbC1iYXItZW1wdHknfVwiPjwvZGl2PmAsXG4gICAgICAgICAgICAgICkuam9pbignJyl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGV2ZWwtdGV4dFwiPkx2LiR7ZmFjaWxpdHku562J57qnfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmYWNpbGl0eS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgIDxwPiR7ZmFjaWxpdHku5b2T5YmN562J57qn5o+P6L+wfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJmYWNpbGl0eS11cGdyYWRlLWJ0biBycGctYnRuIHJwZy1idG4tcHJpbWFyeVwiICR7IWNhblVwZ3JhZGUgPyAnZGlzYWJsZWQnIDogJyd9IGRhdGEtYWN0aW9uPVwidXBncmFkZVwiPlxuICAgICAgICAgICR7dGhpcy5nZXRBcnJvd1VwSWNvbigpfVxuICAgICAgICAgICR7Y2FuVXBncmFkZSA/ICfljYfnuqcnIDogJ+W3sui+vuacgOmrmOetiee6pyd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5blm77moIdcbiAgICovXG4gIHByaXZhdGUgZ2V0SGFtbWVySWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJtMTUgMTItOC41IDguNWMtLjgzLjgzLTIuMTcuODMtMyAwIDAgMCAwIDAgMCAwYTIuMTIgMi4xMiAwIDAgMSAwLTNMMTIgOVwiLz48cGF0aCBkPVwiTTE3LjY0IDE1IDIyIDEwLjY0XCIvPjxwYXRoIGQ9XCJtMTQuOTEgNy43OSAxLjc3LTEuNzdhMS40OSAxLjQ5IDAgMCAwIDAtMi4xMmwtMy41NC0zLjU0YTEuNDkgMS40OSAwIDAgMC0yLjEyIDBMOS4xMiA0LjIzXCIvPjxwYXRoIGQ9XCJtOC41MyAxMi45MSA1LjM4IDUuMzhcIi8+PC9zdmc+JztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2xvc2VJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGxpbmUgeDE9XCIxOFwiIHkxPVwiNlwiIHgyPVwiNlwiIHkyPVwiMThcIi8+PGxpbmUgeDE9XCI2XCIgeTE9XCI2XCIgeDI9XCIxOFwiIHkyPVwiMThcIi8+PC9zdmc+JztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0QXJyb3dVcEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIvPjxwYXRoIGQ9XCJtMTYgMTItNC00LTQgNFwiLz48cGF0aCBkPVwiTTEyIDE2VjhcIi8+PC9zdmc+JztcbiAgfVxuXG4gIC8qKlxuICAgKiDnu5Hlrprkuovku7ZcbiAgICovXG4gIHByaXZhdGUgYmluZEV2ZW50cygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcubW9kYWwtYmFja2Ryb3AsIC5tb2RhbC1jbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIOWNh+e6p+aMiemSrlxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnW2RhdGEtYWN0aW9uPVwidXBncmFkZVwiXScsIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGNhcmQgPSAkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLmZhY2lsaXR5LWNhcmQnKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoY2FyZC5hdHRyKCdkYXRhLWZhY2lsaXR5LWluZGV4JykgfHwgJzAnLCAxMCk7XG4gICAgICB0aGlzLmhhbmRsZVVwZ3JhZGUoaW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLy8g5paw5bu65oyJ6ZKuXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICdbZGF0YS1hY3Rpb249XCJuZXctZmFjaWxpdHlcIl0nLCAoKSA9PiB7XG4gICAgICB0aGlzLnNob3dOZXdGYWNpbGl0eU1vZGFsKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog5aSE55CG5Y2H57qnXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZVVwZ3JhZGUoaW5kZXg6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGZhY2lsaXR5ID0gdGhpcy5mYWNpbGl0aWVzW2luZGV4XTtcbiAgICBpZiAoIWZhY2lsaXR5KSByZXR1cm47XG5cbiAgICBpZiAoZmFjaWxpdHku562J57qnID49IDUpIHtcbiAgICAgIGFsZXJ0KCfor6Xorr7mlr3lt7Lovr7liLDmnIDpq5jnrYnnuqcnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDor7vlj5blvZPliY3otYTmupDvvIjov5nph4znroDljJblpITnkIbvvIzlrp7pmYXlupTor6Xku47lj5jph4/ooajor7vlj5bvvIlcbiAgICBjb25zdCB7IHJlYWRHYW1lRGF0YSB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy92YXJpYWJsZVJlYWRlcicpO1xuICAgIGNvbnN0IGdhbWVEYXRhID0gYXdhaXQgcmVhZEdhbWVEYXRhKCk7XG4gICAgXG4gICAgLy8g566A5YyW55qE5Y2H57qn6LS555So6K6h566X77yI5a6e6ZmF5bqU6K+l5LuO6YWN572u6K+75Y+W77yJXG4gICAgY29uc3QgdXBncmFkZUNvc3QgPSB7XG4gICAgICBnb2xkOiAoZmFjaWxpdHku562J57qnICsgMSkgKiAxMDAsXG4gICAgICBtYXRlcmlhbHM6IChmYWNpbGl0eS7nrYnnuqcgKyAxKSAqIDUwLFxuICAgIH07XG5cbiAgICAvLyDlhbPpl63ljYfnuqfnlYzpnaJcbiAgICB0aGlzLmNsb3NlKGZhbHNlKTtcblxuICAgIGNvbnN0IHsgaGFuZGxlVW5pZmllZFJlcXVlc3QgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdXRpbHMvdW5pZmllZFJlcXVlc3RIYW5kbGVyJyk7XG4gICAgY29uc3QgeyBoYW5kbGVUYWJDaGFuZ2UgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdXRpbHMvdGFiTWFuYWdlcicpO1xuICAgIGNvbnN0IHsgR2FtZVRhYiB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi90eXBlcycpO1xuICAgIGNvbnN0IHsgZ2V0U3RvcnlNb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy9hcHBTdGF0ZScpO1xuXG4gICAgYXdhaXQgaGFuZGxlVW5pZmllZFJlcXVlc3QoXG4gICAgICB7XG4gICAgICB0eXBlOiAndXBncmFkZScsXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgZmFjaWxpdHlOYW1lOiBmYWNpbGl0eS7lkI3np7AsXG4gICAgICAgIGZhY2lsaXR5TGV2ZWw6IGZhY2lsaXR5Luetiee6pyxcbiAgICAgICAgICBjb3N0OiB1cGdyYWRlQ29zdCxcbiAgICAgICAgZGVzY3JpcHRpb246IGDlsIYke2ZhY2lsaXR5LuWQjeensH3ku44ke2ZhY2lsaXR5Luetiee6p33nuqfljYfnuqfliLAke2ZhY2lsaXR5Luetiee6pyArIDF957qnYCxcbiAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvblN3aXRjaFRvU3Rvcnk6ICgpID0+IHtcbiAgICAgICAgICBoYW5kbGVUYWJDaGFuZ2UoR2FtZVRhYi5TVE9SWSk7XG4gICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgc3RvcnlNb2RhbC5zaG93KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblJlZnJlc2hTdG9yeUlmT3BlbjogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgaWYgKHN0b3J5TW9kYWwgJiYgc3RvcnlNb2RhbC5pc09wZW4pIHtcbiAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25EaXNhYmxlT3B0aW9uczogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgIHN0b3J5TW9kYWwuZGlzYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uU2hvd0dlbmVyYXRpbmc6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICBzdG9yeU1vZGFsLnNob3dHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhpZGVHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgc3RvcnlNb2RhbC5oaWRlR2VuZXJhdGluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25FbmFibGVPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDljYfnuqfor7fmsYLlpLHotKU6JywgZXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlZnJlc2hTdG9yeTogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrmlrDlu7rorr7mlr3mqKHmgIHmoYZcbiAgICovXG4gIHByaXZhdGUgc2hvd05ld0ZhY2lsaXR5TW9kYWwoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLm5ld0ZhY2lsaXR5TW9kYWwpIHtcbiAgICAgIHRoaXMubmV3RmFjaWxpdHlNb2RhbCA9IG5ldyBOZXdGYWNpbGl0eU1vZGFsKHtcbiAgICAgICAgb25Db25maXJtOiAocmVxdWVzdDogTmV3RmFjaWxpdHlSZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVOZXdGYWNpbGl0eShyZXF1ZXN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICAvLyDlhbPpl63ml7bkuI3lgZrku7vkvZXmk43kvZxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLm5ld0ZhY2lsaXR5TW9kYWwuY3JlYXRlRWxlbWVudCgpKTtcbiAgICB9XG4gICAgdGhpcy5uZXdGYWNpbGl0eU1vZGFsLnNob3coKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlpITnkIbmlrDlu7rorr7mlr3or7fmsYJcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlTmV3RmFjaWxpdHkocmVxdWVzdDogTmV3RmFjaWxpdHlSZXF1ZXN0KTogdm9pZCB7XG4gICAgY29uc29sZS5sb2coJ/Cfj5fvuI8g5paw5bu66K6+5pa96K+35rGCOicsIHJlcXVlc3QpO1xuICAgIC8vIFRPRE86IOWunueOsOaWsOW7uuiuvuaWvemAu+i+ke+8jOabtOaWsOWPmOmHj+ihqFxuICAgIGFsZXJ0KGDmlrDlu7rorr7mlr3vvJoke3JlcXVlc3QubmFtZX1cXG7liJ3lp4vnrYnnuqfvvJoke3JlcXVlc3QuaW5pdGlhbExldmVsfVxcbuaPj+i/sO+8miR7cmVxdWVzdC5kZXNjcmlwdGlvbn1cXG7vvIjlip/og73lvoXlrp7njrDvvIlgKTtcbiAgICAvLyDliLfmlrDorr7mlr3liJfooahcbiAgICB0aGlzLmxvYWRGcm9tVmFyaWFibGVzKCk7XG4gIH1cblxuICAvKipcbiAgICog5pi+56S65qih5oCB5qGGXG4gICAqL1xuICBwdWJsaWMgc2hvdygpOiB2b2lkIHtcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gICAgLy8g5q+P5qyh5pi+56S65pe26YeN5paw5LuO5Y+Y6YeP6KGo5Yqg6L295pWw5o2uXG4gICAgdGhpcy5sb2FkRnJvbVZhcmlhYmxlcygpO1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAkKHRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDph43mlrDmuLLmn5NcbiAgICovXG4gIHByaXZhdGUgcmVuZGVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XG4gICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuZ2V0TW9kYWxIVE1MKCk7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gIH1cblxuICAvKipcbiAgICog5qOA5p+l5qih5oCB5qGG5piv5ZCm5omT5byAXG4gICAqL1xuICBwdWJsaWMgZ2V0SXNPcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzT3BlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiDlhbPpl63mqKHmgIHmoYZcbiAgICovXG4gIHB1YmxpYyBjbG9zZSh0cmlnZ2VyQ2FsbGJhY2s6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgIH1cbiAgICBpZiAodHJpZ2dlckNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOmUgOavgee7hOS7tlxuICAgKi9cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubmV3RmFjaWxpdHlNb2RhbCkge1xuICAgICAgdGhpcy5uZXdGYWNpbGl0eU1vZGFsLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMubmV3RmFjaWxpdHlNb2RhbCA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICQodGhpcy5lbGVtZW50KS5vZmYoKTtcbiAgICAgICQodGhpcy5lbGVtZW50KS5yZW1vdmUoKTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/BuildModal.ts\n\n}');
  },
  "./src/mhjg/components/modals/GuestsModal.scss": 
  /*!*****************************************************!*\
  !*** ./src/mhjg/components/modals/GuestsModal.scss ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9HdWVzdHNNb2RhbC5zY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9tb2RhbHMvR3Vlc3RzTW9kYWwuc2Nzcz9kYWM3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/GuestsModal.scss\n\n}");
  },
  "./src/mhjg/components/modals/GuestsModal.ts": 
  /*!***************************************************!*\
  !*** ./src/mhjg/components/modals/GuestsModal.ts ***!
  \***************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GuestsModal: () => (/* binding */ GuestsModal)\n/* harmony export */ });\n/* harmony import */ var _utils_variableReader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/variableReader */ "./src/mhjg/utils/variableReader.ts");\n/* harmony import */ var _GuestsModal_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GuestsModal.scss */ "./src/mhjg/components/modals/GuestsModal.scss");\n\n\nconst GUEST_INTERACTION_OPTIONS = [\n    {\n        label: \'é¼“åŠ±æ¶ˆè´¹\',\n        prompt_template: \'ä½ å†³å®šé¼“åŠ±${guest_name}è¿›è¡Œè¿›ä¸€æ­¥çš„æ¶ˆè´¹ã€‚\',\n    },\n    {\n        label: \'èµ é€ç¤¼ç‰©\',\n        prompt_template: \'ä½ å†³å®šå¯¹${guest_name}èµ é€å°ç¤¼ç‰©ä»¥ç¤ºå‹å¥½ã€‚\',\n    },\n    {\n        label: \'æ‹›å‹Ÿå‘˜å·¥\',\n        prompt_template: \'ä½ å†³å®šè¯•å›¾è¯´æœ${guest_name}æˆä¸ºå‘˜å·¥ã€‚\',\n    },\n    {\n        label: \'æ‰“å¬æƒ…æŠ¥\',\n        prompt_template: \'ä½ å†³å®šå‘${guest_name}æ‰“å¬å…³äºè¿™ä¸ªä¸–ç•Œçš„æƒ…æŠ¥å’Œä¼ é—»ã€‚\',\n    },\n    {\n        label: \'ç‰¹æ®Šäº¤æ˜“\',\n        prompt_template: \'ä½ å†³å®šè¯¢é—®${guest_name}æ˜¯å¦æ„¿æ„ç”¨èº«ä¸Šçš„ç‰©å“æˆ–èƒ½åŠ›æ¥æŠµæ‰£è´¹ç”¨ã€‚\',\n    },\n    {\n        label: \'å€¾å¬å®‰æŠš\',\n        prompt_template: \'ä½ å†³å®šå€¾å¬${guest_name}çš„çƒ¦æ¼å¹¶å°è¯•å®‰æŠšå¯¹æ–¹çš„æƒ…ç»ªã€‚\',\n    },\n    {\n        label: \'è­¦å‘Šè§„åŠ\',\n        prompt_template: \'ä½ å†³å®šä¸¥è‚ƒè­¦å‘Š${guest_name}éµå®ˆæ—…åº—çš„è§„çŸ©ã€‚\',\n    },\n    {\n        label: \'å¼ºåˆ¶é©±é€\',\n        prompt_template: \'ä½ å†³å®šåŠ¨ç”¨æ³•åˆ™æƒé™å°†${guest_name}å¼ºåˆ¶é©±é€å‡ºåº—ã€‚\',\n    },\n];\nclass GuestsModal {\n    element = null;\n    guests = [];\n    callbacks;\n    isOpen = false;\n    currentInteractingGuest = null;\n    constructor(guests, callbacks) {\n        if (guests) {\n            this.guests = guests;\n        }\n        else {\n            // ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n            this.loadFromVariables();\n        }\n        this.callbacks = callbacks;\n    }\n    /**\n     * ä»å˜é‡è¡¨åŠ è½½å®¢äººæ•°æ®\n     */\n    async loadFromVariables() {\n        const gameData = await (0,_utils_variableReader__WEBPACK_IMPORTED_MODULE_0__.readGameData)();\n        console.log(\'ğŸ“‹ GuestsModal åŠ è½½æ•°æ®:\', {\n            guestsCount: gameData.guests.length,\n            guests: gameData.guests,\n        });\n        // è½¬æ¢å®¢äººæ•°æ®æ ¼å¼\n        this.guests = gameData.guests.map((guest, index) => {\n            // å¤„ç† MVU æ ¼å¼ï¼šå¦‚æœ guest æ˜¯ [å€¼, "æè¿°"] æ ¼å¼ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ \n            let guestValue = guest;\n            if (Array.isArray(guest) && guest.length > 0) {\n                guestValue = guest[0];\n            }\n            return {\n                id: String(index + 1),\n                name: guestValue?.åç§° || \'\',\n                race: guestValue?.ç§æ— || \'\',\n                class: guestValue?.èŒä¸šå || \'\',\n                level: guestValue?.èŒä¸šç­‰çº§ || 1,\n                appearance: guestValue?.å¤–è²Œæè¿° || \'\',\n                mood: guestValue?.å¿ƒæƒ…å€¼ || 0,\n                gold: guestValue?.æ¶ˆè´¹é‡‘é¢ || 0,\n                request: guestValue?.å½“å‰æƒ³æ³• || \'\',\n                avatarUrl: `https://picsum.photos/100?random=${index + 1}`,\n            };\n        });\n        console.log(\'âœ… GuestsModal è½¬æ¢åçš„å®¢äºº:\', this.guests);\n        if (this.isOpen && this.element) {\n            this.render();\n        }\n    }\n    /**\n     * é‡æ–°æ¸²æŸ“\n     */\n    render() {\n        if (!this.element)\n            return;\n        this.element.innerHTML = this.getModalHTML();\n        this.bindEvents();\n        $(this.element).addClass(\'open\');\n        $(\'body\').addClass(\'modal-open\');\n    }\n    /**\n     * åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„\n     */\n    createElement() {\n        const modal = document.createElement(\'div\');\n        modal.className = \'mhjg-modal mhjg-modal-guests\';\n        modal.innerHTML = this.getModalHTML();\n        this.element = modal;\n        this.bindEvents();\n        return modal;\n    }\n    /**\n     * è·å–æ¨¡æ€æ¡†HTML\n     */\n    getModalHTML() {\n        if (!this.isOpen)\n            return \'\';\n        return `\r\n      <div class="modal-backdrop"></div>\r\n      <div class="modal-window">\r\n        <div class="modal-header">\r\n          <div class="modal-header-left">\r\n            <div class="modal-icon">\r\n              ${this.getUsersIcon()}\r\n            </div>\r\n            <div class="modal-title-group">\r\n              <h2 class="modal-title">å®¾å®¢ç™»è®°</h2>\r\n              <p class="modal-subtitle">ä»Šæ™šæœ‰ ${this.guests.length} ä½å¯»æ±‚åº‡æŠ¤çš„æ—…äºº</p>\r\n            </div>\r\n          </div>\r\n          <button class="modal-close" aria-label="å…³é—­">\r\n            ${this.getCloseIcon()}\r\n          </button>\r\n        </div>\r\n        <div class="modal-content">\r\n          <div class="guests-grid">\r\n            ${this.guests.map(guest => this.createGuestCard(guest)).join(\'\')}\r\n            <div class="guest-placeholder">\r\n              <span class="placeholder-icon">+</span>\r\n              <span class="placeholder-text">ç­‰å¾…å®¾å®¢</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * åˆ›å»ºå®¾å®¢å¡ç‰‡\n     */\n    createGuestCard(guest) {\n        const moodColor = this.getMoodColor(guest.mood);\n        const moodText = this.getMoodText(guest.mood);\n        return `\r\n      <div class="guest-card rpg-panel" data-guest-id="${guest.id}">\r\n        <div class="guest-header">\r\n          <div class="guest-avatar-wrapper">\r\n            <img \r\n              src="${guest.avatarUrl}" \r\n              alt="${guest.name}" \r\n              class="guest-avatar"\r\n            />\r\n            <div class="guest-level-badge">Lv.${guest.level || 1}</div>\r\n            <div class="guest-mood-badge" style="background: ${moodColor}">\r\n              ${guest.mood || 0}\r\n            </div>\r\n          </div>\r\n          <div class="guest-info">\r\n            <h3 class="guest-name">${guest.name}</h3>\r\n            <div class="guest-tags">\r\n              <span class="guest-tag guest-tag-race">${guest.race}</span>\r\n              <span class="guest-tag guest-tag-class">${guest.class}</span>\r\n            </div>\r\n            <div class="guest-stats">\r\n              <div class="guest-stat-item">\r\n                <span class="stat-label">å¿ƒæƒ…</span>\r\n                <div class="stat-bar">\r\n                  <div class="stat-bar-fill" style="width: ${guest.mood || 0}%; background: ${moodColor}"></div>\r\n                </div>\r\n                <span class="stat-text">${moodText}</span>\r\n              </div>\r\n              <div class="guest-stat-item">\r\n                <span class="stat-label">æ¶ˆè´¹</span>\r\n                <span class="stat-value stat-gold">${guest.gold || 0} é‡‘å¸</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        ${guest.appearance ? `\r\n        <div class="guest-appearance">\r\n          <div class="appearance-label">\r\n            ${this.getEyeIcon()}\r\n            <span>å¤–è²Œ</span>\r\n          </div>\r\n          <p class="appearance-text">${guest.appearance}</p>\r\n        </div>\r\n        ` : \'\'}\r\n        <div class="guest-request">\r\n          <div class="request-quote">"</div>\r\n          <p class="request-text">${guest.request || \'å“¼...\'}</p>\r\n        </div>\r\n        <div class="guest-actions">\r\n          <button class="guest-btn guest-btn-interact">\r\n            ${this.getMessageIcon()}\r\n            äº’åŠ¨\r\n          </button>\r\n          <button class="guest-btn guest-btn-more">\r\n            ${this.getMoreIcon()}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * è·å–å¿ƒæƒ…é¢œè‰²\n     */\n    getMoodColor(mood) {\n        if (mood >= 80)\n            return \'rgba(16, 185, 129, 0.2)\'; // emerald\n        if (mood >= 60)\n            return \'rgba(99, 102, 241, 0.2)\'; // indigo\n        if (mood >= 40)\n            return \'rgba(251, 191, 36, 0.2)\'; // amber\n        return \'rgba(239, 68, 68, 0.2)\'; // red\n    }\n    /**\n     * è·å–å¿ƒæƒ…æ–‡æœ¬\n     */\n    getMoodText(mood) {\n        if (mood >= 80)\n            return \'éå¸¸æ„‰å¿«\';\n        if (mood >= 60)\n            return \'æ„‰å¿«\';\n        if (mood >= 40)\n            return \'ä¸€èˆ¬\';\n        if (mood >= 20)\n            return \'ä½è½\';\n        return \'éå¸¸ä½è½\';\n    }\n    /**\n     * è·å–çœ¼ç›å›¾æ ‡\n     */\n    getEyeIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>\';\n    }\n    /**\n     * è·å–å›¾æ ‡\n     */\n    getUsersIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>\';\n    }\n    getCloseIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\';\n    }\n    getMessageIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>\';\n    }\n    getMoreIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>\';\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        $(this.element).on(\'click\', \'.modal-backdrop, .modal-close\', () => {\n            this.close();\n        });\n        $(this.element).on(\'click\', \'.guest-btn-interact\', e => {\n            e.stopPropagation();\n            const card = $(e.currentTarget).closest(\'.guest-card\');\n            const guestId = card.attr(\'data-guest-id\');\n            const guest = this.guests.find(g => g.id === guestId);\n            if (guest) {\n                this.showInteractionMenu(guest);\n            }\n        });\n        // ç‚¹å‡»äº’åŠ¨é€‰é¡¹\n        $(this.element).on(\'click\', \'.interaction-option\', e => {\n            e.stopPropagation();\n            const optionIndex = parseInt($(e.currentTarget).attr(\'data-option-index\') || \'0\', 10);\n            const option = GUEST_INTERACTION_OPTIONS[optionIndex];\n            if (option && this.currentInteractingGuest) {\n                this.handleInteraction(option, this.currentInteractingGuest);\n            }\n        });\n        // ç‚¹å‡»å…³é—­äº’åŠ¨èœå•\n        $(this.element).on(\'click\', \'.interaction-menu-backdrop\', () => {\n            this.hideInteractionMenu();\n        });\n    }\n    /**\n     * æ˜¾ç¤ºæ¨¡æ€æ¡†\n     */\n    show() {\n        this.isOpen = true;\n        // æ¯æ¬¡æ˜¾ç¤ºæ—¶é‡æ–°ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n        this.loadFromVariables();\n        if (this.element) {\n            this.render();\n        }\n    }\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    close(triggerCallback = true) {\n        this.isOpen = false;\n        if (this.element) {\n            $(this.element).removeClass(\'open\');\n            $(\'body\').removeClass(\'modal-open\');\n        }\n        if (triggerCallback) {\n            this.callbacks.onClose();\n        }\n    }\n    /**\n     * æ£€æŸ¥æ¨¡æ€æ¡†æ˜¯å¦æ‰“å¼€\n     */\n    getIsOpen() {\n        return this.isOpen;\n    }\n    /**\n     * æ›´æ–°å®¾å®¢åˆ—è¡¨\n     */\n    updateGuests(guests) {\n        this.guests = guests;\n        if (this.isOpen && this.element) {\n            this.element.innerHTML = this.getModalHTML();\n        }\n    }\n    /**\n     * æ˜¾ç¤ºäº’åŠ¨èœå•\n     */\n    showInteractionMenu(guest) {\n        this.currentInteractingGuest = guest;\n        if (!this.element)\n            return;\n        const menuHTML = `\r\n      <div class="interaction-menu-backdrop"></div>\r\n      <div class="interaction-menu">\r\n        <div class="interaction-menu-header">\r\n          <h3>ä¸ ${guest.name} äº’åŠ¨</h3>\r\n          <button class="interaction-menu-close">Ã—</button>\r\n        </div>\r\n        <div class="interaction-menu-content">\r\n          ${GUEST_INTERACTION_OPTIONS.map((option, index) => `\r\n            <button class="interaction-option" data-option-index="${index}">\r\n              ${option.label}\r\n            </button>\r\n          `).join(\'\')}\r\n        </div>\r\n      </div>\r\n    `;\n        $(this.element).append(menuHTML);\n        // ç»‘å®šå…³é—­æŒ‰é’®\n        $(this.element).on(\'click\', \'.interaction-menu-close\', () => {\n            this.hideInteractionMenu();\n        });\n    }\n    /**\n     * éšè—äº’åŠ¨èœå•\n     */\n    hideInteractionMenu() {\n        if (!this.element)\n            return;\n        $(this.element).find(\'.interaction-menu-backdrop, .interaction-menu\').remove();\n        this.currentInteractingGuest = null;\n    }\n    /**\n     * å¤„ç†äº’åŠ¨\n     */\n    async handleInteraction(option, guest) {\n        // æ„å»ºæç¤ºè¯ï¼Œæ›¿æ¢ ${guest_name} å ä½ç¬¦\n        const prompt = option.prompt_template.replace(\'${guest_name}\', guest.name);\n        // éšè—äº’åŠ¨èœå•\n        this.hideInteractionMenu();\n        // å¯¼å…¥å¿…è¦çš„æ¨¡å—\n        const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n        const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../types */ "./src/mhjg/types.ts"));\n        const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n        try {\n            // è°ƒç”¨ç»Ÿä¸€è¯·æ±‚å¤„ç†\n            await handleUnifiedRequest({\n                type: \'guest-interact\',\n                content: prompt,\n            }, {\n                onSwitchToStory: () => {\n                    handleTabChange(GameTab.STORY);\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.show();\n                    }\n                },\n                onRefreshStoryIfOpen: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal && storyModal.isOpen) {\n                        storyModal.refresh();\n                    }\n                },\n                onDisableOptions: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.disableOptions();\n                    }\n                },\n                onShowGenerating: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.showGenerating();\n                    }\n                },\n                onHideGenerating: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.hideGenerating();\n                    }\n                },\n                onEnableOptions: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.enableOptions();\n                    }\n                },\n                onError: (error) => {\n                    console.error(\'âŒ å®¢äººäº’åŠ¨å¤±è´¥:\', error);\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.enableOptions();\n                    }\n                },\n                onRefreshStory: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.refresh();\n                    }\n                },\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ å®¢äººäº’åŠ¨å¼‚å¸¸:\', error);\n            const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n            const storyModal = getStoryModal();\n            if (storyModal) {\n                storyModal.enableOptions();\n            }\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9HdWVzdHNNb2RhbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDMEQ7QUFDOUI7QUFZNUIsTUFBTSx5QkFBeUIsR0FBNkI7SUFDMUQ7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSw2QkFBNkI7S0FDL0M7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLDZCQUE2QjtLQUMvQztJQUNEO1FBQ0UsS0FBSyxFQUFFLE1BQU07UUFDYixlQUFlLEVBQUUsMkJBQTJCO0tBQzdDO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSxrQ0FBa0M7S0FDcEQ7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLHVDQUF1QztLQUN6RDtJQUNEO1FBQ0UsS0FBSyxFQUFFLE1BQU07UUFDYixlQUFlLEVBQUUsa0NBQWtDO0tBQ3BEO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSw4QkFBOEI7S0FDaEQ7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLGdDQUFnQztLQUNsRDtDQUNGLENBQUM7QUFFSyxNQUFNLFdBQVc7SUFDZCxPQUFPLEdBQXVCLElBQUksQ0FBQztJQUNuQyxNQUFNLEdBQVksRUFBRSxDQUFDO0lBQ3JCLFNBQVMsQ0FBdUI7SUFDaEMsTUFBTSxHQUFZLEtBQUssQ0FBQztJQUN4Qix1QkFBdUIsR0FBaUIsSUFBSSxDQUFDO0lBRXJELFlBQVksTUFBc0IsRUFBRSxTQUErQjtRQUNqRSxJQUFJLE1BQU0sRUFBRSxDQUFDO1lBQ1gsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDdkIsQ0FBQzthQUFNLENBQUM7WUFDTixXQUFXO1lBQ1gsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDM0IsQ0FBQztRQUNELElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENB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LE1BQU0sRUFBRSxhQUFhLEVBQUUsR0FBRyxNQUFNLGdKQUE4QixDQUFDO1lBQy9ELE1BQU0sVUFBVSxHQUFHLGFBQWEsRUFBRSxDQUFDO1lBQ25DLElBQUksVUFBVSxFQUFFLENBQUM7Z0JBQ2YsVUFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQzdCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ksT0FBTztRQUNaLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvbW9kYWxzL0d1ZXN0c01vZGFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEd1ZXN0IH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xyXG5pbXBvcnQgeyByZWFkR2FtZURhdGEgfSBmcm9tICcuLi8uLi91dGlscy92YXJpYWJsZVJlYWRlcic7XHJcbmltcG9ydCAnLi9HdWVzdHNNb2RhbC5zY3NzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgR3Vlc3RzTW9kYWxDYWxsYmFja3Mge1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8vIOWuouS6uuS6kuWKqOmAiemhuemFjee9rlxyXG5pbnRlcmZhY2UgR3Vlc3RJbnRlcmFjdGlvbk9wdGlvbiB7XHJcbiAgbGFiZWw6IHN0cmluZztcclxuICBwcm9tcHRfdGVtcGxhdGU6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgR1VFU1RfSU5URVJBQ1RJT05fT1BUSU9OUzogR3Vlc3RJbnRlcmFjdGlvbk9wdGlvbltdID0gW1xyXG4gIHtcclxuICAgIGxhYmVsOiAn6byT5Yqx5raI6LS5JyxcclxuICAgIHByb21wdF90ZW1wbGF0ZTogJ+S9oOWGs+Wumum8k+WKsSR7Z3Vlc3RfbmFtZX3ov5vooYzov5vkuIDmraXnmoTmtojotLnjgIInLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbGFiZWw6ICfotaDpgIHnpLzniaknLFxyXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a5a+5JHtndWVzdF9uYW1lfei1oOmAgeWwj+ekvOeJqeS7peekuuWPi+WlveOAgicsXHJcbiAgfSxcclxuICB7XHJcbiAgICBsYWJlbDogJ+aLm+WLn+WRmOW3pScsXHJcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrpror5Xlm77or7TmnI0ke2d1ZXN0X25hbWV95oiQ5Li65ZGY5bel44CCJyxcclxuICB9LFxyXG4gIHtcclxuICAgIGxhYmVsOiAn5omT5ZCs5oOF5oqlJyxcclxuICAgIHByb21wdF90ZW1wbGF0ZTogJ+S9oOWGs+WumuWQkSR7Z3Vlc3RfbmFtZX3miZPlkKzlhbPkuo7ov5nkuKrkuJbnlYznmoTmg4XmiqXlkozkvKDpl7vjgIInLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbGFiZWw6ICfnibnmrorkuqTmmJMnLFxyXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a6K+i6ZeuJHtndWVzdF9uYW1lfeaYr+WQpuaEv+aEj+eUqOi6q+S4iueahOeJqeWTgeaIluiDveWKm+adpeaKteaJo+i0ueeUqOOAgicsXHJcbiAgfSxcclxuICB7XHJcbiAgICBsYWJlbDogJ+WAvuWQrOWuieaKmicsXHJcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrprlgL7lkKwke2d1ZXN0X25hbWV955qE54Om5oG85bm25bCd6K+V5a6J5oqa5a+55pa555qE5oOF57uq44CCJyxcclxuICB9LFxyXG4gIHtcclxuICAgIGxhYmVsOiAn6K2m5ZGK6KeE5YqdJyxcclxuICAgIHByb21wdF90ZW1wbGF0ZTogJ+S9oOWGs+WumuS4peiCg+itpuWRiiR7Z3Vlc3RfbmFtZX3pgbXlrojml4XlupfnmoTop4Tnn6njgIInLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbGFiZWw6ICflvLrliLbpqbHpgJAnLFxyXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a5Yqo55So5rOV5YiZ5p2D6ZmQ5bCGJHtndWVzdF9uYW1lfeW8uuWItumpsemAkOWHuuW6l+OAgicsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjbGFzcyBHdWVzdHNNb2RhbCB7XHJcbiAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgZ3Vlc3RzOiBHdWVzdFtdID0gW107XHJcbiAgcHJpdmF0ZSBjYWxsYmFja3M6IEd1ZXN0c01vZGFsQ2FsbGJhY2tzO1xyXG4gIHByaXZhdGUgaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBjdXJyZW50SW50ZXJhY3RpbmdHdWVzdDogR3Vlc3QgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgY29uc3RydWN0b3IoZ3Vlc3RzOiBHdWVzdFtdIHwgbnVsbCwgY2FsbGJhY2tzOiBHdWVzdHNNb2RhbENhbGxiYWNrcykge1xyXG4gICAgaWYgKGd1ZXN0cykge1xyXG4gICAgICB0aGlzLmd1ZXN0cyA9IGd1ZXN0cztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOS7juWPmOmHj+ihqOWKoOi9veaVsOaNrlxyXG4gICAgICB0aGlzLmxvYWRGcm9tVmFyaWFibGVzKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS7juWPmOmHj+ihqOWKoOi9veWuouS6uuaVsOaNrlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhc3luYyBsb2FkRnJvbVZhcmlhYmxlcygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGdhbWVEYXRhID0gYXdhaXQgcmVhZEdhbWVEYXRhKCk7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TiyBHdWVzdHNNb2RhbCDliqDovb3mlbDmja46Jywge1xyXG4gICAgICBndWVzdHNDb3VudDogZ2FtZURhdGEuZ3Vlc3RzLmxlbmd0aCxcclxuICAgICAgZ3Vlc3RzOiBnYW1lRGF0YS5ndWVzdHMsXHJcbiAgICB9KTtcclxuICAgIC8vIOi9rOaNouWuouS6uuaVsOaNruagvOW8j1xyXG4gICAgdGhpcy5ndWVzdHMgPSBnYW1lRGF0YS5ndWVzdHMubWFwKChndWVzdCwgaW5kZXgpID0+IHtcclxuICAgICAgLy8g5aSE55CGIE1WVSDmoLzlvI/vvJrlpoLmnpwgZ3Vlc3Qg5pivIFvlgLwsIFwi5o+P6L+wXCJdIOagvOW8j++8jOWPluesrOS4gOS4quWFg+e0oFxyXG4gICAgICBsZXQgZ3Vlc3RWYWx1ZSA9IGd1ZXN0O1xyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShndWVzdCkgJiYgZ3Vlc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGd1ZXN0VmFsdWUgPSBndWVzdFswXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBTdHJpbmcoaW5kZXggKyAxKSxcclxuICAgICAgICBuYW1lOiBndWVzdFZhbHVlPy7lkI3np7AgfHwgJycsXHJcbiAgICAgICAgcmFjZTogZ3Vlc3RWYWx1ZT8u56eN5pePIHx8ICcnLFxyXG4gICAgICAgIGNsYXNzOiBndWVzdFZhbHVlPy7ogYzkuJrlkI0gfHwgJycsXHJcbiAgICAgICAgbGV2ZWw6IGd1ZXN0VmFsdWU/LuiBjOS4muetiee6pyB8fCAxLFxyXG4gICAgICAgIGFwcGVhcmFuY2U6IGd1ZXN0VmFsdWU/LuWkluiyjOaPj+i/sCB8fCAnJyxcclxuICAgICAgICBtb29kOiBndWVzdFZhbHVlPy7lv4Pmg4XlgLwgfHwgMCxcclxuICAgICAgICBnb2xkOiBndWVzdFZhbHVlPy7mtojotLnph5Hpop0gfHwgMCxcclxuICAgICAgICByZXF1ZXN0OiBndWVzdFZhbHVlPy7lvZPliY3mg7Pms5UgfHwgJycsXHJcbiAgICAgICAgYXZhdGFyVXJsOiBgaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzEwMD9yYW5kb209JHtpbmRleCArIDF9YCxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBHdWVzdHNNb2RhbCDovazmjaLlkI7nmoTlrqLkuro6JywgdGhpcy5ndWVzdHMpO1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuICYmIHRoaXMuZWxlbWVudCkge1xyXG4gICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6YeN5paw5riy5p+TXHJcbiAgICovXHJcbiAgcHJpdmF0ZSByZW5kZXIoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xyXG4gICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuZ2V0TW9kYWxIVE1MKCk7XHJcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgICQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgJCgnYm9keScpLmFkZENsYXNzKCdtb2RhbC1vcGVuJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJvlu7rmqKHmgIHmoYZIVE1M57uT5p6EXHJcbiAgICovXHJcbiAgcHVibGljIGNyZWF0ZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtaGpnLW1vZGFsIG1oamctbW9kYWwtZ3Vlc3RzJztcclxuICAgIG1vZGFsLmlubmVySFRNTCA9IHRoaXMuZ2V0TW9kYWxIVE1MKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBtb2RhbDtcclxuICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgcmV0dXJuIG1vZGFsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5qih5oCB5qGGSFRNTFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0TW9kYWxIVE1MKCk6IHN0cmluZyB7XHJcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm4gJyc7XHJcblxyXG4gICAgcmV0dXJuIGBcclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC13aW5kb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWljb25cIj5cclxuICAgICAgICAgICAgICAke3RoaXMuZ2V0VXNlcnNJY29uKCl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtdGl0bGUtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPuWuvuWuoueZu+iusDwvaDI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtb2RhbC1zdWJ0aXRsZVwiPuS7iuaZmuaciSAke3RoaXMuZ3Vlc3RzLmxlbmd0aH0g5L2N5a+75rGC5bqH5oqk55qE5peF5Lq6PC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNsb3NlXCIgYXJpYS1sYWJlbD1cIuWFs+mXrVwiPlxyXG4gICAgICAgICAgICAke3RoaXMuZ2V0Q2xvc2VJY29uKCl9XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImd1ZXN0cy1ncmlkXCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5ndWVzdHMubWFwKGd1ZXN0ID0+IHRoaXMuY3JlYXRlR3Vlc3RDYXJkKGd1ZXN0KSkuam9pbignJyl9XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1wbGFjZWhvbGRlclwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxhY2Vob2xkZXItaWNvblwiPis8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwbGFjZWhvbGRlci10ZXh0XCI+562J5b6F5a6+5a6iPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJvlu7rlrr7lrqLljaHniYdcclxuICAgKi9cclxuICBwcml2YXRlIGNyZWF0ZUd1ZXN0Q2FyZChndWVzdDogR3Vlc3QpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgbW9vZENvbG9yID0gdGhpcy5nZXRNb29kQ29sb3IoZ3Vlc3QubW9vZCk7XHJcbiAgICBjb25zdCBtb29kVGV4dCA9IHRoaXMuZ2V0TW9vZFRleHQoZ3Vlc3QubW9vZCk7XHJcbiAgICBcclxuICAgIHJldHVybiBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1jYXJkIHJwZy1wYW5lbFwiIGRhdGEtZ3Vlc3QtaWQ9XCIke2d1ZXN0LmlkfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1hdmF0YXItd3JhcHBlclwiPlxyXG4gICAgICAgICAgICA8aW1nIFxyXG4gICAgICAgICAgICAgIHNyYz1cIiR7Z3Vlc3QuYXZhdGFyVXJsfVwiIFxyXG4gICAgICAgICAgICAgIGFsdD1cIiR7Z3Vlc3QubmFtZX1cIiBcclxuICAgICAgICAgICAgICBjbGFzcz1cImd1ZXN0LWF2YXRhclwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1sZXZlbC1iYWRnZVwiPkx2LiR7Z3Vlc3QubGV2ZWwgfHwgMX08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImd1ZXN0LW1vb2QtYmFkZ2VcIiBzdHlsZT1cImJhY2tncm91bmQ6ICR7bW9vZENvbG9yfVwiPlxyXG4gICAgICAgICAgICAgICR7Z3Vlc3QubW9vZCB8fCAwfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImd1ZXN0LWluZm9cIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwiZ3Vlc3QtbmFtZVwiPiR7Z3Vlc3QubmFtZX08L2gzPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3Vlc3QtdGFnc1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ3Vlc3QtdGFnIGd1ZXN0LXRhZy1yYWNlXCI+JHtndWVzdC5yYWNlfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImd1ZXN0LXRhZyBndWVzdC10YWctY2xhc3NcIj4ke2d1ZXN0LmNsYXNzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1zdGF0c1wiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1zdGF0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC1sYWJlbFwiPuW/g+aDhTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWJhclwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1iYXItZmlsbFwiIHN0eWxlPVwid2lkdGg6ICR7Z3Vlc3QubW9vZCB8fCAwfSU7IGJhY2tncm91bmQ6ICR7bW9vZENvbG9yfVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtdGV4dFwiPiR7bW9vZFRleHR9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1zdGF0LWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC1sYWJlbFwiPua2iOi0uTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC12YWx1ZSBzdGF0LWdvbGRcIj4ke2d1ZXN0LmdvbGQgfHwgMH0g6YeR5biBPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgICR7Z3Vlc3QuYXBwZWFyYW5jZSA/IGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3Vlc3QtYXBwZWFyYW5jZVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFwcGVhcmFuY2UtbGFiZWxcIj5cclxuICAgICAgICAgICAgJHt0aGlzLmdldEV5ZUljb24oKX1cclxuICAgICAgICAgICAgPHNwYW4+5aSW6LKMPC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImFwcGVhcmFuY2UtdGV4dFwiPiR7Z3Vlc3QuYXBwZWFyYW5jZX08L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYCA6ICcnfVxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJndWVzdC1yZXF1ZXN0XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVxdWVzdC1xdW90ZVwiPlwiPC9kaXY+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cInJlcXVlc3QtdGV4dFwiPiR7Z3Vlc3QucmVxdWVzdCB8fCAn5ZO8Li4uJ308L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImd1ZXN0LWFjdGlvbnNcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJndWVzdC1idG4gZ3Vlc3QtYnRuLWludGVyYWN0XCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5nZXRNZXNzYWdlSWNvbigpfVxyXG4gICAgICAgICAgICDkupLliqhcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImd1ZXN0LWJ0biBndWVzdC1idG4tbW9yZVwiPlxyXG4gICAgICAgICAgICAke3RoaXMuZ2V0TW9yZUljb24oKX1cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blv4Pmg4XpopzoibJcclxuICAgKi9cclxuICBwcml2YXRlIGdldE1vb2RDb2xvcihtb29kOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgaWYgKG1vb2QgPj0gODApIHJldHVybiAncmdiYSgxNiwgMTg1LCAxMjksIDAuMiknOyAvLyBlbWVyYWxkXHJcbiAgICBpZiAobW9vZCA+PSA2MCkgcmV0dXJuICdyZ2JhKDk5LCAxMDIsIDI0MSwgMC4yKSc7IC8vIGluZGlnb1xyXG4gICAgaWYgKG1vb2QgPj0gNDApIHJldHVybiAncmdiYSgyNTEsIDE5MSwgMzYsIDAuMiknOyAvLyBhbWJlclxyXG4gICAgcmV0dXJuICdyZ2JhKDIzOSwgNjgsIDY4LCAwLjIpJzsgLy8gcmVkXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blv4Pmg4XmlofmnKxcclxuICAgKi9cclxuICBwcml2YXRlIGdldE1vb2RUZXh0KG1vb2Q6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBpZiAobW9vZCA+PSA4MCkgcmV0dXJuICfpnZ7luLjmhInlv6snO1xyXG4gICAgaWYgKG1vb2QgPj0gNjApIHJldHVybiAn5oSJ5b+rJztcclxuICAgIGlmIChtb29kID49IDQwKSByZXR1cm4gJ+S4gOiIrCc7XHJcbiAgICBpZiAobW9vZCA+PSAyMCkgcmV0dXJuICfkvY7okL0nO1xyXG4gICAgcmV0dXJuICfpnZ7luLjkvY7okL0nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W55y8552b5Zu+5qCHXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRFeWVJY29uKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTEgMTJzNC04IDExLTggMTEgOCAxMSA4LTQgOC0xMSA4LTExLTgtMTEtOHpcIi8+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIzXCIvPjwvc3ZnPic7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blm77moIdcclxuICAgKi9cclxuICBwcml2YXRlIGdldFVzZXJzSWNvbigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0xNiAyMXYtMmE0IDQgMCAwIDAtNC00SDZhNCA0IDAgMCAwLTQgNHYyXCIvPjxjaXJjbGUgY3g9XCI5XCIgY3k9XCI3XCIgcj1cIjRcIi8+PHBhdGggZD1cIk0yMiAyMXYtMmE0IDQgMCAwIDAtMy0zLjg3XCIvPjxwYXRoIGQ9XCJNMTYgMy4xM2E0IDQgMCAwIDEgMCA3Ljc1XCIvPjwvc3ZnPic7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldENsb3NlSWNvbigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGxpbmUgeDE9XCIxOFwiIHkxPVwiNlwiIHgyPVwiNlwiIHkyPVwiMThcIi8+PGxpbmUgeDE9XCI2XCIgeTE9XCI2XCIgeDI9XCIxOFwiIHkyPVwiMThcIi8+PC9zdmc+JztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0TWVzc2FnZUljb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjEgMTVhMiAyIDAgMCAxLTIgMkg3bC00IDRWNWEyIDIgMCAwIDEgMi0yaDE0YTIgMiAwIDAgMSAyIDJ6XCIvPjwvc3ZnPic7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldE1vcmVJY29uKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjE5XCIgY3k9XCIxMlwiIHI9XCIxXCIvPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCIxMlwiIHI9XCIxXCIvPjwvc3ZnPic7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnu5Hlrprkuovku7ZcclxuICAgKi9cclxuICBwcml2YXRlIGJpbmRFdmVudHMoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLm1vZGFsLWJhY2tkcm9wLCAubW9kYWwtY2xvc2UnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLmd1ZXN0LWJ0bi1pbnRlcmFjdCcsIGUgPT4ge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICBjb25zdCBjYXJkID0gJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5ndWVzdC1jYXJkJyk7XHJcbiAgICAgIGNvbnN0IGd1ZXN0SWQgPSBjYXJkLmF0dHIoJ2RhdGEtZ3Vlc3QtaWQnKTtcclxuICAgICAgY29uc3QgZ3Vlc3QgPSB0aGlzLmd1ZXN0cy5maW5kKGcgPT4gZy5pZCA9PT0gZ3Vlc3RJZCk7XHJcbiAgICAgIGlmIChndWVzdCkge1xyXG4gICAgICAgIHRoaXMuc2hvd0ludGVyYWN0aW9uTWVudShndWVzdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOeCueWHu+S6kuWKqOmAiemhuVxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcuaW50ZXJhY3Rpb24tb3B0aW9uJywgZSA9PiB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIGNvbnN0IG9wdGlvbkluZGV4ID0gcGFyc2VJbnQoJChlLmN1cnJlbnRUYXJnZXQpLmF0dHIoJ2RhdGEtb3B0aW9uLWluZGV4JykgfHwgJzAnLCAxMCk7XHJcbiAgICAgIGNvbnN0IG9wdGlvbiA9IEdVRVNUX0lOVEVSQUNUSU9OX09QVElPTlNbb3B0aW9uSW5kZXhdO1xyXG4gICAgICBpZiAob3B0aW9uICYmIHRoaXMuY3VycmVudEludGVyYWN0aW5nR3Vlc3QpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZUludGVyYWN0aW9uKG9wdGlvbiwgdGhpcy5jdXJyZW50SW50ZXJhY3RpbmdHdWVzdCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOeCueWHu+WFs+mXreS6kuWKqOiPnOWNlVxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcuaW50ZXJhY3Rpb24tbWVudS1iYWNrZHJvcCcsICgpID0+IHtcclxuICAgICAgdGhpcy5oaWRlSW50ZXJhY3Rpb25NZW51KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYvuekuuaooeaAgeahhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzaG93KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG4gICAgLy8g5q+P5qyh5pi+56S65pe26YeN5paw5LuO5Y+Y6YeP6KGo5Yqg6L295pWw5o2uXHJcbiAgICB0aGlzLmxvYWRGcm9tVmFyaWFibGVzKCk7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlhbPpl63mqKHmgIHmoYZcclxuICAgKi9cclxuICBwdWJsaWMgY2xvc2UodHJpZ2dlckNhbGxiYWNrOiBib29sZWFuID0gdHJ1ZSk6IHZvaWQge1xyXG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRyaWdnZXJDYWxsYmFjaykge1xyXG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmo4Dmn6XmqKHmgIHmoYbmmK/lkKbmiZPlvIBcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0SXNPcGVuKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNPcGVuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pu05paw5a6+5a6i5YiX6KGoXHJcbiAgICovXHJcbiAgcHVibGljIHVwZGF0ZUd1ZXN0cyhndWVzdHM6IEd1ZXN0W10pOiB2b2lkIHtcclxuICAgIHRoaXMuZ3Vlc3RzID0gZ3Vlc3RzO1xyXG4gICAgaWYgKHRoaXMuaXNPcGVuICYmIHRoaXMuZWxlbWVudCkge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5nZXRNb2RhbEhUTUwoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYvuekuuS6kuWKqOiPnOWNlVxyXG4gICAqL1xyXG4gIHByaXZhdGUgc2hvd0ludGVyYWN0aW9uTWVudShndWVzdDogR3Vlc3QpOiB2b2lkIHtcclxuICAgIHRoaXMuY3VycmVudEludGVyYWN0aW5nR3Vlc3QgPSBndWVzdDtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbWVudUhUTUwgPSBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWJhY2tkcm9wXCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImludGVyYWN0aW9uLW1lbnUtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8aDM+5LiOICR7Z3Vlc3QubmFtZX0g5LqS5YqoPC9oMz5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWNsb3NlXCI+w5c8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJhY3Rpb24tbWVudS1jb250ZW50XCI+XHJcbiAgICAgICAgICAke0dVRVNUX0lOVEVSQUNUSU9OX09QVElPTlMubWFwKFxyXG4gICAgICAgICAgICAob3B0aW9uLCBpbmRleCkgPT4gYFxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiaW50ZXJhY3Rpb24tb3B0aW9uXCIgZGF0YS1vcHRpb24taW5kZXg9XCIke2luZGV4fVwiPlxyXG4gICAgICAgICAgICAgICR7b3B0aW9uLmxhYmVsfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIGAsXHJcbiAgICAgICAgICApLmpvaW4oJycpfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIGA7XHJcblxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLmFwcGVuZChtZW51SFRNTCk7XHJcblxyXG4gICAgLy8g57uR5a6a5YWz6Zet5oyJ6ZKuXHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJy5pbnRlcmFjdGlvbi1tZW51LWNsb3NlJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhpZGVJbnRlcmFjdGlvbk1lbnUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6ZqQ6JeP5LqS5Yqo6I+c5Y2VXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoaWRlSW50ZXJhY3Rpb25NZW51KCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcclxuICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuaW50ZXJhY3Rpb24tbWVudS1iYWNrZHJvcCwgLmludGVyYWN0aW9uLW1lbnUnKS5yZW1vdmUoKTtcclxuICAgIHRoaXMuY3VycmVudEludGVyYWN0aW5nR3Vlc3QgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5aSE55CG5LqS5YqoXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVJbnRlcmFjdGlvbihvcHRpb246IEd1ZXN0SW50ZXJhY3Rpb25PcHRpb24sIGd1ZXN0OiBHdWVzdCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgLy8g5p6E5bu65o+Q56S66K+N77yM5pu/5o2iICR7Z3Vlc3RfbmFtZX0g5Y2g5L2N56ymXHJcbiAgICBjb25zdCBwcm9tcHQgPSBvcHRpb24ucHJvbXB0X3RlbXBsYXRlLnJlcGxhY2UoJyR7Z3Vlc3RfbmFtZX0nLCBndWVzdC5uYW1lKTtcclxuXHJcbiAgICAvLyDpmpDol4/kupLliqjoj5zljZVcclxuICAgIHRoaXMuaGlkZUludGVyYWN0aW9uTWVudSgpO1xyXG5cclxuICAgIC8vIOWvvOWFpeW/heimgeeahOaooeWdl1xyXG4gICAgY29uc3QgeyBoYW5kbGVVbmlmaWVkUmVxdWVzdCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy91bmlmaWVkUmVxdWVzdEhhbmRsZXInKTtcclxuICAgIGNvbnN0IHsgaGFuZGxlVGFiQ2hhbmdlIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL3RhYk1hbmFnZXInKTtcclxuICAgIGNvbnN0IHsgR2FtZVRhYiB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi90eXBlcycpO1xyXG4gICAgY29uc3QgeyBnZXRTdG9yeU1vZGFsIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL2FwcFN0YXRlJyk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8g6LCD55So57uf5LiA6K+35rGC5aSE55CGXHJcbiAgICAgIGF3YWl0IGhhbmRsZVVuaWZpZWRSZXF1ZXN0KFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIHR5cGU6ICdndWVzdC1pbnRlcmFjdCcsXHJcbiAgICAgICAgICBjb250ZW50OiBwcm9tcHQsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBvblN3aXRjaFRvU3Rvcnk6ICgpID0+IHtcclxuICAgICAgICAgICAgaGFuZGxlVGFiQ2hhbmdlKEdhbWVUYWIuU1RPUlkpO1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xyXG4gICAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xyXG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwuc2hvdygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgb25SZWZyZXNoU3RvcnlJZk9wZW46ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcclxuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwgJiYgc3RvcnlNb2RhbC5pc09wZW4pIHtcclxuICAgICAgICAgICAgICBzdG9yeU1vZGFsLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9uRGlzYWJsZU9wdGlvbnM6ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcclxuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcclxuICAgICAgICAgICAgICBzdG9yeU1vZGFsLmRpc2FibGVPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBvblNob3dHZW5lcmF0aW5nOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XHJcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5zaG93R2VuZXJhdGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgb25IaWRlR2VuZXJhdGluZzogKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xyXG4gICAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xyXG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwuaGlkZUdlbmVyYXRpbmcoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9uRW5hYmxlT3B0aW9uczogKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xyXG4gICAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xyXG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwuZW5hYmxlT3B0aW9ucygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgb25FcnJvcjogKGVycm9yOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOWuouS6uuS6kuWKqOWksei0pTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XHJcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBvblJlZnJlc2hTdG9yeTogKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xyXG4gICAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xyXG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5a6i5Lq65LqS5Yqo5byC5bi4OicsIGVycm9yKTtcclxuICAgICAgY29uc3QgeyBnZXRTdG9yeU1vZGFsIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL2FwcFN0YXRlJyk7XHJcbiAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XHJcbiAgICAgIGlmIChzdG9yeU1vZGFsKSB7XHJcbiAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOmUgOavgee7hOS7tlxyXG4gICAqL1xyXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xyXG4gICAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCk7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5yZW1vdmUoKTtcclxuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/GuestsModal.ts\n\n}');
  },
  "./src/mhjg/components/modals/NewFacilityModal.scss": 
  /*!**********************************************************!*\
  !*** ./src/mhjg/components/modals/NewFacilityModal.scss ***!
  \**********************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9OZXdGYWNpbGl0eU1vZGFsLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9OZXdGYWNpbGl0eU1vZGFsLnNjc3M/ZjUxMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/NewFacilityModal.scss\n\n}");
  },
  "./src/mhjg/components/modals/NewFacilityModal.ts": 
  /*!********************************************************!*\
  !*** ./src/mhjg/components/modals/NewFacilityModal.ts ***!
  \********************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NewFacilityModal: () => (/* binding */ NewFacilityModal)\n/* harmony export */ });\n/* harmony import */ var _NewFacilityModal_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NewFacilityModal.scss */ "./src/mhjg/components/modals/NewFacilityModal.scss");\n\nclass NewFacilityModal {\n    element = null;\n    callbacks;\n    isOpen = false;\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n    }\n    /**\n     * åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„\n     */\n    createElement() {\n        const modal = document.createElement(\'div\');\n        modal.className = \'mhjg-modal mhjg-modal-new-facility\';\n        modal.innerHTML = this.getModalHTML();\n        this.element = modal;\n        this.bindEvents();\n        return modal;\n    }\n    /**\n     * è·å–æ¨¡æ€æ¡†HTML\n     */\n    getModalHTML() {\n        return `\r\n      <div class="modal-backdrop"></div>\r\n      <div class="modal-window">\r\n        <div class="modal-header">\r\n          <div class="modal-header-left">\r\n            <div class="modal-icon">\r\n              ${this.getFacilityIcon()}\r\n            </div>\r\n            <div class="modal-title-group">\r\n              <h2 class="modal-title">æ–°å»ºè®¾æ–½/åŒºåŸŸ</h2>\r\n              <p class="modal-subtitle">è§„åˆ’æ–°çš„è®¾æ–½æˆ–åŒºåŸŸï¼Œæ‰©å±•ä½ çš„æ—…åº—</p>\r\n            </div>\r\n          </div>\r\n          <button class="modal-close" aria-label="å…³é—­">\r\n            ${this.getCloseIcon()}\r\n          </button>\r\n        </div>\r\n        <div class="modal-content">\r\n          <form class="facility-form" id="new-facility-form">\r\n            <div class="form-section">\r\n              <label class="form-label" for="facility-name">\r\n                <span class="label-text">è®¾æ–½åç§°</span>\r\n                <span class="label-hint">æ–°è®¾æ–½æˆ–åŒºåŸŸçš„åç§°ï¼ˆå¿…å¡«ï¼‰</span>\r\n              </label>\r\n              <input\r\n                type="text"\r\n                id="facility-name"\r\n                name="name"\r\n                class="form-input"\r\n                placeholder="ä¾‹å¦‚ï¼šæ¸©æ³‰ã€å›¾ä¹¦é¦†ã€è®­ç»ƒåœº..."\r\n                maxlength="20"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div class="form-section">\r\n              <label class="form-label" for="facility-description">\r\n                <span class="label-text">è®¾æ–½æè¿°</span>\r\n                <span class="label-hint">æè¿°è¿™ä¸ªè®¾æ–½çš„åŠŸèƒ½å’Œç‰¹ç‚¹ï¼ˆå¿…å¡«ï¼‰</span>\r\n              </label>\r\n              <textarea\r\n                id="facility-description"\r\n                name="description"\r\n                class="form-textarea"\r\n                rows="4"\r\n                placeholder="ä¾‹å¦‚ï¼šä¸€ä¸ªæ¸©æš–çš„æ¸©æ³‰æ± ï¼Œå¯ä»¥ç¼“è§£å®¢äººçš„ç–²åŠ³ï¼Œæå‡å¿ƒæƒ…..."\r\n                required\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div class="form-section">\r\n              <label class="form-label" for="initial-level">\r\n                <span class="label-text">åˆå§‹ç­‰çº§</span>\r\n                <span class="label-hint">æ–°å»ºè®¾æ–½çš„åˆå§‹ç­‰çº§ï¼ˆ1-5ï¼‰</span>\r\n              </label>\r\n              <div class="level-input-wrapper">\r\n                <input\r\n                  type="number"\r\n                  id="initial-level"\r\n                  name="initialLevel"\r\n                  class="form-input form-input-number"\r\n                  placeholder="1"\r\n                  min="1"\r\n                  max="5"\r\n                  value="1"\r\n                  required\r\n                />\r\n                <span class="level-unit">çº§</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="form-actions">\r\n              <button type="button" class="form-btn form-btn-cancel" data-action="cancel">\r\n                å–æ¶ˆ\r\n              </button>\r\n              <button type="submit" class="form-btn form-btn-submit" data-action="submit">\r\n                ${this.getSubmitIcon()}\r\n                åˆ›å»ºè®¾æ–½\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        // å…³é—­æŒ‰é’®\n        $(this.element).on(\'click\', \'.modal-backdrop, .modal-close, [data-action="cancel"]\', () => {\n            this.close();\n        });\n        // è¡¨å•æäº¤\n        $(this.element).on(\'submit\', \'#new-facility-form\', e => {\n            e.preventDefault();\n            this.handleSubmit();\n        });\n        // é˜»æ­¢ç‚¹å‡»æ¨¡æ€æ¡†å†…å®¹åŒºåŸŸå…³é—­\n        $(this.element).on(\'click\', \'.modal-window\', e => {\n            e.stopPropagation();\n        });\n    }\n    /**\n     * å¤„ç†è¡¨å•æäº¤\n     */\n    handleSubmit() {\n        if (!this.element)\n            return;\n        const form = $(this.element).find(\'#new-facility-form\')[0];\n        if (!form)\n            return;\n        const formData = new FormData(form);\n        const name = formData.get(\'name\')?.trim() || \'\';\n        const description = formData.get(\'description\')?.trim() || \'\';\n        const initialLevel = parseInt(formData.get(\'initialLevel\') || \'1\', 10) || 1;\n        // éªŒè¯å¿…å¡«å­—æ®µ\n        if (!name) {\n            this.showError(\'è¯·å¡«å†™è®¾æ–½åç§°\');\n            return;\n        }\n        if (!description) {\n            this.showError(\'è¯·å¡«å†™è®¾æ–½æè¿°\');\n            return;\n        }\n        if (initialLevel < 1 || initialLevel > 5) {\n            this.showError(\'åˆå§‹ç­‰çº§å¿…é¡»åœ¨ 1-5 ä¹‹é—´\');\n            return;\n        }\n        const request = {\n            name,\n            description,\n            initialLevel,\n        };\n        console.log(\'ğŸ—ï¸ æ–°å»ºè®¾æ–½è¯·æ±‚:\', request);\n        this.callbacks.onConfirm(request);\n        this.close();\n    }\n    /**\n     * æ˜¾ç¤ºé”™è¯¯æç¤º\n     */\n    showError(message) {\n        alert(message);\n    }\n    /**\n     * æ˜¾ç¤ºæ¨¡æ€æ¡†\n     */\n    show() {\n        this.isOpen = true;\n        if (this.element) {\n            $(this.element).addClass(\'open\');\n            $(\'body\').addClass(\'modal-open\');\n        }\n    }\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    close() {\n        this.isOpen = false;\n        if (this.element) {\n            $(this.element).removeClass(\'open\');\n            $(\'body\').removeClass(\'modal-open\');\n        }\n        this.callbacks.onCancel();\n    }\n    /**\n     * è·å–å›¾æ ‡\n     */\n    getFacilityIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m14.91 7.79 1.77-1.77a1.49 1.49 0 0 0 0-2.12l-3.54-3.54a1.49 1.49 0 0 0-2.12 0L9.12 4.23"/><path d="m8.53 12.91 5.38 5.38"/></svg>\';\n    }\n    getCloseIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\';\n    }\n    getSubmitIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>\';\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9OZXdGYWNpbGl0eU1vZGFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlDO0FBYTFCLE1BQU0sZ0JBQWdCO0lBQ25CLE9BQU8sR0FBdUIsSUFBSSxDQUFDO0lBQ25DLFNBQVMsQ0FBNEI7SUFDckMsTUFBTSxHQUFZLEtBQUssQ0FBQztJQUVoQyxZQUFZLFNBQW9DO1FBQzlDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENBQUM7SUFFRDs7T0FFRztJQUNJLGFBQWE7UUFDbEIsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1QyxLQUFLLENBQUMsU0FBUyxHQUFHLG9DQUFvQyxDQUFDO1FBQ3ZELEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNsQixPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRDs7T0FFRztJQUNLLFlBQVk7UUFDbEIsT0FBTzs7Ozs7O2dCQU1LLElBQUksQ0FBQyxlQUFlLEVBQUU7Ozs7Ozs7O2NBUXhCLElBQUksQ0FBQyxZQUFZLEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tCQThEZixJQUFJLENBQUMsYUFBYSxFQUFFOzs7Ozs7O0tBT2pDLENBQUM7SUFDSixDQUFDO0lBRUQ7O09BRUc7SUFDSyxVQUFVO1FBQ2hCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTztZQUFFLE9BQU87UUFFMUIsT0FBTztRQUNQLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSx1REFBdUQsRUFBRSxHQUFHLEVBQUU7WUFDeEYsSUFBSSxDQUFDLEtBQUssRUFB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LENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNwQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3RDLENBQUM7UUFDRCxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRDs7T0FFRztJQUNLLGVBQWU7UUFDckIsT0FBTyxtYkFBbWIsQ0FBQztJQUM3YixDQUFDO0lBRU8sWUFBWTtRQUNsQixPQUFPLHVRQUF1USxDQUFDO0lBQ2pSLENBQUM7SUFFTyxhQUFhO1FBQ25CLE9BQU8sZ09BQWdPLENBQUM7SUFDMU8sQ0FBQztJQUVEOztPQUVHO0lBQ0ksT0FBTztRQUNaLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvbW9kYWxzL05ld0ZhY2lsaXR5TW9kYWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL05ld0ZhY2lsaXR5TW9kYWwuc2Nzcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE5ld0ZhY2lsaXR5UmVxdWVzdCB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgaW5pdGlhbExldmVsOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTmV3RmFjaWxpdHlNb2RhbENhbGxiYWNrcyB7XHJcbiAgb25Db25maXJtOiAocmVxdWVzdDogTmV3RmFjaWxpdHlSZXF1ZXN0KSA9PiB2b2lkO1xyXG4gIG9uQ2FuY2VsOiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTmV3RmFjaWxpdHlNb2RhbCB7XHJcbiAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgY2FsbGJhY2tzOiBOZXdGYWNpbGl0eU1vZGFsQ2FsbGJhY2tzO1xyXG4gIHByaXZhdGUgaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrczogTmV3RmFjaWxpdHlNb2RhbENhbGxiYWNrcykge1xyXG4gICAgdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDliJvlu7rmqKHmgIHmoYZIVE1M57uT5p6EXHJcbiAgICovXHJcbiAgcHVibGljIGNyZWF0ZUVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xyXG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtaGpnLW1vZGFsIG1oamctbW9kYWwtbmV3LWZhY2lsaXR5JztcclxuICAgIG1vZGFsLmlubmVySFRNTCA9IHRoaXMuZ2V0TW9kYWxIVE1MKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBtb2RhbDtcclxuICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgcmV0dXJuIG1vZGFsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5qih5oCB5qGGSFRNTFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0TW9kYWxIVE1MKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYmFja2Ryb3BcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXdpbmRvd1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXItbGVmdFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaWNvblwiPlxyXG4gICAgICAgICAgICAgICR7dGhpcy5nZXRGYWNpbGl0eUljb24oKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgIDxoMiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+5paw5bu66K6+5pa9L+WMuuWfnzwvaDI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtb2RhbC1zdWJ0aXRsZVwiPuinhOWIkuaWsOeahOiuvuaWveaIluWMuuWfn++8jOaJqeWxleS9oOeahOaXheW6lzwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1jbG9zZVwiIGFyaWEtbGFiZWw9XCLlhbPpl61cIj5cclxuICAgICAgICAgICAgJHt0aGlzLmdldENsb3NlSWNvbigpfVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgIDxmb3JtIGNsYXNzPVwiZmFjaWxpdHktZm9ybVwiIGlkPVwibmV3LWZhY2lsaXR5LWZvcm1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tc2VjdGlvblwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJmYWNpbGl0eS1uYW1lXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLXRleHRcIj7orr7mlr3lkI3np7A8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLWhpbnRcIj7mlrDorr7mlr3miJbljLrln5/nmoTlkI3np7DvvIjlv4XloavvvIk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIGlkPVwiZmFjaWxpdHktbmFtZVwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImZvcm0taW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLkvovlpoLvvJrmuKnms4njgIHlm77kuabppobjgIHorq3nu4PlnLouLi5cIlxyXG4gICAgICAgICAgICAgICAgbWF4bGVuZ3RoPVwiMjBcIlxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXNlY3Rpb25cIj5cclxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCIgZm9yPVwiZmFjaWxpdHktZGVzY3JpcHRpb25cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwtdGV4dFwiPuiuvuaWveaPj+i/sDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwtaGludFwiPuaPj+i/sOi/meS4quiuvuaWveeahOWKn+iDveWSjOeJueeCue+8iOW/heWhq++8iTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgaWQ9XCJmYWNpbGl0eS1kZXNjcmlwdGlvblwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLXRleHRhcmVhXCJcclxuICAgICAgICAgICAgICAgIHJvd3M9XCI0XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5L6L5aaC77ya5LiA5Liq5rip5pqW55qE5rip5rOJ5rGg77yM5Y+v5Lul57yT6Kej5a6i5Lq655qE55ay5Yqz77yM5o+Q5Y2H5b+D5oOFLi4uXCJcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tc2VjdGlvblwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJpbml0aWFsLWxldmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLXRleHRcIj7liJ3lp4vnrYnnuqc8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLWhpbnRcIj7mlrDlu7rorr7mlr3nmoTliJ3lp4vnrYnnuqfvvIgxLTXvvIk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWwtaW5wdXQtd3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgICBpZD1cImluaXRpYWwtbGV2ZWxcIlxyXG4gICAgICAgICAgICAgICAgICBuYW1lPVwiaW5pdGlhbExldmVsXCJcclxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWlucHV0IGZvcm0taW5wdXQtbnVtYmVyXCJcclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIxXCJcclxuICAgICAgICAgICAgICAgICAgbWluPVwiMVwiXHJcbiAgICAgICAgICAgICAgICAgIG1heD1cIjVcIlxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT1cIjFcIlxyXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGV2ZWwtdW5pdFwiPue6pzwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1hY3Rpb25zXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJmb3JtLWJ0biBmb3JtLWJ0bi1jYW5jZWxcIiBkYXRhLWFjdGlvbj1cImNhbmNlbFwiPlxyXG4gICAgICAgICAgICAgICAg5Y+W5raIXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCIgY2xhc3M9XCJmb3JtLWJ0biBmb3JtLWJ0bi1zdWJtaXRcIiBkYXRhLWFjdGlvbj1cInN1Ym1pdFwiPlxyXG4gICAgICAgICAgICAgICAgJHt0aGlzLmdldFN1Ym1pdEljb24oKX1cclxuICAgICAgICAgICAgICAgIOWIm+W7uuiuvuaWvVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICBgO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog57uR5a6a5LqL5Lu2XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBiaW5kRXZlbnRzKCk6IHZvaWQge1xyXG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcclxuXHJcbiAgICAvLyDlhbPpl63mjInpkq5cclxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLm1vZGFsLWJhY2tkcm9wLCAubW9kYWwtY2xvc2UsIFtkYXRhLWFjdGlvbj1cImNhbmNlbFwiXScsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g6KGo5Y2V5o+Q5LqkXHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ3N1Ym1pdCcsICcjbmV3LWZhY2lsaXR5LWZvcm0nLCBlID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g6Zi75q2i54K55Ye75qih5oCB5qGG5YaF5a655Yy65Z+f5YWz6ZetXHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJy5tb2RhbC13aW5kb3cnLCBlID0+IHtcclxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5aSE55CG6KGo5Y2V5o+Q5LqkXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVTdWJtaXQoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGZvcm0gPSAkKHRoaXMuZWxlbWVudCkuZmluZCgnI25ldy1mYWNpbGl0eS1mb3JtJylbMF0gYXMgSFRNTEZvcm1FbGVtZW50O1xyXG4gICAgaWYgKCFmb3JtKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XHJcbiAgICBjb25zdCBuYW1lID0gKGZvcm1EYXRhLmdldCgnbmFtZScpIGFzIHN0cmluZyk/LnRyaW0oKSB8fCAnJztcclxuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gKGZvcm1EYXRhLmdldCgnZGVzY3JpcHRpb24nKSBhcyBzdHJpbmcpPy50cmltKCkgfHwgJyc7XHJcbiAgICBjb25zdCBpbml0aWFsTGV2ZWwgPSBwYXJzZUludCgoZm9ybURhdGEuZ2V0KCdpbml0aWFsTGV2ZWwnKSBhcyBzdHJpbmcpIHx8ICcxJywgMTApIHx8IDE7XHJcblxyXG4gICAgLy8g6aqM6K+B5b+F5aGr5a2X5q61XHJcbiAgICBpZiAoIW5hbWUpIHtcclxuICAgICAgdGhpcy5zaG93RXJyb3IoJ+ivt+Whq+WGmeiuvuaWveWQjeensCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFkZXNjcmlwdGlvbikge1xyXG4gICAgICB0aGlzLnNob3dFcnJvcign6K+35aGr5YaZ6K6+5pa95o+P6L+wJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5pdGlhbExldmVsIDwgMSB8fCBpbml0aWFsTGV2ZWwgPiA1KSB7XHJcbiAgICAgIHRoaXMuc2hvd0Vycm9yKCfliJ3lp4vnrYnnuqflv4XpobvlnKggMS01IOS5i+mXtCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdDogTmV3RmFjaWxpdHlSZXF1ZXN0ID0ge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgaW5pdGlhbExldmVsLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygn8J+Pl++4jyDmlrDlu7rorr7mlr3or7fmsYI6JywgcmVxdWVzdCk7XHJcbiAgICB0aGlzLmNhbGxiYWNrcy5vbkNvbmZpcm0ocmVxdWVzdCk7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDmmL7npLrplJnor6/mj5DnpLpcclxuICAgKi9cclxuICBwcml2YXRlIHNob3dFcnJvcihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGFsZXJ0KG1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pi+56S65qih5oCB5qGGXHJcbiAgICovXHJcbiAgcHVibGljIHNob3coKTogdm9pZCB7XHJcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWFs+mXreaooeaAgeahhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTtcclxuICAgIH1cclxuICAgIHRoaXMuY2FsbGJhY2tzLm9uQ2FuY2VsKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blm77moIdcclxuICAgKi9cclxuICBwcml2YXRlIGdldEZhY2lsaXR5SWNvbigpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIm0xNSAxMi04LjUgOC41Yy0uODMuODMtMi4xNy44My0zIDAgMCAwIDAgMCAwIDBhMi4xMiAyLjEyIDAgMCAxIDAtM0wxMiA5XCIvPjxwYXRoIGQ9XCJNMTcuNjQgMTUgMjIgMTAuNjRcIi8+PHBhdGggZD1cIm0xNC45MSA3Ljc5IDEuNzctMS43N2ExLjQ5IDEuNDkgMCAwIDAgMC0yLjEybC0zLjU0LTMuNTRhMS40OSAxLjQ5IDAgMCAwLTIuMTIgMEw5LjEyIDQuMjNcIi8+PHBhdGggZD1cIm04LjUzIDEyLjkxIDUuMzggNS4zOFwiLz48L3N2Zz4nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRDbG9zZUljb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxsaW5lIHgxPVwiMThcIiB5MT1cIjZcIiB4Mj1cIjZcIiB5Mj1cIjE4XCIvPjxsaW5lIHgxPVwiNlwiIHkxPVwiNlwiIHgyPVwiMThcIiB5Mj1cIjE4XCIvPjwvc3ZnPic7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFN1Ym1pdEljb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwb2x5bGluZSBwb2ludHM9XCIyMCA2IDkgMTcgNCAxMlwiLz48L3N2Zz4nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6ZSA5q+B57uE5Lu2XHJcbiAgICovXHJcbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5vZmYoKTtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/NewFacilityModal.ts\n\n}');
  },
  "./src/mhjg/components/modals/RecruitStaffModal.scss": 
  /*!***********************************************************!*\
  !*** ./src/mhjg/components/modals/RecruitStaffModal.scss ***!
  \***********************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9SZWNydWl0U3RhZmZNb2RhbC5zY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9tb2RhbHMvUmVjcnVpdFN0YWZmTW9kYWwuc2Nzcz8yMzM0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/RecruitStaffModal.scss\n\n}");
  },
  "./src/mhjg/components/modals/RecruitStaffModal.ts": 
  /*!*********************************************************!*\
  !*** ./src/mhjg/components/modals/RecruitStaffModal.ts ***!
  \*********************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RecruitStaffModal: () => (/* binding */ RecruitStaffModal)\n/* harmony export */ });\n/* harmony import */ var _RecruitStaffModal_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RecruitStaffModal.scss */ "./src/mhjg/components/modals/RecruitStaffModal.scss");\n\nclass RecruitStaffModal {\n    element = null;\n    callbacks;\n    isOpen = false;\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n    }\n    /**\n     * åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„\n     */\n    createElement() {\n        const modal = document.createElement(\'div\');\n        modal.className = \'mhjg-modal mhjg-modal-recruit-staff\';\n        modal.innerHTML = this.getModalHTML();\n        this.element = modal;\n        this.bindEvents();\n        return modal;\n    }\n    /**\n     * è·å–æ¨¡æ€æ¡†HTML\n     */\n    getModalHTML() {\n        return `\r\n      <div class="modal-backdrop"></div>\r\n      <div class="modal-window">\r\n        <div class="modal-header">\r\n          <div class="modal-header-left">\r\n            <div class="modal-icon">\r\n              ${this.getRecruitIcon()}\r\n            </div>\r\n            <div class="modal-title-group">\r\n              <h2 class="modal-title">æ‹›å‹Ÿå‘˜å·¥</h2>\r\n              <p class="modal-subtitle">å‘å¸ƒä½ çš„æ‹›å‹Ÿéœ€æ±‚ï¼Œå¯»æ‰¾åˆé€‚çš„å‘˜å·¥</p>\r\n            </div>\r\n          </div>\r\n          <button class="modal-close" aria-label="å…³é—­">\r\n            ${this.getCloseIcon()}\r\n          </button>\r\n        </div>\r\n        <div class="modal-content">\r\n          <form class="recruit-form" id="recruit-staff-form">\r\n            <div class="form-section">\r\n              <label class="form-label">\r\n                <span class="label-text">æ€§åˆ«è¦æ±‚</span>\r\n                <span class="label-hint">é€‰æ‹©ä½ å¸Œæœ›çš„å‘˜å·¥æ€§åˆ«</span>\r\n              </label>\r\n              <div class="gender-options">\r\n                <label class="gender-option">\r\n                  <input type="radio" name="gender" value="any" checked>\r\n                  <span class="option-label">ä¸é™</span>\r\n                </label>\r\n                <label class="gender-option">\r\n                  <input type="radio" name="gender" value="male">\r\n                  <span class="option-label">ç”·æ€§</span>\r\n                </label>\r\n                <label class="gender-option">\r\n                  <input type="radio" name="gender" value="female">\r\n                  <span class="option-label">å¥³æ€§</span>\r\n                </label>\r\n                <label class="gender-option">\r\n                  <input type="radio" name="gender" value="other">\r\n                  <span class="option-label">å…¶ä»–</span>\r\n                </label>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="form-section">\r\n              <label class="form-label" for="personality">\r\n                <span class="label-text">æ€§æ ¼è¦æ±‚</span>\r\n                <span class="label-hint">æè¿°ä½ å¸Œæœ›çš„å‘˜å·¥æ€§æ ¼ï¼ˆå¦‚ï¼šå¼€æœ—ã€ç»†å¿ƒã€è´Ÿè´£ç­‰ï¼‰</span>\r\n              </label>\r\n              <textarea\r\n                id="personality"\r\n                name="personality"\r\n                class="form-textarea"\r\n                rows="3"\r\n                placeholder="ä¾‹å¦‚ï¼šå¼€æœ—å¤–å‘ï¼Œå–„äºæ²Ÿé€šï¼Œå·¥ä½œè®¤çœŸè´Ÿè´£..."\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div class="form-section">\r\n              <label class="form-label" for="position">\r\n                <span class="label-text">æ‹›å‹ŸèŒä½</span>\r\n                <span class="label-hint">å‘˜å·¥åœ¨æ—…åº—ä¸­æ‹…ä»»çš„èŒåŠ¡</span>\r\n              </label>\r\n              <input\r\n                type="text"\r\n                id="position"\r\n                name="position"\r\n                class="form-input"\r\n                placeholder="ä¾‹å¦‚ï¼šå‰å°æ¥å¾…ã€å¨å¸ˆã€ä¿å®‰ã€æœåŠ¡å‘˜..."\r\n                maxlength="20"\r\n              />\r\n            </div>\r\n\r\n            <div class="form-section">\r\n              <label class="form-label" for="special-requirements">\r\n                <span class="label-text">ç‰¹æ®Šè¦æ±‚</span>\r\n                <span class="label-hint">å…¶ä»–ç‰¹æ®Šè¦æ±‚æˆ–åå¥½ï¼ˆå¯é€‰ï¼‰</span>\r\n              </label>\r\n              <textarea\r\n                id="special-requirements"\r\n                name="specialRequirements"\r\n                class="form-textarea"\r\n                rows="3"\r\n                placeholder="ä¾‹å¦‚ï¼šéœ€è¦æœ‰æˆ˜æ–—ç»éªŒã€æ“…é•¿é­”æ³•ã€ä¼šå¤šå›½è¯­è¨€..."\r\n              ></textarea>\r\n            </div>\r\n\r\n            <div class="form-section">\r\n              <label class="form-label" for="salary">\r\n                <span class="label-text">å·¥èµ„å¾…é‡</span>\r\n                <span class="label-hint">æ¯æœˆæ”¯ä»˜çš„å·¥èµ„ï¼ˆé‡‘å¸ï¼‰</span>\r\n              </label>\r\n              <div class="salary-input-wrapper">\r\n                <input\r\n                  type="number"\r\n                  id="salary"\r\n                  name="salary"\r\n                  class="form-input form-input-number"\r\n                  placeholder="0"\r\n                  min="0"\r\n                  step="10"\r\n                  value="100"\r\n                />\r\n                <span class="salary-unit">é‡‘å¸/æœˆ</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="form-actions">\r\n              <button type="button" class="form-btn form-btn-cancel" data-action="cancel">\r\n                å–æ¶ˆ\r\n              </button>\r\n              <button type="submit" class="form-btn form-btn-submit" data-action="submit">\r\n                ${this.getSubmitIcon()}\r\n                å‘å¸ƒæ‹›å‹Ÿ\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        // å…³é—­æŒ‰é’®\n        $(this.element).on(\'click\', \'.modal-backdrop, .modal-close, [data-action="cancel"]\', () => {\n            this.close();\n        });\n        // è¡¨å•æäº¤\n        $(this.element).on(\'submit\', \'#recruit-staff-form\', e => {\n            e.preventDefault();\n            this.handleSubmit();\n        });\n        // é˜»æ­¢ç‚¹å‡»æ¨¡æ€æ¡†å†…å®¹åŒºåŸŸå…³é—­\n        $(this.element).on(\'click\', \'.modal-window\', e => {\n            e.stopPropagation();\n        });\n    }\n    /**\n     * å¤„ç†è¡¨å•æäº¤\n     */\n    handleSubmit() {\n        if (!this.element)\n            return;\n        const form = $(this.element).find(\'#recruit-staff-form\')[0];\n        if (!form)\n            return;\n        const formData = new FormData(form);\n        const gender = formData.get(\'gender\') || \'any\';\n        const personality = formData.get(\'personality\')?.trim() || \'\';\n        const position = formData.get(\'position\')?.trim() || \'\';\n        const specialRequirements = formData.get(\'specialRequirements\')?.trim() || \'\';\n        const salary = parseInt(formData.get(\'salary\') || \'100\', 10) || 100;\n        // éªŒè¯å¿…å¡«å­—æ®µ\n        if (!position) {\n            this.showError(\'è¯·å¡«å†™æ‹›å‹ŸèŒä½\');\n            return;\n        }\n        if (salary < 0) {\n            this.showError(\'å·¥èµ„ä¸èƒ½ä¸ºè´Ÿæ•°\');\n            return;\n        }\n        const request = {\n            gender: gender,\n            personality,\n            specialRequirements,\n            salary,\n            position,\n        };\n        console.log(\'ğŸ“ æ‹›å‹Ÿéœ€æ±‚:\', request);\n        this.callbacks.onConfirm(request);\n        this.close();\n    }\n    /**\n     * æ˜¾ç¤ºé”™è¯¯æç¤º\n     */\n    showError(message) {\n        // ç®€å•çš„é”™è¯¯æç¤ºï¼Œå¯ä»¥åç»­ä¼˜åŒ–ä¸ºæ›´ç¾è§‚çš„æç¤ºæ¡†\n        alert(message);\n    }\n    /**\n     * æ˜¾ç¤ºæ¨¡æ€æ¡†\n     */\n    show() {\n        this.isOpen = true;\n        if (this.element) {\n            $(this.element).addClass(\'open\');\n            $(\'body\').addClass(\'modal-open\');\n        }\n    }\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    close() {\n        this.isOpen = false;\n        if (this.element) {\n            $(this.element).removeClass(\'open\');\n            $(\'body\').removeClass(\'modal-open\');\n        }\n        this.callbacks.onCancel();\n    }\n    /**\n     * è·å–å›¾æ ‡\n     */\n    getRecruitIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/><line x1="22" y1="6" x2="18" y2="10"/><line x1="18" y1="6" x2="22" y2="10"/></svg>\';\n    }\n    getCloseIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\';\n    }\n    getSubmitIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>\';\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9SZWNydWl0U3RhZmZNb2RhbC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrQztBQWUzQixNQUFNLGlCQUFpQjtJQUNwQixPQUFPLEdBQXVCLElBQUksQ0FBQztJQUNuQyxTQUFTLENBQTZCO0lBQ3RDLE1BQU0sR0FBWSxLQUFLLENBQUM7SUFFaEMsWUFBWSxTQUFxQztRQUMvQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUM3QixDQUFDO0lBRUQ7O09BRUc7SUFDSSxhQUFhO1FBQ2xCLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxxQ0FBcUMsQ0FBQztRQUN4RCxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUN0QyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNyQixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDbEIsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQ7O09BRUc7SUFDSyxZQUFZO1FBQ2xCLE9BQU87Ozs7OztnQkFNSyxJQUFJLENBQUMsY0FBYyxFQUFFOzs7Ozs7OztjQVF2QixJQUFJLENBQUMsWUFBWSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQkFrR2YsSUFBSSxDQUFDLGFBQWEsRUFBRTs7Ozs7OztLQU9qQyxDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0ssVUFBVTtRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87WUFBRSxPQUFPO1FBRTFCLE9BQU87UUFDUCxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsdURBQXVELEVB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Q25DLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxLQUFLO1FBQ1YsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUN0QyxDQUFDO1FBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQ7O09BRUc7SUFDSyxjQUFjO1FBQ3BCLE9BQU8sc2FBQXNhLENBQUM7SUFDaGIsQ0FBQztJQUVPLFlBQVk7UUFDbEIsT0FBTyx1UUFBdVEsQ0FBQztJQUNqUixDQUFDO0lBRU8sYUFBYTtRQUNuQixPQUFPLGdPQUFnTyxDQUFDO0lBQzFPLENBQUM7SUFFRDs7T0FFRztJQUNJLE9BQU87UUFDWixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDdEIsQ0FBQztJQUNILENBQUM7Q0FDRiIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9SZWNydWl0U3RhZmZNb2RhbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4vUmVjcnVpdFN0YWZmTW9kYWwuc2Nzcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFJlY3J1aXRTdGFmZlJlcXVlc3Qge1xyXG4gIGdlbmRlcjogJ2FueScgfCAnbWFsZScgfCAnZmVtYWxlJyB8ICdvdGhlcic7XHJcbiAgcGVyc29uYWxpdHk6IHN0cmluZztcclxuICBzcGVjaWFsUmVxdWlyZW1lbnRzOiBzdHJpbmc7XHJcbiAgc2FsYXJ5OiBudW1iZXI7XHJcbiAgcG9zaXRpb246IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBSZWNydWl0U3RhZmZNb2RhbENhbGxiYWNrcyB7XHJcbiAgb25Db25maXJtOiAocmVxdWVzdDogUmVjcnVpdFN0YWZmUmVxdWVzdCkgPT4gdm9pZDtcclxuICBvbkNhbmNlbDogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJlY3J1aXRTdGFmZk1vZGFsIHtcclxuICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBjYWxsYmFja3M6IFJlY3J1aXRTdGFmZk1vZGFsQ2FsbGJhY2tzO1xyXG4gIHByaXZhdGUgaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrczogUmVjcnVpdFN0YWZmTW9kYWxDYWxsYmFja3MpIHtcclxuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu65qih5oCB5qGGSFRNTOe7k+aehFxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbWhqZy1tb2RhbCBtaGpnLW1vZGFsLXJlY3J1aXQtc3RhZmYnO1xyXG4gICAgbW9kYWwuaW5uZXJIVE1MID0gdGhpcy5nZXRNb2RhbEhUTUwoKTtcclxuICAgIHRoaXMuZWxlbWVudCA9IG1vZGFsO1xyXG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICByZXR1cm4gbW9kYWw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5bmqKHmgIHmoYZIVE1MXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBnZXRNb2RhbEhUTUwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcFwiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtd2luZG93XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlci1sZWZ0XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1pY29uXCI+XHJcbiAgICAgICAgICAgICAgJHt0aGlzLmdldFJlY3J1aXRJY29uKCl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtdGl0bGUtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPuaLm+WLn+WRmOW3pTwvaDI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtb2RhbC1zdWJ0aXRsZVwiPuWPkeW4g+S9oOeahOaLm+WLn+mcgOaxgu+8jOWvu+aJvuWQiOmAgueahOWRmOW3pTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1jbG9zZVwiIGFyaWEtbGFiZWw9XCLlhbPpl61cIj5cclxuICAgICAgICAgICAgJHt0aGlzLmdldENsb3NlSWNvbigpfVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICAgIDxmb3JtIGNsYXNzPVwicmVjcnVpdC1mb3JtXCIgaWQ9XCJyZWNydWl0LXN0YWZmLWZvcm1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tc2VjdGlvblwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwtdGV4dFwiPuaAp+WIq+imgeaxgjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwtaGludFwiPumAieaLqeS9oOW4jOacm+eahOWRmOW3peaAp+WIqzwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnZW5kZXItb3B0aW9uc1wiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZ2VuZGVyLW9wdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImdlbmRlclwiIHZhbHVlPVwiYW55XCIgY2hlY2tlZD5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tbGFiZWxcIj7kuI3pmZA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZ2VuZGVyLW9wdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImdlbmRlclwiIHZhbHVlPVwibWFsZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbi1sYWJlbFwiPueUt+aApzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJnZW5kZXItb3B0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiZ2VuZGVyXCIgdmFsdWU9XCJmZW1hbGVcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tbGFiZWxcIj7lpbPmgKc8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZ2VuZGVyLW9wdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cImdlbmRlclwiIHZhbHVlPVwib3RoZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcHRpb24tbGFiZWxcIj7lhbbku5Y8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLXNlY3Rpb25cIj5cclxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCIgZm9yPVwicGVyc29uYWxpdHlcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwtdGV4dFwiPuaAp+agvOimgeaxgjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwtaGludFwiPuaPj+i/sOS9oOW4jOacm+eahOWRmOW3peaAp+agvO+8iOWmgu+8muW8gOacl+OAgee7huW/g+OAgei0n+i0o+etie+8iTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgaWQ9XCJwZXJzb25hbGl0eVwiXHJcbiAgICAgICAgICAgICAgICBuYW1lPVwicGVyc29uYWxpdHlcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLXRleHRhcmVhXCJcclxuICAgICAgICAgICAgICAgIHJvd3M9XCIzXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5L6L5aaC77ya5byA5pyX5aSW5ZCR77yM5ZaE5LqO5rKf6YCa77yM5bel5L2c6K6k55yf6LSf6LSjLi4uXCJcclxuICAgICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1zZWN0aW9uXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiIGZvcj1cInBvc2l0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLXRleHRcIj7mi5vli5/ogYzkvY08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLWhpbnRcIj7lkZjlt6XlnKjml4XlupfkuK3mi4Xku7vnmoTogYzliqE8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIGlkPVwicG9zaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgbmFtZT1cInBvc2l0aW9uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuS+i+Wmgu+8muWJjeWPsOaOpeW+heOAgeWOqOW4iOOAgeS/neWuieOAgeacjeWKoeWRmC4uLlwiXHJcbiAgICAgICAgICAgICAgICBtYXhsZW5ndGg9XCIyMFwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1zZWN0aW9uXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiIGZvcj1cInNwZWNpYWwtcmVxdWlyZW1lbnRzXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLXRleHRcIj7nibnmroropoHmsYI8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsLWhpbnRcIj7lhbbku5bnibnmroropoHmsYLmiJblgY/lpb3vvIjlj6/pgInvvIk8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgICAgICAgIGlkPVwic3BlY2lhbC1yZXF1aXJlbWVudHNcIlxyXG4gICAgICAgICAgICAgICAgbmFtZT1cInNwZWNpYWxSZXF1aXJlbWVudHNcIlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLXRleHRhcmVhXCJcclxuICAgICAgICAgICAgICAgIHJvd3M9XCIzXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5L6L5aaC77ya6ZyA6KaB5pyJ5oiY5paX57uP6aqM44CB5pOF6ZW/6a2U5rOV44CB5Lya5aSa5Zu96K+t6KiALi4uXCJcclxuICAgICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1zZWN0aW9uXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiIGZvcj1cInNhbGFyeVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbC10ZXh0XCI+5bel6LWE5b6F6YGHPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbC1oaW50XCI+5q+P5pyI5pSv5LuY55qE5bel6LWE77yI6YeR5biB77yJPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNhbGFyeS1pbnB1dC13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgIGlkPVwic2FsYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgbmFtZT1cInNhbGFyeVwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1pbnB1dCBmb3JtLWlucHV0LW51bWJlclwiXHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxyXG4gICAgICAgICAgICAgICAgICBzdGVwPVwiMTBcIlxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT1cIjEwMFwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzYWxhcnktdW5pdFwiPumHkeW4gS/mnIg8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiZm9ybS1idG4gZm9ybS1idG4tY2FuY2VsXCIgZGF0YS1hY3Rpb249XCJjYW5jZWxcIj5cclxuICAgICAgICAgICAgICAgIOWPlua2iFxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzPVwiZm9ybS1idG4gZm9ybS1idG4tc3VibWl0XCIgZGF0YS1hY3Rpb249XCJzdWJtaXRcIj5cclxuICAgICAgICAgICAgICAgICR7dGhpcy5nZXRTdWJtaXRJY29uKCl9XHJcbiAgICAgICAgICAgICAgICDlj5HluIPmi5vli59cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOe7keWumuS6i+S7tlxyXG4gICAqL1xyXG4gIHByaXZhdGUgYmluZEV2ZW50cygpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgLy8g5YWz6Zet5oyJ6ZKuXHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJy5tb2RhbC1iYWNrZHJvcCwgLm1vZGFsLWNsb3NlLCBbZGF0YS1hY3Rpb249XCJjYW5jZWxcIl0nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOihqOWNleaPkOS6pFxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdzdWJtaXQnLCAnI3JlY3J1aXQtc3RhZmYtZm9ybScsIGUgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDpmLvmraLngrnlh7vmqKHmgIHmoYblhoXlrrnljLrln5/lhbPpl61cclxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLm1vZGFsLXdpbmRvdycsIGUgPT4ge1xyXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlpITnkIbooajljZXmj5DkuqRcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZVN1Ym1pdCgpOiB2b2lkIHtcclxuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZm9ybSA9ICQodGhpcy5lbGVtZW50KS5maW5kKCcjcmVjcnVpdC1zdGFmZi1mb3JtJylbMF0gYXMgSFRNTEZvcm1FbGVtZW50O1xyXG4gICAgaWYgKCFmb3JtKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSk7XHJcbiAgICBjb25zdCBnZW5kZXIgPSAoZm9ybURhdGEuZ2V0KCdnZW5kZXInKSBhcyBzdHJpbmcpIHx8ICdhbnknO1xyXG4gICAgY29uc3QgcGVyc29uYWxpdHkgPSAoZm9ybURhdGEuZ2V0KCdwZXJzb25hbGl0eScpIGFzIHN0cmluZyk/LnRyaW0oKSB8fCAnJztcclxuICAgIGNvbnN0IHBvc2l0aW9uID0gKGZvcm1EYXRhLmdldCgncG9zaXRpb24nKSBhcyBzdHJpbmcpPy50cmltKCkgfHwgJyc7XHJcbiAgICBjb25zdCBzcGVjaWFsUmVxdWlyZW1lbnRzID0gKGZvcm1EYXRhLmdldCgnc3BlY2lhbFJlcXVpcmVtZW50cycpIGFzIHN0cmluZyk/LnRyaW0oKSB8fCAnJztcclxuICAgIGNvbnN0IHNhbGFyeSA9IHBhcnNlSW50KChmb3JtRGF0YS5nZXQoJ3NhbGFyeScpIGFzIHN0cmluZykgfHwgJzEwMCcsIDEwKSB8fCAxMDA7XHJcblxyXG4gICAgLy8g6aqM6K+B5b+F5aGr5a2X5q61XHJcbiAgICBpZiAoIXBvc2l0aW9uKSB7XHJcbiAgICAgIHRoaXMuc2hvd0Vycm9yKCfor7floavlhpnmi5vli5/ogYzkvY0nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzYWxhcnkgPCAwKSB7XHJcbiAgICAgIHRoaXMuc2hvd0Vycm9yKCflt6XotYTkuI3og73kuLrotJ/mlbAnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlcXVlc3Q6IFJlY3J1aXRTdGFmZlJlcXVlc3QgPSB7XHJcbiAgICAgIGdlbmRlcjogZ2VuZGVyIGFzICdhbnknIHwgJ21hbGUnIHwgJ2ZlbWFsZScgfCAnb3RoZXInLFxyXG4gICAgICBwZXJzb25hbGl0eSxcclxuICAgICAgc3BlY2lhbFJlcXVpcmVtZW50cyxcclxuICAgICAgc2FsYXJ5LFxyXG4gICAgICBwb3NpdGlvbixcclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5sb2coJ/Cfk50g5oub5Yuf6ZyA5rGCOicsIHJlcXVlc3QpO1xyXG4gICAgdGhpcy5jYWxsYmFja3Mub25Db25maXJtKHJlcXVlc3QpO1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pi+56S66ZSZ6K+v5o+Q56S6XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzaG93RXJyb3IobWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAvLyDnroDljZXnmoTplJnor6/mj5DnpLrvvIzlj6/ku6XlkI7nu63kvJjljJbkuLrmm7Tnvo7op4LnmoTmj5DnpLrmoYZcclxuICAgIGFsZXJ0KG1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pi+56S65qih5oCB5qGGXHJcbiAgICovXHJcbiAgcHVibGljIHNob3coKTogdm9pZCB7XHJcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWFs+mXreaooeaAgeahhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbG9zZSgpOiB2b2lkIHtcclxuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygnb3BlbicpO1xyXG4gICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKTtcclxuICAgIH1cclxuICAgIHRoaXMuY2FsbGJhY2tzLm9uQ2FuY2VsKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDojrflj5blm77moIdcclxuICAgKi9cclxuICBwcml2YXRlIGdldFJlY3J1aXRJY29uKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTE2IDIxdi0yYTQgNCAwIDAgMC00LTRINmE0IDQgMCAwIDAtNCA0djJcIi8+PGNpcmNsZSBjeD1cIjlcIiBjeT1cIjdcIiByPVwiNFwiLz48cGF0aCBkPVwiTTIyIDIxdi0yYTQgNCAwIDAgMC0zLTMuODdcIi8+PHBhdGggZD1cIk0xNiAzLjEzYTQgNCAwIDAgMSAwIDcuNzVcIi8+PGxpbmUgeDE9XCIyMlwiIHkxPVwiNlwiIHgyPVwiMThcIiB5Mj1cIjEwXCIvPjxsaW5lIHgxPVwiMThcIiB5MT1cIjZcIiB4Mj1cIjIyXCIgeTI9XCIxMFwiLz48L3N2Zz4nO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRDbG9zZUljb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxsaW5lIHgxPVwiMThcIiB5MT1cIjZcIiB4Mj1cIjZcIiB5Mj1cIjE4XCIvPjxsaW5lIHgxPVwiNlwiIHkxPVwiNlwiIHgyPVwiMThcIiB5Mj1cIjE4XCIvPjwvc3ZnPic7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdldFN1Ym1pdEljb24oKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwb2x5bGluZSBwb2ludHM9XCIyMCA2IDkgMTcgNCAxMlwiLz48L3N2Zz4nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6ZSA5q+B57uE5Lu2XHJcbiAgICovXHJcbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5vZmYoKTtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZSgpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/RecruitStaffModal.ts\n\n}');
  },
  "./src/mhjg/components/modals/SettingsModal.scss": 
  /*!*******************************************************!*\
  !*** ./src/mhjg/components/modals/SettingsModal.scss ***!
  \*******************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TZXR0aW5nc01vZGFsLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TZXR0aW5nc01vZGFsLnNjc3M/NmJlOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/SettingsModal.scss\n\n}");
  },
  "./src/mhjg/components/modals/SettingsModal.ts": 
  /*!*****************************************************!*\
  !*** ./src/mhjg/components/modals/SettingsModal.ts ***!
  \*****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SettingsModal: () => (/* binding */ SettingsModal)\n/* harmony export */ });\n/* harmony import */ var _SettingsModal_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SettingsModal.scss */ \"./src/mhjg/components/modals/SettingsModal.scss\");\n\nconst STORAGE_KEY = 'mhjg-font-settings';\nclass SettingsModal {\n    element = null;\n    callbacks;\n    isOpen = false;\n    settings;\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n        // ä»æœ¬åœ°ç¼“å­˜åŠ è½½è®¾ç½®\n        this.settings = this.loadSettings();\n    }\n    /**\n     * ä»æœ¬åœ°ç¼“å­˜åŠ è½½è®¾ç½®\n     */\n    loadSettings() {\n        try {\n            const saved = localStorage.getItem(STORAGE_KEY);\n            if (saved) {\n                return JSON.parse(saved);\n            }\n        }\n        catch (error) {\n            console.warn('âš ï¸ åŠ è½½è®¾ç½®å¤±è´¥:', error);\n        }\n        // é»˜è®¤è®¾ç½®\n        return {\n            fontSize: '16px',\n            fontColor: '#e0e7ff',\n            fontFamily: 'system-ui, -apple-system, sans-serif',\n        };\n    }\n    /**\n     * ä¿å­˜è®¾ç½®åˆ°æœ¬åœ°ç¼“å­˜\n     */\n    saveSettings() {\n        try {\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(this.settings));\n            console.log('âœ… è®¾ç½®å·²ä¿å­˜åˆ°æœ¬åœ°ç¼“å­˜');\n        }\n        catch (error) {\n            console.error('âŒ ä¿å­˜è®¾ç½®å¤±è´¥:', error);\n        }\n    }\n    /**\n     * åº”ç”¨å­—ä½“è®¾ç½®åˆ°é¡µé¢\n     */\n    applyFontSettings() {\n        const root = document.documentElement;\n        root.style.setProperty('--mhjg-font-size', this.settings.fontSize);\n        root.style.setProperty('--mhjg-font-color', this.settings.fontColor);\n        root.style.setProperty('--mhjg-font-family', this.settings.fontFamily);\n        // åº”ç”¨åˆ° body\n        document.body.style.fontSize = this.settings.fontSize;\n        document.body.style.color = this.settings.fontColor;\n        document.body.style.fontFamily = this.settings.fontFamily;\n    }\n    /**\n     * åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„\n     */\n    createElement() {\n        const modal = document.createElement('div');\n        modal.className = 'mhjg-modal mhjg-modal-settings';\n        modal.innerHTML = this.getModalHTML();\n        this.element = modal;\n        this.bindEvents();\n        return modal;\n    }\n    /**\n     * è·å–æ¨¡æ€æ¡†HTML\n     */\n    getModalHTML() {\n        if (!this.isOpen)\n            return '';\n        return `\r\n      <div class=\"modal-backdrop\"></div>\r\n      <div class=\"modal-window\">\r\n        <div class=\"modal-header\">\r\n          <div class=\"modal-header-left\">\r\n            <div class=\"modal-icon\">\r\n              ${this.getSettingsIcon()}\r\n            </div>\r\n            <div class=\"modal-title-group\">\r\n              <h2 class=\"modal-title\">æ¸¸æˆè®¾ç½®</h2>\r\n              <p class=\"modal-subtitle\">å­—ä½“ä¸æ˜¾ç¤ºè®¾ç½®</p>\r\n            </div>\r\n          </div>\r\n          <button class=\"modal-close\" aria-label=\"å…³é—­\">\r\n            å…³é—­\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-content\">\r\n          <div class=\"settings-section\">\r\n            <h3 class=\"settings-section-title\">å­—ä½“è®¾ç½®</h3>\r\n            \r\n            <div class=\"setting-item\">\r\n              <label class=\"setting-label\">å­—ä½“å¤§å°</label>\r\n              <input \r\n                type=\"range\" \r\n                id=\"font-size-slider\" \r\n                class=\"setting-slider\"\r\n                min=\"12\" \r\n                max=\"24\" \r\n                step=\"1\" \r\n                value=\"${parseInt(this.settings.fontSize)}\"\r\n              />\r\n              <span class=\"setting-value\" id=\"font-size-value\">${this.settings.fontSize}</span>\r\n            </div>\r\n\r\n            <div class=\"setting-item\">\r\n              <label class=\"setting-label\">å­—ä½“é¢œè‰²</label>\r\n              <input \r\n                type=\"color\" \r\n                id=\"font-color-picker\" \r\n                class=\"setting-color\"\r\n                value=\"${this.settings.fontColor}\"\r\n              />\r\n              <span class=\"setting-value\" id=\"font-color-value\">${this.settings.fontColor}</span>\r\n            </div>\r\n\r\n            <div class=\"setting-item\">\r\n              <label class=\"setting-label\">å­—ä½“ç±»å‹</label>\r\n              <select id=\"font-family-select\" class=\"setting-select\">\r\n                <option value=\"system-ui, -apple-system, sans-serif\" ${this.settings.fontFamily.includes('system-ui') ? 'selected' : ''}>ç³»ç»Ÿé»˜è®¤</option>\r\n                <option value=\"'Microsoft YaHei', 'å¾®è½¯é›…é»‘', sans-serif\" ${this.settings.fontFamily.includes('Microsoft YaHei') ? 'selected' : ''}>å¾®è½¯é›…é»‘</option>\r\n                <option value=\"'SimSun', 'å®‹ä½“', serif\" ${this.settings.fontFamily.includes('SimSun') ? 'selected' : ''}>å®‹ä½“</option>\r\n                <option value=\"'KaiTi', 'æ¥·ä½“', serif\" ${this.settings.fontFamily.includes('KaiTi') ? 'selected' : ''}>æ¥·ä½“</option>\r\n                <option value=\"'FangSong', 'ä»¿å®‹', serif\" ${this.settings.fontFamily.includes('FangSong') ? 'selected' : ''}>ä»¿å®‹</option>\r\n                <option value=\"'SimHei', 'é»‘ä½“', sans-serif\" ${this.settings.fontFamily.includes('SimHei') ? 'selected' : ''}>é»‘ä½“</option>\r\n                <option value=\"'STSong', 'åæ–‡å®‹ä½“', serif\" ${this.settings.fontFamily.includes('STSong') ? 'selected' : ''}>åæ–‡å®‹ä½“</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div class=\"setting-preview\">\r\n              <label class=\"setting-label\">é¢„è§ˆæ•ˆæœ</label>\r\n              <div class=\"preview-text\" id=\"font-preview\">\r\n                è¿™æ˜¯å­—ä½“é¢„è§ˆæ•ˆæœï¼šThe quick brown fox jumps over the lazy dog. 1234567890\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\n    }\n    /**\n     * è·å–è®¾ç½®å›¾æ ‡\n     */\n    getSettingsIcon() {\n        return '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"3\"/><path d=\"M12 1v6m0 6v6m9-9h-6m-6 0H3m15.364 6.364-4.243-4.243m-4.242-4.242-4.243 4.243m4.242 4.242 4.243-4.243\"/></svg>';\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        $(this.element).off('click', '.modal-backdrop, .modal-close');\n        $(this.element).off('input', '#font-size-slider');\n        $(this.element).off('input', '#font-color-picker');\n        $(this.element).off('change', '#font-family-select');\n        $(this.element).on('click', '.modal-backdrop, .modal-close', () => {\n            this.close();\n        });\n        // å­—ä½“å¤§å°æ»‘å—\n        $(this.element).on('input', '#font-size-slider', (e) => {\n            const value = e.target.value + 'px';\n            this.settings.fontSize = value;\n            $(this.element).find('#font-size-value').text(value);\n            this.updatePreview();\n            this.saveSettings();\n            this.applyFontSettings();\n        });\n        // å­—ä½“é¢œè‰²é€‰æ‹©å™¨\n        $(this.element).on('input', '#font-color-picker', (e) => {\n            const value = e.target.value;\n            this.settings.fontColor = value;\n            $(this.element).find('#font-color-value').text(value);\n            this.updatePreview();\n            this.saveSettings();\n            this.applyFontSettings();\n        });\n        // å­—ä½“ç±»å‹é€‰æ‹©\n        $(this.element).on('change', '#font-family-select', (e) => {\n            const value = e.target.value;\n            this.settings.fontFamily = value;\n            this.updatePreview();\n            this.saveSettings();\n            this.applyFontSettings();\n        });\n    }\n    /**\n     * æ›´æ–°é¢„è§ˆ\n     */\n    updatePreview() {\n        const preview = $(this.element).find('#font-preview');\n        if (preview.length) {\n            preview[0].style.fontSize = this.settings.fontSize;\n            preview[0].style.color = this.settings.fontColor;\n            preview[0].style.fontFamily = this.settings.fontFamily;\n        }\n    }\n    /**\n     * æ˜¾ç¤ºæ¨¡æ€æ¡†\n     */\n    show() {\n        this.isOpen = true;\n        if (this.element) {\n            $(this.element).off();\n            this.element.innerHTML = this.getModalHTML();\n            this.bindEvents();\n            $(this.element).addClass('open');\n            $('body').addClass('modal-open');\n            // æ›´æ–°é¢„è§ˆ\n            setTimeout(() => {\n                this.updatePreview();\n            }, 100);\n        }\n        else {\n            const modal = this.createElement();\n            document.body.appendChild(modal);\n            $(modal).addClass('open');\n            $('body').addClass('modal-open');\n            setTimeout(() => {\n                this.updatePreview();\n            }, 100);\n        }\n        // åº”ç”¨å½“å‰è®¾ç½®\n        this.applyFontSettings();\n    }\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    close(triggerCallback = true) {\n        this.isOpen = false;\n        if (this.element) {\n            $(this.element).removeClass('open');\n            $('body').removeClass('modal-open');\n        }\n        if (triggerCallback) {\n            this.callbacks.onClose();\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TZXR0aW5nc01vZGFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThCO0FBWTlCLE1BQU0sV0FBVyxHQUFHLG9CQUFvQixDQUFDO0FBRWxDLE1BQU0sYUFBYTtJQUNoQixPQUFPLEdBQXVCLElBQUksQ0FBQztJQUNuQyxTQUFTLENBQXlCO0lBQ25DLE1BQU0sR0FBWSxLQUFLLENBQUM7SUFDdkIsUUFBUSxDQUFlO0lBRS9CLFlBQVksU0FBaUM7UUFDM0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsWUFBWTtRQUNaLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ3RDLENBQUM7SUFFRDs7T0FFRztJQUNLLFlBQVk7UUFDbEIsSUFBSSxDQUFDO1lBQ0gsTUFBTSxLQUFLLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNoRCxJQUFJLEtBQUssRUFBRSxDQUFDO2dCQUNWLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMzQixDQUFDO1FBQ0gsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixPQUFPLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBQ0QsT0FBTztRQUNQLE9BQU87WUFDTCxRQUFRLEVBQUUsTUFBTTtZQUNoQixTQUFTLEVBQUUsU0FBUztZQUNwQixVQUFVLEVBQUUsc0NBQXNDO1NBQ25ELENBQUM7SUFDSixDQUFDO0lBRUQ7O09BRUc7SUFDSyxZQUFZO1FBQ2xCLElBQUksQ0FBQztZQUNILFlBQVksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDakUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM5QixDQUFD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QUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvbW9kYWxzL1NldHRpbmdzTW9kYWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL1NldHRpbmdzTW9kYWwuc2Nzcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzTW9kYWxDYWxsYmFja3Mge1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmludGVyZmFjZSBGb250U2V0dGluZ3Mge1xyXG4gIGZvbnRTaXplOiBzdHJpbmc7XHJcbiAgZm9udENvbG9yOiBzdHJpbmc7XHJcbiAgZm9udEZhbWlseTogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBTVE9SQUdFX0tFWSA9ICdtaGpnLWZvbnQtc2V0dGluZ3MnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTW9kYWwge1xyXG4gIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIGNhbGxiYWNrczogU2V0dGluZ3NNb2RhbENhbGxiYWNrcztcclxuICBwdWJsaWMgaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBzZXR0aW5nczogRm9udFNldHRpbmdzO1xyXG5cclxuICBjb25zdHJ1Y3RvcihjYWxsYmFja3M6IFNldHRpbmdzTW9kYWxDYWxsYmFja3MpIHtcclxuICAgIHRoaXMuY2FsbGJhY2tzID0gY2FsbGJhY2tzO1xyXG4gICAgLy8g5LuO5pys5Zyw57yT5a2Y5Yqg6L296K6+572uXHJcbiAgICB0aGlzLnNldHRpbmdzID0gdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOS7juacrOWcsOe8k+WtmOWKoOi9veiuvue9rlxyXG4gICAqL1xyXG4gIHByaXZhdGUgbG9hZFNldHRpbmdzKCk6IEZvbnRTZXR0aW5ncyB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcclxuICAgICAgaWYgKHNhdmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc2F2ZWQpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDliqDovb3orr7nva7lpLHotKU6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgLy8g6buY6K6k6K6+572uXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmb250U2l6ZTogJzE2cHgnLFxyXG4gICAgICBmb250Q29sb3I6ICcjZTBlN2ZmJyxcclxuICAgICAgZm9udEZhbWlseTogJ3N5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgc2Fucy1zZXJpZicsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5L+d5a2Y6K6+572u5Yiw5pys5Zyw57yT5a2YXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzYXZlU2V0dGluZ3MoKTogdm9pZCB7XHJcbiAgICB0cnkge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIOiuvue9ruW3suS/neWtmOWIsOacrOWcsOe8k+WtmCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIOS/neWtmOiuvue9ruWksei0pTonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDlupTnlKjlrZfkvZPorr7nva7liLDpobXpnaJcclxuICAgKi9cclxuICBwcml2YXRlIGFwcGx5Rm9udFNldHRpbmdzKCk6IHZvaWQge1xyXG4gICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tbWhqZy1mb250LXNpemUnLCB0aGlzLnNldHRpbmdzLmZvbnRTaXplKTtcclxuICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tbWhqZy1mb250LWNvbG9yJywgdGhpcy5zZXR0aW5ncy5mb250Q29sb3IpO1xyXG4gICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1taGpnLWZvbnQtZmFtaWx5JywgdGhpcy5zZXR0aW5ncy5mb250RmFtaWx5KTtcclxuICAgIFxyXG4gICAgLy8g5bqU55So5YiwIGJvZHlcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuZm9udFNpemUgPSB0aGlzLnNldHRpbmdzLmZvbnRTaXplO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jb2xvciA9IHRoaXMuc2V0dGluZ3MuZm9udENvbG9yO1xyXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5mb250RmFtaWx5ID0gdGhpcy5zZXR0aW5ncy5mb250RmFtaWx5O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5Yib5bu65qih5oCB5qGGSFRNTOe7k+aehFxyXG4gICAqL1xyXG4gIHB1YmxpYyBjcmVhdGVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbWhqZy1tb2RhbCBtaGpnLW1vZGFsLXNldHRpbmdzJztcclxuICAgIG1vZGFsLmlubmVySFRNTCA9IHRoaXMuZ2V0TW9kYWxIVE1MKCk7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBtb2RhbDtcclxuICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgcmV0dXJuIG1vZGFsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog6I635Y+W5qih5oCB5qGGSFRNTFxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0TW9kYWxIVE1MKCk6IHN0cmluZyB7XHJcbiAgICBpZiAoIXRoaXMuaXNPcGVuKSByZXR1cm4gJyc7XHJcblxyXG4gICAgcmV0dXJuIGBcclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC13aW5kb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyLWxlZnRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWljb25cIj5cclxuICAgICAgICAgICAgICAke3RoaXMuZ2V0U2V0dGluZ3NJY29uKCl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtdGl0bGUtZ3JvdXBcIj5cclxuICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPua4uOaIj+iuvue9rjwvaDI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtb2RhbC1zdWJ0aXRsZVwiPuWtl+S9k+S4juaYvuekuuiuvue9rjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1jbG9zZVwiIGFyaWEtbGFiZWw9XCLlhbPpl61cIj5cclxuICAgICAgICAgICAg5YWz6ZetXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmdzLXNlY3Rpb25cIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwic2V0dGluZ3Mtc2VjdGlvbi10aXRsZVwiPuWtl+S9k+iuvue9rjwvaDM+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic2V0dGluZy1sYWJlbFwiPuWtl+S9k+Wkp+WwjzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGlucHV0IFxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCIgXHJcbiAgICAgICAgICAgICAgICBpZD1cImZvbnQtc2l6ZS1zbGlkZXJcIiBcclxuICAgICAgICAgICAgICAgIGNsYXNzPVwic2V0dGluZy1zbGlkZXJcIlxyXG4gICAgICAgICAgICAgICAgbWluPVwiMTJcIiBcclxuICAgICAgICAgICAgICAgIG1heD1cIjI0XCIgXHJcbiAgICAgICAgICAgICAgICBzdGVwPVwiMVwiIFxyXG4gICAgICAgICAgICAgICAgdmFsdWU9XCIke3BhcnNlSW50KHRoaXMuc2V0dGluZ3MuZm9udFNpemUpfVwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNldHRpbmctdmFsdWVcIiBpZD1cImZvbnQtc2l6ZS12YWx1ZVwiPiR7dGhpcy5zZXR0aW5ncy5mb250U2l6ZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctaXRlbVwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInNldHRpbmctbGFiZWxcIj7lrZfkvZPpopzoibI8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCBcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiIFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJmb250LWNvbG9yLXBpY2tlclwiIFxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJzZXR0aW5nLWNvbG9yXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLnNldHRpbmdzLmZvbnRDb2xvcn1cIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzZXR0aW5nLXZhbHVlXCIgaWQ9XCJmb250LWNvbG9yLXZhbHVlXCI+JHt0aGlzLnNldHRpbmdzLmZvbnRDb2xvcn08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNldHRpbmctaXRlbVwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInNldHRpbmctbGFiZWxcIj7lrZfkvZPnsbvlnos8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJmb250LWZhbWlseS1zZWxlY3RcIiBjbGFzcz1cInNldHRpbmctc2VsZWN0XCI+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBzYW5zLXNlcmlmXCIgJHt0aGlzLnNldHRpbmdzLmZvbnRGYW1pbHkuaW5jbHVkZXMoJ3N5c3RlbS11aScpID8gJ3NlbGVjdGVkJyA6ICcnfT7ns7vnu5/pu5jorqQ8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCInTWljcm9zb2Z0IFlhSGVpJywgJ+W+rui9r+mbhem7kScsIHNhbnMtc2VyaWZcIiAke3RoaXMuc2V0dGluZ3MuZm9udEZhbWlseS5pbmNsdWRlcygnTWljcm9zb2Z0IFlhSGVpJykgPyAnc2VsZWN0ZWQnIDogJyd9PuW+rui9r+mbhem7kTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIidTaW1TdW4nLCAn5a6L5L2TJywgc2VyaWZcIiAke3RoaXMuc2V0dGluZ3MuZm9udEZhbWlseS5pbmNsdWRlcygnU2ltU3VuJykgPyAnc2VsZWN0ZWQnIDogJyd9PuWui+S9kzwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIidLYWlUaScsICfmpbfkvZMnLCBzZXJpZlwiICR7dGhpcy5zZXR0aW5ncy5mb250RmFtaWx5LmluY2x1ZGVzKCdLYWlUaScpID8gJ3NlbGVjdGVkJyA6ICcnfT7mpbfkvZM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCInRmFuZ1NvbmcnLCAn5Lu/5a6LJywgc2VyaWZcIiAke3RoaXMuc2V0dGluZ3MuZm9udEZhbWlseS5pbmNsdWRlcygnRmFuZ1NvbmcnKSA/ICdzZWxlY3RlZCcgOiAnJ30+5Lu/5a6LPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJ1NpbUhlaScsICfpu5HkvZMnLCBzYW5zLXNlcmlmXCIgJHt0aGlzLnNldHRpbmdzLmZvbnRGYW1pbHkuaW5jbHVkZXMoJ1NpbUhlaScpID8gJ3NlbGVjdGVkJyA6ICcnfT7pu5HkvZM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCInU1RTb25nJywgJ+WNjuaWh+Wui+S9kycsIHNlcmlmXCIgJHt0aGlzLnNldHRpbmdzLmZvbnRGYW1pbHkuaW5jbHVkZXMoJ1NUU29uZycpID8gJ3NlbGVjdGVkJyA6ICcnfT7ljY7mloflrovkvZM8L29wdGlvbj5cclxuICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2V0dGluZy1wcmV2aWV3XCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwic2V0dGluZy1sYWJlbFwiPumihOiniOaViOaenDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXctdGV4dFwiIGlkPVwiZm9udC1wcmV2aWV3XCI+XHJcbiAgICAgICAgICAgICAgICDov5nmmK/lrZfkvZPpooTop4jmlYjmnpzvvJpUaGUgcXVpY2sgYnJvd24gZm94IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nLiAxMjM0NTY3ODkwXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOiOt+WPluiuvue9ruWbvuagh1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0U2V0dGluZ3NJY29uKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjNcIi8+PHBhdGggZD1cIk0xMiAxdjZtMCA2djZtOS05aC02bS02IDBIM20xNS4zNjQgNi4zNjQtNC4yNDMtNC4yNDNtLTQuMjQyLTQuMjQyLTQuMjQzIDQuMjQzbTQuMjQyIDQuMjQyIDQuMjQzLTQuMjQzXCIvPjwvc3ZnPic7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDnu5Hlrprkuovku7ZcclxuICAgKi9cclxuICBwcml2YXRlIGJpbmRFdmVudHMoKTogdm9pZCB7XHJcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xyXG5cclxuICAgICQodGhpcy5lbGVtZW50KS5vZmYoJ2NsaWNrJywgJy5tb2RhbC1iYWNrZHJvcCwgLm1vZGFsLWNsb3NlJyk7XHJcbiAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCdpbnB1dCcsICcjZm9udC1zaXplLXNsaWRlcicpO1xyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9mZignaW5wdXQnLCAnI2ZvbnQtY29sb3ItcGlja2VyJyk7XHJcbiAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCdjaGFuZ2UnLCAnI2ZvbnQtZmFtaWx5LXNlbGVjdCcpO1xyXG5cclxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLm1vZGFsLWJhY2tkcm9wLCAubW9kYWwtY2xvc2UnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOWtl+S9k+Wkp+Wwj+a7keWdl1xyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdpbnB1dCcsICcjZm9udC1zaXplLXNsaWRlcicsIChlKSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlICsgJ3B4JztcclxuICAgICAgdGhpcy5zZXR0aW5ncy5mb250U2l6ZSA9IHZhbHVlO1xyXG4gICAgICAkKHRoaXMuZWxlbWVudCEpLmZpbmQoJyNmb250LXNpemUtdmFsdWUnKS50ZXh0KHZhbHVlKTtcclxuICAgICAgdGhpcy51cGRhdGVQcmV2aWV3KCk7XHJcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgIHRoaXMuYXBwbHlGb250U2V0dGluZ3MoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOWtl+S9k+minOiJsumAieaLqeWZqFxyXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdpbnB1dCcsICcjZm9udC1jb2xvci1waWNrZXInLCAoZSkgPT4ge1xyXG4gICAgICBjb25zdCB2YWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcclxuICAgICAgdGhpcy5zZXR0aW5ncy5mb250Q29sb3IgPSB2YWx1ZTtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQhKS5maW5kKCcjZm9udC1jb2xvci12YWx1ZScpLnRleHQodmFsdWUpO1xyXG4gICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcclxuICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgdGhpcy5hcHBseUZvbnRTZXR0aW5ncygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g5a2X5L2T57G75Z6L6YCJ5oupXHJcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NoYW5nZScsICcjZm9udC1mYW1pbHktc2VsZWN0JywgKGUpID0+IHtcclxuICAgICAgY29uc3QgdmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTFNlbGVjdEVsZW1lbnQpLnZhbHVlO1xyXG4gICAgICB0aGlzLnNldHRpbmdzLmZvbnRGYW1pbHkgPSB2YWx1ZTtcclxuICAgICAgdGhpcy51cGRhdGVQcmV2aWV3KCk7XHJcbiAgICAgIHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcbiAgICAgIHRoaXMuYXBwbHlGb250U2V0dGluZ3MoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICog5pu05paw6aKE6KeIXHJcbiAgICovXHJcbiAgcHJpdmF0ZSB1cGRhdGVQcmV2aWV3KCk6IHZvaWQge1xyXG4gICAgY29uc3QgcHJldmlldyA9ICQodGhpcy5lbGVtZW50ISkuZmluZCgnI2ZvbnQtcHJldmlldycpO1xyXG4gICAgaWYgKHByZXZpZXcubGVuZ3RoKSB7XHJcbiAgICAgIHByZXZpZXdbMF0uc3R5bGUuZm9udFNpemUgPSB0aGlzLnNldHRpbmdzLmZvbnRTaXplO1xyXG4gICAgICBwcmV2aWV3WzBdLnN0eWxlLmNvbG9yID0gdGhpcy5zZXR0aW5ncy5mb250Q29sb3I7XHJcbiAgICAgIHByZXZpZXdbMF0uc3R5bGUuZm9udEZhbWlseSA9IHRoaXMuc2V0dGluZ3MuZm9udEZhbWlseTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOaYvuekuuaooeaAgeahhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzaG93KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xyXG5cclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5nZXRNb2RhbEhUTUwoKTtcclxuICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xyXG4gICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTtcclxuICAgICAgLy8g5pu05paw6aKE6KeIXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlUHJldmlldygpO1xyXG4gICAgICB9LCAxMDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgbW9kYWwgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XHJcbiAgICAgICQobW9kYWwpLmFkZENsYXNzKCdvcGVuJyk7XHJcbiAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbW9kYWwtb3BlbicpO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcclxuICAgICAgfSwgMTAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDlupTnlKjlvZPliY3orr7nva5cclxuICAgIHRoaXMuYXBwbHlGb250U2V0dGluZ3MoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIOWFs+mXreaooeaAgeahhlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbG9zZSh0cmlnZ2VyQ2FsbGJhY2s6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XHJcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xyXG5cclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XHJcbiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRyaWdnZXJDYWxsYmFjaykge1xyXG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiDplIDmr4Hnu4Tku7ZcclxuICAgKi9cclxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcclxuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xyXG4gICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlKCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/SettingsModal.ts\n\n}");
  },
  "./src/mhjg/components/modals/StaffModal.scss": 
  /*!****************************************************!*\
  !*** ./src/mhjg/components/modals/StaffModal.scss ***!
  \****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TdGFmZk1vZGFsLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TdGFmZk1vZGFsLnNjc3M/MTIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/StaffModal.scss\n\n}");
  },
  "./src/mhjg/components/modals/StaffModal.ts": 
  /*!**************************************************!*\
  !*** ./src/mhjg/components/modals/StaffModal.ts ***!
  \**************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StaffModal: () => (/* binding */ StaffModal)\n/* harmony export */ });\n/* harmony import */ var _utils_variableReader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/variableReader */ "./src/mhjg/utils/variableReader.ts");\n/* harmony import */ var _RecruitStaffModal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RecruitStaffModal */ "./src/mhjg/components/modals/RecruitStaffModal.ts");\n/* harmony import */ var _StaffModal_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StaffModal.scss */ "./src/mhjg/components/modals/StaffModal.scss");\n\n\n\nconst STAFF_INTERACTION_OPTIONS = [\n    {\n        label: \'é¼“åŠ±å·¥ä½œ\',\n        prompt_template: \'ä½ å†³å®šé¼“åŠ±${staff_name}æ›´åŠ åŠªåŠ›åœ°å·¥ä½œã€‚\',\n    },\n    {\n        label: \'èµ é€ç¤¼ç‰©\',\n        prompt_template: \'ä½ å†³å®šå¯¹${staff_name}èµ é€å°ç¤¼ç‰©ä»¥ç¤ºæ„Ÿè°¢ã€‚\',\n    },\n    {\n        label: \'å€¾å¬çƒ¦æ¼\',\n        prompt_template: \'ä½ å†³å®šå€¾å¬${staff_name}çš„çƒ¦æ¼å¹¶å°è¯•å¸®åŠ©å¯¹æ–¹ã€‚\',\n    },\n    {\n        label: \'è¯¢é—®æ„è§\',\n        prompt_template: \'ä½ å†³å®šå‘${staff_name}è¯¢é—®å…³äºæ—…åº—ç»è¥çš„æ„è§å’Œå»ºè®®ã€‚\',\n    },\n    {\n        label: \'å®‰æ’ä»»åŠ¡\',\n        prompt_template: \'ä½ å†³å®šç»™${staff_name}å®‰æ’ä¸€ä¸ªç‰¹æ®Šçš„ä»»åŠ¡ã€‚\',\n    },\n    {\n        label: \'è¡¨æ‰¬ç§°èµ\',\n        prompt_template: \'ä½ å†³å®šè¡¨æ‰¬${staff_name}çš„å·¥ä½œè¡¨ç°ã€‚\',\n    },\n    {\n        label: \'æé†’è­¦å‘Š\',\n        prompt_template: \'ä½ å†³å®šæé†’${staff_name}æ³¨æ„å·¥ä½œæ€åº¦å’Œè¡¨ç°ã€‚\',\n    },\n    {\n        label: \'è°ˆå¿ƒäº¤æµ\',\n        prompt_template: \'ä½ å†³å®šä¸${staff_name}è¿›è¡Œä¸€æ¬¡æ·±å…¥çš„è°ˆå¿ƒäº¤æµã€‚\',\n    },\n];\nconst STAFF_MANAGE_OPTIONS = [\n    {\n        label: \'è°ƒæ•´å·¥èµ„\',\n        prompt_template: \'ä½ å†³å®šè°ƒæ•´${staff_name}çš„å·¥èµ„å¾…é‡ã€‚\',\n    },\n    {\n        label: \'è°ƒæ¢èŒåŠ¡\',\n        prompt_template: \'ä½ å†³å®šä¸º${staff_name}è°ƒæ¢å·¥ä½œèŒåŠ¡ã€‚\',\n    },\n    {\n        label: \'å®‰æ’åŸ¹è®­\',\n        prompt_template: \'ä½ å†³å®šä¸º${staff_name}å®‰æ’æŠ€èƒ½åŸ¹è®­ã€‚\',\n    },\n    {\n        label: \'ç»™äºˆå¥–åŠ±\',\n        prompt_template: \'ä½ å†³å®šç»™äºˆ${staff_name}é¢å¤–çš„å¥–åŠ±ã€‚\',\n    },\n    {\n        label: \'å®‰æ’ä¼‘æ¯\',\n        prompt_template: \'ä½ å†³å®šè®©${staff_name}ä¼‘æ¯ä¸€æ®µæ—¶é—´ã€‚\',\n    },\n    {\n        label: \'è§£é›‡å‘˜å·¥\',\n        prompt_template: \'ä½ å†³å®šè§£é›‡${staff_name}ã€‚\',\n    },\n];\nclass StaffModal {\n    element = null;\n    staff = [];\n    callbacks;\n    isOpen = false;\n    selectedStaff = null;\n    recruitModal = null;\n    currentInteractingStaff = null;\n    currentManagingStaff = null;\n    constructor(staff, callbacks) {\n        if (staff) {\n            this.staff = staff;\n        }\n        else {\n            // ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n            this.loadFromVariables();\n        }\n        this.callbacks = callbacks;\n    }\n    /**\n     * ä»å˜é‡è¡¨åŠ è½½å‘˜å·¥æ•°æ®\n     */\n    async loadFromVariables() {\n        const gameData = await (0,_utils_variableReader__WEBPACK_IMPORTED_MODULE_0__.readGameData)();\n        // è½¬æ¢å‘˜å·¥æ•°æ®æ ¼å¼\n        this.staff = gameData.staff.map((staff, index) => {\n            // å¤„ç† MVU æ ¼å¼ï¼šå¦‚æœ staff æ˜¯ [å€¼, "æè¿°"] æ ¼å¼ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ \n            let staffValue = staff;\n            if (Array.isArray(staff) && staff.length > 0) {\n                staffValue = staff[0];\n            }\n            return {\n                id: String(index + 1),\n                name: staffValue?.åç§° || \'\',\n                race: staffValue?.ç§æ— || \'\',\n                // å…¼å®¹ï¼šä¼˜å…ˆä½¿ç”¨ æ—…é¦†æ‹…ä»»çš„èŒåŠ¡ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨ èŒä¸š\n                innRole: staffValue?.æ—…é¦†æ‹…ä»»çš„èŒåŠ¡ || staffValue?.èŒä¸š || \'\',\n                // å…¼å®¹ï¼šä¼˜å…ˆä½¿ç”¨ æˆ˜æ–—èŒä¸šåï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸ºç©º\n                combatClass: staffValue?.æˆ˜æ–—èŒä¸šå || \'\',\n                level: staffValue?.èŒä¸šç­‰çº§ || 1,\n                appearance: staffValue?.å¤–è²Œæè¿° || \'\',\n                mood: staffValue?.å¿ƒæƒ…å€¼ || 0,\n                favorability: staffValue?.å¯¹ç©å®¶çš„å¥½æ„Ÿåº¦ || 0,\n                workSatisfaction: staffValue?.å·¥ä½œæ»¡æ„åº¦ || 0,\n                salary: staffValue?.å·¥èµ„ || 0,\n                likes: staffValue?.å–œå¥½ || [],\n                dislikes: staffValue?.åŒæ¶ || [],\n                currentThought: staffValue?.å½“å‰æƒ³æ³• || \'\',\n                avatarUrl: `https://picsum.photos/100?random=${index + 20}`,\n            };\n        });\n        if (this.isOpen && this.element) {\n            this.render();\n        }\n    }\n    /**\n     * é‡æ–°æ¸²æŸ“æ¨¡æ€æ¡†\n     */\n    render() {\n        if (!this.element)\n            return;\n        this.element.innerHTML = this.getModalHTML();\n        this.bindEvents();\n    }\n    /**\n     * åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„\n     */\n    createElement() {\n        const modal = document.createElement(\'div\');\n        modal.className = \'mhjg-modal mhjg-modal-staff\';\n        modal.innerHTML = this.getModalHTML();\n        this.element = modal;\n        this.bindEvents();\n        return modal;\n    }\n    /**\n     * è·å–æ¨¡æ€æ¡†HTML\n     */\n    getModalHTML() {\n        if (!this.isOpen)\n            return \'\';\n        return `\n      <div class="modal-backdrop"></div>\n      <div class="modal-window">\n        <div class="modal-header">\n          <div class="modal-header-left">\n            <div class="modal-icon">\n              ${this.getStaffIcon()}\n            </div>\n            <div class="modal-title-group">\n              <h2 class="modal-title">å‘˜å·¥ç®¡ç†</h2>\n              <p class="modal-subtitle">å½“å‰æœ‰ ${this.staff.length} ä½å‘˜å·¥åœ¨å²—</p>\n            </div>\n          </div>\n          <button class="modal-close" aria-label="å…³é—­">\n            ${this.getCloseIcon()}\n          </button>\n        </div>\n        <div class="modal-content">\n          <div class="staff-grid">\n            ${this.staff.map(staff => this.createStaffCard(staff)).join(\'\')}\n            <div class="staff-placeholder" data-action="recruit">\n              <span class="placeholder-icon">+</span>\n              <span class="placeholder-text">æ‹›å‹Ÿå‘˜å·¥</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºå‘˜å·¥å¡ç‰‡\n     */\n    createStaffCard(staff) {\n        const favorabilityColor = this.getFavorabilityColor(staff.favorability);\n        const favorabilityText = this.getFavorabilityText(staff.favorability);\n        const moodColor = this.getMoodColor(staff.mood || 0);\n        const moodText = this.getMoodText(staff.mood || 0);\n        const satisfactionColor = this.getSatisfactionColor(staff.workSatisfaction || 0);\n        const satisfactionText = this.getSatisfactionText(staff.workSatisfaction || 0);\n        return `\n      <div class="staff-card rpg-panel" data-staff-id="${staff.id}">\n        <div class="staff-header">\n          <div class="staff-avatar-wrapper">\n            <img \n              src="${staff.avatarUrl}" \n              alt="${staff.name}" \n              class="staff-avatar"\n            />\n            <div class="staff-level-badge">Lv.${staff.level}</div>\n            <div class="staff-favorability-badge" style="background: ${favorabilityColor}">\n              ${staff.favorability}\n            </div>\n          </div>\n          <div class="staff-info">\n            <h3 class="staff-name">${staff.name}</h3>\n            <div class="staff-tags">\n              <span class="staff-tag staff-tag-race">${staff.race}</span>\n              ${staff.combatClass ? `<span class="staff-tag staff-tag-combat">${staff.combatClass}</span>` : \'\'}\n              ${staff.innRole ? `<span class="staff-tag staff-tag-role">${staff.innRole}</span>` : \'\'}\n            </div>\n            <div class="staff-stats">\n              <div class="staff-stat-item">\n                <span class="stat-label">å¥½æ„Ÿåº¦</span>\n                <div class="stat-bar">\n                  <div class="stat-bar-fill" style="width: ${staff.favorability}%; background: ${favorabilityColor}"></div>\n                </div>\n                <span class="stat-text">${favorabilityText}</span>\n              </div>\n              ${staff.mood !== undefined ? `\n              <div class="staff-stat-item">\n                <span class="stat-label">å¿ƒæƒ…</span>\n                <div class="stat-bar">\n                  <div class="stat-bar-fill" style="width: ${staff.mood}%; background: ${moodColor}"></div>\n                </div>\n                <span class="stat-text">${moodText}</span>\n              </div>\n              ` : \'\'}\n              ${staff.workSatisfaction !== undefined ? `\n              <div class="staff-stat-item">\n                <span class="stat-label">å·¥ä½œæ»¡æ„åº¦</span>\n                <div class="stat-bar">\n                  <div class="stat-bar-fill" style="width: ${staff.workSatisfaction}%; background: ${satisfactionColor}"></div>\n                </div>\n                <span class="stat-text">${satisfactionText}</span>\n              </div>\n              ` : \'\'}\n              <div class="staff-stat-item">\n                <span class="stat-label">å·¥èµ„</span>\n                <span class="stat-value stat-salary">${staff.salary || 0} é‡‘å¸/æœˆ</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="staff-appearance">\n          <div class="appearance-label">\n            ${this.getEyeIcon()}\n            <span>å¤–è²Œ</span>\n          </div>\n          <p class="appearance-text">${staff.appearance}</p>\n        </div>\n        ${staff.currentThought ? `\n        <div class="staff-thought">\n          <div class="thought-quote">"</div>\n          <p class="thought-text">${staff.currentThought}</p>\n        </div>\n        ` : \'\'}\n        <div class="staff-preferences">\n          <div class="preferences-section">\n            <div class="preferences-label">\n              ${this.getHeartIcon()}\n              <span>å–œå¥½</span>\n            </div>\n            <div class="preferences-list">\n              ${staff.likes && staff.likes.length > 0\n            ? staff.likes.map(like => `<span class="preference-tag preference-like">${like}</span>`).join(\'\')\n            : \'<span class="preference-empty">æš‚æ— </span>\'}\n            </div>\n          </div>\n          <div class="preferences-section">\n            <div class="preferences-label">\n              ${this.getXIcon()}\n              <span>åŒæ¶</span>\n            </div>\n            <div class="preferences-list">\n              ${staff.dislikes && staff.dislikes.length > 0\n            ? staff.dislikes\n                .map(dislike => `<span class="preference-tag preference-dislike">${dislike}</span>`)\n                .join(\'\')\n            : \'<span class="preference-empty">æš‚æ— </span>\'}\n            </div>\n          </div>\n        </div>\n        <div class="staff-actions">\n          <button class="staff-btn staff-btn-interact">\n            ${this.getMessageIcon()}\n            äº’åŠ¨\n          </button>\n          <button class="staff-btn staff-btn-manage">\n            ${this.getSettingsIcon()}\n            ç®¡ç†\n          </button>\n          <button class="staff-btn staff-btn-more">\n            ${this.getMoreIcon()}\n          </button>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * è·å–å¿ƒæƒ…é¢œè‰²\n     */\n    getMoodColor(mood) {\n        if (mood >= 80)\n            return \'rgba(16, 185, 129, 0.2)\'; // emerald\n        if (mood >= 60)\n            return \'rgba(99, 102, 241, 0.2)\'; // indigo\n        if (mood >= 40)\n            return \'rgba(251, 191, 36, 0.2)\'; // amber\n        return \'rgba(239, 68, 68, 0.2)\'; // red\n    }\n    /**\n     * è·å–å¿ƒæƒ…æ–‡æœ¬\n     */\n    getMoodText(mood) {\n        if (mood >= 80)\n            return \'éå¸¸æ„‰å¿«\';\n        if (mood >= 60)\n            return \'æ„‰å¿«\';\n        if (mood >= 40)\n            return \'ä¸€èˆ¬\';\n        if (mood >= 20)\n            return \'ä½è½\';\n        return \'éå¸¸ä½è½\';\n    }\n    /**\n     * è·å–å·¥ä½œæ»¡æ„åº¦é¢œè‰²\n     */\n    getSatisfactionColor(satisfaction) {\n        if (satisfaction >= 80)\n            return \'rgba(16, 185, 129, 0.2)\'; // emerald\n        if (satisfaction >= 60)\n            return \'rgba(99, 102, 241, 0.2)\'; // indigo\n        if (satisfaction >= 40)\n            return \'rgba(251, 191, 36, 0.2)\'; // amber\n        return \'rgba(239, 68, 68, 0.2)\'; // red\n    }\n    /**\n     * è·å–å·¥ä½œæ»¡æ„åº¦æ–‡æœ¬\n     */\n    getSatisfactionText(satisfaction) {\n        if (satisfaction >= 80)\n            return \'éå¸¸æ»¡æ„\';\n        if (satisfaction >= 60)\n            return \'æ»¡æ„\';\n        if (satisfaction >= 40)\n            return \'ä¸€èˆ¬\';\n        if (satisfaction >= 20)\n            return \'ä¸æ»¡æ„\';\n        return \'éå¸¸ä¸æ»¡æ„\';\n    }\n    /**\n     * è·å–å¥½æ„Ÿåº¦é¢œè‰²\n     */\n    getFavorabilityColor(favorability) {\n        if (favorability >= 80)\n            return \'rgba(16, 185, 129, 0.2)\'; // emerald\n        if (favorability >= 60)\n            return \'rgba(99, 102, 241, 0.2)\'; // indigo\n        if (favorability >= 40)\n            return \'rgba(251, 191, 36, 0.2)\'; // amber\n        return \'rgba(239, 68, 68, 0.2)\'; // red\n    }\n    /**\n     * è·å–å¥½æ„Ÿåº¦æ–‡æœ¬\n     */\n    getFavorabilityText(favorability) {\n        if (favorability >= 80)\n            return \'éå¸¸å‹å¥½\';\n        if (favorability >= 60)\n            return \'å‹å¥½\';\n        if (favorability >= 40)\n            return \'ä¸€èˆ¬\';\n        return \'å†·æ·¡\';\n    }\n    /**\n     * è·å–å›¾æ ‡\n     */\n    getStaffIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>\';\n    }\n    getCloseIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\';\n    }\n    getMessageIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>\';\n    }\n    getSettingsIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"/></svg>\';\n    }\n    getMoreIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg>\';\n    }\n    getEyeIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>\';\n    }\n    getHeartIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>\';\n    }\n    getXIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\';\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        $(this.element).on(\'click\', \'.modal-backdrop, .modal-close\', () => {\n            this.close();\n        });\n        $(this.element).on(\'click\', \'.staff-btn-interact\', e => {\n            e.stopPropagation();\n            const card = $(e.currentTarget).closest(\'.staff-card\');\n            const staffId = card.attr(\'data-staff-id\');\n            const staff = this.staff.find(s => s.id === staffId);\n            if (staff) {\n                this.showInteractionMenu(staff);\n            }\n        });\n        $(this.element).on(\'click\', \'.staff-btn-manage\', e => {\n            e.stopPropagation();\n            const card = $(e.currentTarget).closest(\'.staff-card\');\n            const staffId = card.attr(\'data-staff-id\');\n            const staff = this.staff.find(s => s.id === staffId);\n            if (staff) {\n                this.showManageMenu(staff);\n            }\n        });\n        // ç‚¹å‡»äº’åŠ¨é€‰é¡¹\n        $(this.element).on(\'click\', \'.interaction-option\', e => {\n            e.stopPropagation();\n            const optionIndex = parseInt($(e.currentTarget).attr(\'data-option-index\') || \'0\', 10);\n            const option = STAFF_INTERACTION_OPTIONS[optionIndex];\n            if (option && this.currentInteractingStaff) {\n                this.handleInteraction(option, this.currentInteractingStaff);\n            }\n        });\n        // ç‚¹å‡»ç®¡ç†é€‰é¡¹\n        $(this.element).on(\'click\', \'.manage-option\', e => {\n            e.stopPropagation();\n            const optionIndex = parseInt($(e.currentTarget).attr(\'data-option-index\') || \'0\', 10);\n            const option = STAFF_MANAGE_OPTIONS[optionIndex];\n            if (option && this.currentManagingStaff) {\n                this.handleManage(option, this.currentManagingStaff);\n            }\n        });\n        // ç‚¹å‡»å…³é—­äº’åŠ¨èœå•\n        $(this.element).on(\'click\', \'.interaction-menu-backdrop, .interaction-menu-close\', () => {\n            this.hideInteractionMenu();\n        });\n        // ç‚¹å‡»å…³é—­ç®¡ç†èœå•\n        $(this.element).on(\'click\', \'.manage-menu-backdrop, .manage-menu-close\', () => {\n            this.hideManageMenu();\n        });\n        $(this.element).on(\'click\', \'.staff-card\', e => {\n            if ($(e.target).closest(\'.staff-btn\').length)\n                return;\n            const card = $(e.currentTarget);\n            const staffId = card.attr(\'data-staff-id\');\n            if (staffId) {\n                const staff = this.staff.find(s => s.id === staffId);\n                if (staff) {\n                    this.selectedStaff = staff;\n                    card.addClass(\'selected\');\n                    card.siblings().removeClass(\'selected\');\n                }\n            }\n        });\n        // æ‹›å‹Ÿå‘˜å·¥æŒ‰é’®\n        $(this.element).on(\'click\', \'[data-action="recruit"]\', () => {\n            this.showRecruitModal();\n        });\n    }\n    /**\n     * æ˜¾ç¤ºæ¨¡æ€æ¡†\n     */\n    show() {\n        this.isOpen = true;\n        // æ¯æ¬¡æ˜¾ç¤ºæ—¶é‡æ–°ä»å˜é‡è¡¨åŠ è½½æ•°æ®\n        this.loadFromVariables();\n        if (this.element) {\n            this.render();\n            $(this.element).addClass(\'open\');\n            $(\'body\').addClass(\'modal-open\');\n        }\n    }\n    /**\n     * æ£€æŸ¥æ¨¡æ€æ¡†æ˜¯å¦æ‰“å¼€\n     */\n    getIsOpen() {\n        return this.isOpen;\n    }\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    close(triggerCallback = true) {\n        this.isOpen = false;\n        if (this.element) {\n            $(this.element).removeClass(\'open\');\n            $(\'body\').removeClass(\'modal-open\');\n        }\n        if (triggerCallback) {\n            this.callbacks.onClose();\n        }\n    }\n    /**\n     * æ›´æ–°å‘˜å·¥åˆ—è¡¨\n     */\n    updateStaff(staff) {\n        this.staff = staff;\n        if (this.isOpen && this.element) {\n            this.element.innerHTML = this.getModalHTML();\n        }\n    }\n    /**\n     * æ˜¾ç¤ºæ‹›å‹Ÿå‘˜å·¥æ¨¡æ€æ¡†\n     */\n    showRecruitModal() {\n        if (!this.recruitModal) {\n            this.recruitModal = new _RecruitStaffModal__WEBPACK_IMPORTED_MODULE_1__.RecruitStaffModal({\n                onConfirm: (request) => {\n                    this.handleRecruitRequest(request);\n                },\n                onCancel: () => {\n                    // å…³é—­æ—¶ä¸åšä»»ä½•æ“ä½œ\n                },\n            });\n            document.body.appendChild(this.recruitModal.createElement());\n        }\n        this.recruitModal.show();\n    }\n    /**\n     * å¤„ç†æ‹›å‹Ÿè¯·æ±‚\n     */\n    async handleRecruitRequest(request) {\n        // å…³é—­æ‹›å‹Ÿç•Œé¢\n        if (this.recruitModal) {\n            this.recruitModal.close();\n        }\n        const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n        const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../types */ "./src/mhjg/types.ts"));\n        const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n        await handleUnifiedRequest({\n            type: \'recruit\',\n            content: {\n                position: request.position,\n                salary: request.salary,\n                gender: request.gender,\n                requirements: request.requirements,\n            },\n        }, {\n            onSwitchToStory: () => {\n                handleTabChange(GameTab.STORY);\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.show();\n                }\n            },\n            onRefreshStoryIfOpen: () => {\n                const storyModal = getStoryModal();\n                if (storyModal && storyModal.isOpen) {\n                    storyModal.refresh();\n                }\n            },\n            onDisableOptions: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.disableOptions();\n                }\n            },\n            onShowGenerating: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.showGenerating();\n                }\n            },\n            onHideGenerating: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.hideGenerating();\n                }\n            },\n            onEnableOptions: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.enableOptions();\n                }\n            },\n            onError: (error) => {\n                console.error(\'âŒ æ‹›å‹Ÿè¯·æ±‚å¤±è´¥:\', error);\n            },\n            onRefreshStory: () => {\n                const storyModal = getStoryModal();\n                if (storyModal) {\n                    storyModal.refresh();\n                }\n            },\n        });\n    }\n    /**\n     * è·å–æ€§åˆ«æ–‡æœ¬\n     */\n    getGenderText(gender) {\n        const genderMap = {\n            any: \'ä¸é™\',\n            male: \'ç”·æ€§\',\n            female: \'å¥³æ€§\',\n            other: \'å…¶ä»–\',\n        };\n        return genderMap[gender] || \'ä¸é™\';\n    }\n    /**\n     * æ˜¾ç¤ºäº’åŠ¨èœå•\n     */\n    showInteractionMenu(staff) {\n        this.currentInteractingStaff = staff;\n        if (!this.element)\n            return;\n        const menuHTML = `\n      <div class="interaction-menu-backdrop"></div>\n      <div class="interaction-menu">\n        <div class="interaction-menu-header">\n          <h3>ä¸ ${staff.name} äº’åŠ¨</h3>\n          <button class="interaction-menu-close">Ã—</button>\n        </div>\n        <div class="interaction-menu-content">\n          ${STAFF_INTERACTION_OPTIONS.map((option, index) => `\n            <button class="interaction-option" data-option-index="${index}">\n              ${option.label}\n            </button>\n          `).join(\'\')}\n        </div>\n      </div>\n    `;\n        $(this.element).append(menuHTML);\n    }\n    /**\n     * éšè—äº’åŠ¨èœå•\n     */\n    hideInteractionMenu() {\n        if (!this.element)\n            return;\n        $(this.element).find(\'.interaction-menu-backdrop, .interaction-menu\').remove();\n        this.currentInteractingStaff = null;\n    }\n    /**\n     * æ˜¾ç¤ºç®¡ç†èœå•\n     */\n    showManageMenu(staff) {\n        this.currentManagingStaff = staff;\n        if (!this.element)\n            return;\n        const menuHTML = `\n      <div class="interaction-menu-backdrop manage-menu-backdrop"></div>\n      <div class="interaction-menu manage-menu">\n        <div class="interaction-menu-header">\n          <h3>ç®¡ç† ${staff.name}</h3>\n          <button class="interaction-menu-close manage-menu-close">Ã—</button>\n        </div>\n        <div class="interaction-menu-content">\n          ${STAFF_MANAGE_OPTIONS.map((option, index) => `\n            <button class="interaction-option manage-option" data-option-index="${index}">\n              ${option.label}\n            </button>\n          `).join(\'\')}\n        </div>\n      </div>\n    `;\n        $(this.element).append(menuHTML);\n    }\n    /**\n     * éšè—ç®¡ç†èœå•\n     */\n    hideManageMenu() {\n        if (!this.element)\n            return;\n        $(this.element).find(\'.manage-menu-backdrop, .manage-menu\').remove();\n        this.currentManagingStaff = null;\n    }\n    /**\n     * å¤„ç†äº’åŠ¨\n     */\n    async handleInteraction(option, staff) {\n        const prompt = option.prompt_template.replace(\'${staff_name}\', staff.name);\n        this.hideInteractionMenu();\n        const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n        const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../types */ "./src/mhjg/types.ts"));\n        const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n        try {\n            await handleUnifiedRequest({\n                type: \'custom\',\n                content: prompt,\n            }, {\n                onSwitchToStory: () => {\n                    handleTabChange(GameTab.STORY);\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.show();\n                    }\n                },\n                onRefreshStoryIfOpen: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal && storyModal.isOpen) {\n                        storyModal.refresh();\n                    }\n                },\n                onDisableOptions: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.disableOptions();\n                    }\n                },\n                onShowGenerating: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.showGenerating();\n                    }\n                },\n                onHideGenerating: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.hideGenerating();\n                    }\n                },\n                onEnableOptions: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.enableOptions();\n                    }\n                },\n                onError: (error) => {\n                    console.error(\'âŒ å‘˜å·¥äº’åŠ¨å¤±è´¥:\', error);\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.enableOptions();\n                    }\n                },\n                onRefreshStory: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.refresh();\n                    }\n                },\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ å‘˜å·¥äº’åŠ¨å¼‚å¸¸:\', error);\n            const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n            const storyModal = getStoryModal();\n            if (storyModal) {\n                storyModal.enableOptions();\n            }\n        }\n    }\n    /**\n     * å¤„ç†ç®¡ç†\n     */\n    async handleManage(option, staff) {\n        const prompt = option.prompt_template.replace(\'${staff_name}\', staff.name);\n        this.hideManageMenu();\n        const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n        const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../types */ "./src/mhjg/types.ts"));\n        const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n        try {\n            await handleUnifiedRequest({\n                type: \'custom\',\n                content: prompt,\n            }, {\n                onSwitchToStory: () => {\n                    handleTabChange(GameTab.STORY);\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.show();\n                    }\n                },\n                onRefreshStoryIfOpen: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal && storyModal.isOpen) {\n                        storyModal.refresh();\n                    }\n                },\n                onDisableOptions: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.disableOptions();\n                    }\n                },\n                onShowGenerating: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.showGenerating();\n                    }\n                },\n                onHideGenerating: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.hideGenerating();\n                    }\n                },\n                onEnableOptions: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.enableOptions();\n                    }\n                },\n                onError: (error) => {\n                    console.error(\'âŒ å‘˜å·¥ç®¡ç†å¤±è´¥:\', error);\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.enableOptions();\n                    }\n                },\n                onRefreshStory: () => {\n                    const storyModal = getStoryModal();\n                    if (storyModal) {\n                        storyModal.refresh();\n                    }\n                },\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ å‘˜å·¥ç®¡ç†å¼‚å¸¸:\', error);\n            const { getStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/appState */ "./src/mhjg/utils/appState.ts"));\n            const storyModal = getStoryModal();\n            if (storyModal) {\n                storyModal.enableOptions();\n            }\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.recruitModal) {\n            this.recruitModal.destroy();\n            this.recruitModal = null;\n        }\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TdGFmZk1vZGFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDMEQ7QUFDbUI7QUFDbEQ7QUFZM0IsTUFBTSx5QkFBeUIsR0FBNkI7SUFDMUQ7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSw0QkFBNEI7S0FDOUM7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLDZCQUE2QjtLQUMvQztJQUNEO1FBQ0UsS0FBSyxFQUFFLE1BQU07UUFDYixlQUFlLEVBQUUsK0JBQStCO0tBQ2pEO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSxrQ0FBa0M7S0FDcEQ7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLDZCQUE2QjtLQUMvQztJQUNEO1FBQ0UsS0FBSyxFQUFFLE1BQU07UUFDYixlQUFlLEVBQUUsMEJBQTBCO0tBQzVDO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSw4QkFBOEI7S0FDaEQ7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLCtCQUErQjtLQUNqRDtDQUNGLENBQUM7QUFFRixNQUFNLG9CQUFvQixHQUF3QjtJQUNoRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLDBCQUEwQjtLQUM1QztJQUNEO1FBQ0UsS0FBSyxFQUFFLE1BQU07UUFDYixlQUFlLEVBQUUsMEJBQTBCO0tBQzVDO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSwwQkFBMEI7S0FDNUM7SUFDRDtRQUNFLEtBQUssRUFBRSxNQUFNO1FBQ2IsZUFBZSxFQUFFLDBCQUEwQjtLQUM1QztJQUNEO1FBQ0UsS0FBSyxFQUFFLE1BQU07UUFDYixlQUFlLEVBQUUsMEJBQTBCO0tBQzVDO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsTUFBTTtRQUNiLGVBQWUsRUFBRSxxQkFBcUI7S0FD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Q2YsVUFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDO29CQUM3QixDQUFDO2dCQUNILENBQUM7Z0JBQ0QsY0FBYyxFQUFFLEdBQUcsRUFBRTtvQkFDbkIsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLENBQUM7b0JBQ25DLElBQUksVUFBVSxFQUFFLENBQUM7d0JBQ2YsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUN2QixDQUFDO2dCQUNILENBQUM7YUFDRixDQUNGLENBQUM7UUFDSixDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ2xDLE1BQU0sRUFBRSxhQUFhLEVBQUUsR0FBRyxNQUFNLGdKQUE4QixDQUFDO1lBQy9ELE1BQU0sVUFBVSxHQUFHLGFBQWEsRUFBRSxDQUFDO1lBQ25DLElBQUksVUFBVSxFQUFFLENBQUM7Z0JBQ2YsVUFBVSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQzdCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVEOztPQUVHO0lBQ0ksT0FBTztRQUNaLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFDM0IsQ0FBQztRQUNELElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2NvbXBvbmVudHMvbW9kYWxzL1N0YWZmTW9kYWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhZmYgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyByZWFkR2FtZURhdGEgfSBmcm9tICcuLi8uLi91dGlscy92YXJpYWJsZVJlYWRlcic7XG5pbXBvcnQgeyBSZWNydWl0U3RhZmZNb2RhbCwgUmVjcnVpdFN0YWZmUmVxdWVzdCB9IGZyb20gJy4vUmVjcnVpdFN0YWZmTW9kYWwnO1xuaW1wb3J0ICcuL1N0YWZmTW9kYWwuc2Nzcyc7XG5cbmludGVyZmFjZSBTdGFmZkludGVyYWN0aW9uT3B0aW9uIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgcHJvbXB0X3RlbXBsYXRlOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBTdGFmZk1hbmFnZU9wdGlvbiB7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIHByb21wdF90ZW1wbGF0ZTogc3RyaW5nO1xufVxuXG5jb25zdCBTVEFGRl9JTlRFUkFDVElPTl9PUFRJT05TOiBTdGFmZkludGVyYWN0aW9uT3B0aW9uW10gPSBbXG4gIHtcbiAgICBsYWJlbDogJ+m8k+WKseW3peS9nCcsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a6byT5YqxJHtzdGFmZl9uYW1lfeabtOWKoOWKquWKm+WcsOW3peS9nOOAgicsXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ+i1oOmAgeekvOeJqScsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a5a+5JHtzdGFmZl9uYW1lfei1oOmAgeWwj+ekvOeJqeS7peekuuaEn+iwouOAgicsXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ+WAvuWQrOeDpuaBvCcsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a5YC+5ZCsJHtzdGFmZl9uYW1lfeeahOeDpuaBvOW5tuWwneivleW4ruWKqeWvueaWueOAgicsXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ+ivoumXruaEj+ingScsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a5ZCRJHtzdGFmZl9uYW1lfeivoumXruWFs+S6juaXheW6l+e7j+iQpeeahOaEj+ingeWSjOW7uuiuruOAgicsXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ+WuieaOkuS7u+WKoScsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a57uZJHtzdGFmZl9uYW1lfeWuieaOkuS4gOS4queJueauiueahOS7u+WKoeOAgicsXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ+ihqOaJrOensOi1nicsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a6KGo5omsJHtzdGFmZl9uYW1lfeeahOW3peS9nOihqOeOsOOAgicsXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ+aPkOmGkuitpuWRiicsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a5o+Q6YaSJHtzdGFmZl9uYW1lfeazqOaEj+W3peS9nOaAgeW6puWSjOihqOeOsOOAgicsXG4gIH0sXG4gIHtcbiAgICBsYWJlbDogJ+iwiOW/g+S6pOa1gScsXG4gICAgcHJvbXB0X3RlbXBsYXRlOiAn5L2g5Yaz5a6a5LiOJHtzdGFmZl9uYW1lfei/m+ihjOS4gOasoea3seWFpeeahOiwiOW/g+S6pOa1geOAgicsXG4gIH0sXG5dO1xuXG5jb25zdCBTVEFGRl9NQU5BR0VfT1BUSU9OUzogU3RhZmZNYW5hZ2VPcHRpb25bXSA9IFtcbiAge1xuICAgIGxhYmVsOiAn6LCD5pW05bel6LWEJyxcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrprosIPmlbQke3N0YWZmX25hbWV955qE5bel6LWE5b6F6YGH44CCJyxcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAn6LCD5o2i6IGM5YqhJyxcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrprkuLoke3N0YWZmX25hbWV96LCD5o2i5bel5L2c6IGM5Yqh44CCJyxcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAn5a6J5o6S5Z+56K6tJyxcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrprkuLoke3N0YWZmX25hbWV95a6J5o6S5oqA6IO95Z+56K6t44CCJyxcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAn57uZ5LqI5aWW5YqxJyxcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrprnu5nkuogke3N0YWZmX25hbWV96aKd5aSW55qE5aWW5Yqx44CCJyxcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAn5a6J5o6S5LyR5oGvJyxcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrprorqkke3N0YWZmX25hbWV95LyR5oGv5LiA5q615pe26Ze044CCJyxcbiAgfSxcbiAge1xuICAgIGxhYmVsOiAn6Kej6ZuH5ZGY5belJyxcbiAgICBwcm9tcHRfdGVtcGxhdGU6ICfkvaDlhrPlrprop6Ppm4cke3N0YWZmX25hbWV944CCJyxcbiAgfSxcbl07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZmZNb2RhbENhbGxiYWNrcyB7XG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG4gIG9uSW50ZXJhY3Q/OiAoc3RhZmZJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvbk1hbmFnZT86IChzdGFmZklkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBTdGFmZk1vZGFsIHtcbiAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHN0YWZmOiBTdGFmZltdID0gW107XG4gIHByaXZhdGUgY2FsbGJhY2tzOiBTdGFmZk1vZGFsQ2FsbGJhY2tzO1xuICBwcml2YXRlIGlzT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHNlbGVjdGVkU3RhZmY6IFN0YWZmIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVjcnVpdE1vZGFsOiBSZWNydWl0U3RhZmZNb2RhbCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGN1cnJlbnRJbnRlcmFjdGluZ1N0YWZmOiBTdGFmZiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGN1cnJlbnRNYW5hZ2luZ1N0YWZmOiBTdGFmZiB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHN0YWZmOiBTdGFmZltdIHwgbnVsbCwgY2FsbGJhY2tzOiBTdGFmZk1vZGFsQ2FsbGJhY2tzKSB7XG4gICAgaWYgKHN0YWZmKSB7XG4gICAgICB0aGlzLnN0YWZmID0gc3RhZmY7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIOS7juWPmOmHj+ihqOWKoOi9veaVsOaNrlxuICAgICAgdGhpcy5sb2FkRnJvbVZhcmlhYmxlcygpO1xuICAgIH1cbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgfVxuXG4gIC8qKlxuICAgKiDku47lj5jph4/ooajliqDovb3lkZjlt6XmlbDmja5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBsb2FkRnJvbVZhcmlhYmxlcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBnYW1lRGF0YSA9IGF3YWl0IHJlYWRHYW1lRGF0YSgpO1xuICAgIC8vIOi9rOaNouWRmOW3peaVsOaNruagvOW8j1xuICAgIHRoaXMuc3RhZmYgPSBnYW1lRGF0YS5zdGFmZi5tYXAoKHN0YWZmLCBpbmRleCkgPT4ge1xuICAgICAgLy8g5aSE55CGIE1WVSDmoLzlvI/vvJrlpoLmnpwgc3RhZmYg5pivIFvlgLwsIFwi5o+P6L+wXCJdIOagvOW8j++8jOWPluesrOS4gOS4quWFg+e0oFxuICAgICAgbGV0IHN0YWZmVmFsdWUgPSBzdGFmZjtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YWZmKSAmJiBzdGFmZi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHN0YWZmVmFsdWUgPSBzdGFmZlswXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICBpZDogU3RyaW5nKGluZGV4ICsgMSksXG4gICAgICAgIG5hbWU6IHN0YWZmVmFsdWU/LuWQjeensCB8fCAnJyxcbiAgICAgICAgcmFjZTogc3RhZmZWYWx1ZT8u56eN5pePIHx8ICcnLFxuICAgICAgICAvLyDlhbzlrrnvvJrkvJjlhYjkvb/nlKgg5peF6aaG5ouF5Lu755qE6IGM5Yqh77yM5aaC5p6c5rKh5pyJ5YiZ5L2/55SoIOiBjOS4mlxuICAgICAgICBpbm5Sb2xlOiBzdGFmZlZhbHVlPy7ml4Xppobmi4Xku7vnmoTogYzliqEgfHwgc3RhZmZWYWx1ZT8u6IGM5LiaIHx8ICcnLFxuICAgICAgICAvLyDlhbzlrrnvvJrkvJjlhYjkvb/nlKgg5oiY5paX6IGM5Lia5ZCN77yM5aaC5p6c5rKh5pyJ5YiZ5Li656m6XG4gICAgICAgIGNvbWJhdENsYXNzOiBzdGFmZlZhbHVlPy7miJjmlpfogYzkuJrlkI0gfHwgJycsXG4gICAgICAgIGxldmVsOiBzdGFmZlZhbHVlPy7ogYzkuJrnrYnnuqcgfHwgMSxcbiAgICAgICAgYXBwZWFyYW5jZTogc3RhZmZWYWx1ZT8u5aSW6LKM5o+P6L+wIHx8ICcnLFxuICAgICAgICBtb29kOiBzdGFmZlZhbHVlPy7lv4Pmg4XlgLwgfHwgMCxcbiAgICAgICAgZmF2b3JhYmlsaXR5OiBzdGFmZlZhbHVlPy7lr7nnjqnlrrbnmoTlpb3mhJ/luqYgfHwgMCxcbiAgICAgICAgd29ya1NhdGlzZmFjdGlvbjogc3RhZmZWYWx1ZT8u5bel5L2c5ruh5oSP5bqmIHx8IDAsXG4gICAgICAgIHNhbGFyeTogc3RhZmZWYWx1ZT8u5bel6LWEIHx8IDAsXG4gICAgICAgIGxpa2VzOiBzdGFmZlZhbHVlPy7llpzlpb0gfHwgW10sXG4gICAgICAgIGRpc2xpa2VzOiBzdGFmZlZhbHVlPy7ljozmgbYgfHwgW10sXG4gICAgICAgIGN1cnJlbnRUaG91Z2h0OiBzdGFmZlZhbHVlPy7lvZPliY3mg7Pms5UgfHwgJycsXG4gICAgICBhdmF0YXJVcmw6IGBodHRwczovL3BpY3N1bS5waG90b3MvMTAwP3JhbmRvbT0ke2luZGV4ICsgMjB9YCxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuaXNPcGVuICYmIHRoaXMuZWxlbWVudCkge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6YeN5paw5riy5p+T5qih5oCB5qGGXG4gICAqL1xuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldE1vZGFsSFRNTCgpO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uuaooeaAgeahhkhUTUznu5PmnoRcbiAgICovXG4gIHB1YmxpYyBjcmVhdGVFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG1vZGFsLmNsYXNzTmFtZSA9ICdtaGpnLW1vZGFsIG1oamctbW9kYWwtc3RhZmYnO1xuICAgIG1vZGFsLmlubmVySFRNTCA9IHRoaXMuZ2V0TW9kYWxIVE1MKCk7XG4gICAgdGhpcy5lbGVtZW50ID0gbW9kYWw7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgcmV0dXJuIG1vZGFsO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluaooeaAgeahhkhUTUxcbiAgICovXG4gIHByaXZhdGUgZ2V0TW9kYWxIVE1MKCk6IHN0cmluZyB7XG4gICAgaWYgKCF0aGlzLmlzT3BlbikgcmV0dXJuICcnO1xuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1iYWNrZHJvcFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXdpbmRvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlci1sZWZ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaWNvblwiPlxuICAgICAgICAgICAgICAke3RoaXMuZ2V0U3RhZmZJY29uKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZS1ncm91cFwiPlxuICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPuWRmOW3peeuoeeQhjwvaDI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwibW9kYWwtc3VidGl0bGVcIj7lvZPliY3mnIkgJHt0aGlzLnN0YWZmLmxlbmd0aH0g5L2N5ZGY5bel5Zyo5bKXPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNsb3NlXCIgYXJpYS1sYWJlbD1cIuWFs+mXrVwiPlxuICAgICAgICAgICAgJHt0aGlzLmdldENsb3NlSWNvbigpfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtZ3JpZFwiPlxuICAgICAgICAgICAgJHt0aGlzLnN0YWZmLm1hcChzdGFmZiA9PiB0aGlzLmNyZWF0ZVN0YWZmQ2FyZChzdGFmZikpLmpvaW4oJycpfVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YWZmLXBsYWNlaG9sZGVyXCIgZGF0YS1hY3Rpb249XCJyZWNydWl0XCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxhY2Vob2xkZXItaWNvblwiPis8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicGxhY2Vob2xkZXItdGV4dFwiPuaLm+WLn+WRmOW3pTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65ZGY5bel5Y2h54mHXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVN0YWZmQ2FyZChzdGFmZjogU3RhZmYpOiBzdHJpbmcge1xuICAgIGNvbnN0IGZhdm9yYWJpbGl0eUNvbG9yID0gdGhpcy5nZXRGYXZvcmFiaWxpdHlDb2xvcihzdGFmZi5mYXZvcmFiaWxpdHkpO1xuICAgIGNvbnN0IGZhdm9yYWJpbGl0eVRleHQgPSB0aGlzLmdldEZhdm9yYWJpbGl0eVRleHQoc3RhZmYuZmF2b3JhYmlsaXR5KTtcbiAgICBjb25zdCBtb29kQ29sb3IgPSB0aGlzLmdldE1vb2RDb2xvcihzdGFmZi5tb29kIHx8IDApO1xuICAgIGNvbnN0IG1vb2RUZXh0ID0gdGhpcy5nZXRNb29kVGV4dChzdGFmZi5tb29kIHx8IDApO1xuICAgIGNvbnN0IHNhdGlzZmFjdGlvbkNvbG9yID0gdGhpcy5nZXRTYXRpc2ZhY3Rpb25Db2xvcihzdGFmZi53b3JrU2F0aXNmYWN0aW9uIHx8IDApO1xuICAgIGNvbnN0IHNhdGlzZmFjdGlvblRleHQgPSB0aGlzLmdldFNhdGlzZmFjdGlvblRleHQoc3RhZmYud29ya1NhdGlzZmFjdGlvbiB8fCAwKTtcblxuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtY2FyZCBycGctcGFuZWxcIiBkYXRhLXN0YWZmLWlkPVwiJHtzdGFmZi5pZH1cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YWZmLWhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGFmZi1hdmF0YXItd3JhcHBlclwiPlxuICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgc3JjPVwiJHtzdGFmZi5hdmF0YXJVcmx9XCIgXG4gICAgICAgICAgICAgIGFsdD1cIiR7c3RhZmYubmFtZX1cIiBcbiAgICAgICAgICAgICAgY2xhc3M9XCJzdGFmZi1hdmF0YXJcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGFmZi1sZXZlbC1iYWRnZVwiPkx2LiR7c3RhZmYubGV2ZWx9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtZmF2b3JhYmlsaXR5LWJhZGdlXCIgc3R5bGU9XCJiYWNrZ3JvdW5kOiAke2Zhdm9yYWJpbGl0eUNvbG9yfVwiPlxuICAgICAgICAgICAgICAke3N0YWZmLmZhdm9yYWJpbGl0eX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGFmZi1pbmZvXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJzdGFmZi1uYW1lXCI+JHtzdGFmZi5uYW1lfTwvaDM+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtdGFnc1wiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YWZmLXRhZyBzdGFmZi10YWctcmFjZVwiPiR7c3RhZmYucmFjZX08L3NwYW4+XG4gICAgICAgICAgICAgICR7c3RhZmYuY29tYmF0Q2xhc3MgPyBgPHNwYW4gY2xhc3M9XCJzdGFmZi10YWcgc3RhZmYtdGFnLWNvbWJhdFwiPiR7c3RhZmYuY29tYmF0Q2xhc3N9PC9zcGFuPmAgOiAnJ31cbiAgICAgICAgICAgICAgJHtzdGFmZi5pbm5Sb2xlID8gYDxzcGFuIGNsYXNzPVwic3RhZmYtdGFnIHN0YWZmLXRhZy1yb2xlXCI+JHtzdGFmZi5pbm5Sb2xlfTwvc3Bhbj5gIDogJyd9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGFmZi1zdGF0c1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtc3RhdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWxhYmVsXCI+5aW95oSf5bqmPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWJhclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtYmFyLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAke3N0YWZmLmZhdm9yYWJpbGl0eX0lOyBiYWNrZ3JvdW5kOiAke2Zhdm9yYWJpbGl0eUNvbG9yfVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC10ZXh0XCI+JHtmYXZvcmFiaWxpdHlUZXh0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICR7c3RhZmYubW9vZCAhPT0gdW5kZWZpbmVkID8gYFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtc3RhdC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LWxhYmVsXCI+5b+D5oOFPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGF0LWJhclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtYmFyLWZpbGxcIiBzdHlsZT1cIndpZHRoOiAke3N0YWZmLm1vb2R9JTsgYmFja2dyb3VuZDogJHttb29kQ29sb3J9XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGF0LXRleHRcIj4ke21vb2RUZXh0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgICAgICAgJHtzdGFmZi53b3JrU2F0aXNmYWN0aW9uICE9PSB1bmRlZmluZWQgPyBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdGFmZi1zdGF0LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtbGFiZWxcIj7lt6XkvZzmu6HmhI/luqY8L3NwYW4+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXQtYmFyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RhdC1iYXItZmlsbFwiIHN0eWxlPVwid2lkdGg6ICR7c3RhZmYud29ya1NhdGlzZmFjdGlvbn0lOyBiYWNrZ3JvdW5kOiAke3NhdGlzZmFjdGlvbkNvbG9yfVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC10ZXh0XCI+JHtzYXRpc2ZhY3Rpb25UZXh0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YWZmLXN0YXQtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhdC1sYWJlbFwiPuW3pei1hDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXQtdmFsdWUgc3RhdC1zYWxhcnlcIj4ke3N0YWZmLnNhbGFyeSB8fCAwfSDph5HluIEv5pyIPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YWZmLWFwcGVhcmFuY2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYXBwZWFyYW5jZS1sYWJlbFwiPlxuICAgICAgICAgICAgJHt0aGlzLmdldEV5ZUljb24oKX1cbiAgICAgICAgICAgIDxzcGFuPuWkluiyjDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzcz1cImFwcGVhcmFuY2UtdGV4dFwiPiR7c3RhZmYuYXBwZWFyYW5jZX08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICAke3N0YWZmLmN1cnJlbnRUaG91Z2h0ID8gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtdGhvdWdodFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aG91Z2h0LXF1b3RlXCI+XCI8L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRob3VnaHQtdGV4dFwiPiR7c3RhZmYuY3VycmVudFRob3VnaHR9PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtcHJlZmVyZW5jZXNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJlZmVyZW5jZXMtc2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZWZlcmVuY2VzLWxhYmVsXCI+XG4gICAgICAgICAgICAgICR7dGhpcy5nZXRIZWFydEljb24oKX1cbiAgICAgICAgICAgICAgPHNwYW4+5Zac5aW9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJlZmVyZW5jZXMtbGlzdFwiPlxuICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgIHN0YWZmLmxpa2VzICYmIHN0YWZmLmxpa2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gc3RhZmYubGlrZXMubWFwKGxpa2UgPT4gYDxzcGFuIGNsYXNzPVwicHJlZmVyZW5jZS10YWcgcHJlZmVyZW5jZS1saWtlXCI+JHtsaWtlfTwvc3Bhbj5gKS5qb2luKCcnKVxuICAgICAgICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJwcmVmZXJlbmNlLWVtcHR5XCI+5pqC5pegPC9zcGFuPidcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInByZWZlcmVuY2VzLXNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmVmZXJlbmNlcy1sYWJlbFwiPlxuICAgICAgICAgICAgICAke3RoaXMuZ2V0WEljb24oKX1cbiAgICAgICAgICAgICAgPHNwYW4+5Y6M5oG2PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJlZmVyZW5jZXMtbGlzdFwiPlxuICAgICAgICAgICAgICAke1xuICAgICAgICAgICAgICAgIHN0YWZmLmRpc2xpa2VzICYmIHN0YWZmLmRpc2xpa2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgID8gc3RhZmYuZGlzbGlrZXNcbiAgICAgICAgICAgICAgICAgICAgICAubWFwKGRpc2xpa2UgPT4gYDxzcGFuIGNsYXNzPVwicHJlZmVyZW5jZS10YWcgcHJlZmVyZW5jZS1kaXNsaWtlXCI+JHtkaXNsaWtlfTwvc3Bhbj5gKVxuICAgICAgICAgICAgICAgICAgICAgIC5qb2luKCcnKVxuICAgICAgICAgICAgICAgICAgOiAnPHNwYW4gY2xhc3M9XCJwcmVmZXJlbmNlLWVtcHR5XCI+5pqC5pegPC9zcGFuPidcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RhZmYtYWN0aW9uc1wiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzdGFmZi1idG4gc3RhZmYtYnRuLWludGVyYWN0XCI+XG4gICAgICAgICAgICAke3RoaXMuZ2V0TWVzc2FnZUljb24oKX1cbiAgICAgICAgICAgIOS6kuWKqFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzdGFmZi1idG4gc3RhZmYtYnRuLW1hbmFnZVwiPlxuICAgICAgICAgICAgJHt0aGlzLmdldFNldHRpbmdzSWNvbigpfVxuICAgICAgICAgICAg566h55CGXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInN0YWZmLWJ0biBzdGFmZi1idG4tbW9yZVwiPlxuICAgICAgICAgICAgJHt0aGlzLmdldE1vcmVJY29uKCl9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5blv4Pmg4XpopzoibJcbiAgICovXG4gIHByaXZhdGUgZ2V0TW9vZENvbG9yKG1vb2Q6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKG1vb2QgPj0gODApIHJldHVybiAncmdiYSgxNiwgMTg1LCAxMjksIDAuMiknOyAvLyBlbWVyYWxkXG4gICAgaWYgKG1vb2QgPj0gNjApIHJldHVybiAncmdiYSg5OSwgMTAyLCAyNDEsIDAuMiknOyAvLyBpbmRpZ29cbiAgICBpZiAobW9vZCA+PSA0MCkgcmV0dXJuICdyZ2JhKDI1MSwgMTkxLCAzNiwgMC4yKSc7IC8vIGFtYmVyXG4gICAgcmV0dXJuICdyZ2JhKDIzOSwgNjgsIDY4LCAwLjIpJzsgLy8gcmVkXG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5b+D5oOF5paH5pysXG4gICAqL1xuICBwcml2YXRlIGdldE1vb2RUZXh0KG1vb2Q6IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKG1vb2QgPj0gODApIHJldHVybiAn6Z2e5bi45oSJ5b+rJztcbiAgICBpZiAobW9vZCA+PSA2MCkgcmV0dXJuICfmhInlv6snO1xuICAgIGlmIChtb29kID49IDQwKSByZXR1cm4gJ+S4gOiIrCc7XG4gICAgaWYgKG1vb2QgPj0gMjApIHJldHVybiAn5L2O6JC9JztcbiAgICByZXR1cm4gJ+mdnuW4uOS9juiQvSc7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5bel5L2c5ruh5oSP5bqm6aKc6ImyXG4gICAqL1xuICBwcml2YXRlIGdldFNhdGlzZmFjdGlvbkNvbG9yKHNhdGlzZmFjdGlvbjogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoc2F0aXNmYWN0aW9uID49IDgwKSByZXR1cm4gJ3JnYmEoMTYsIDE4NSwgMTI5LCAwLjIpJzsgLy8gZW1lcmFsZFxuICAgIGlmIChzYXRpc2ZhY3Rpb24gPj0gNjApIHJldHVybiAncmdiYSg5OSwgMTAyLCAyNDEsIDAuMiknOyAvLyBpbmRpZ29cbiAgICBpZiAoc2F0aXNmYWN0aW9uID49IDQwKSByZXR1cm4gJ3JnYmEoMjUxLCAxOTEsIDM2LCAwLjIpJzsgLy8gYW1iZXJcbiAgICByZXR1cm4gJ3JnYmEoMjM5LCA2OCwgNjgsIDAuMiknOyAvLyByZWRcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5blt6XkvZzmu6HmhI/luqbmlofmnKxcbiAgICovXG4gIHByaXZhdGUgZ2V0U2F0aXNmYWN0aW9uVGV4dChzYXRpc2ZhY3Rpb246IG51bWJlcik6IHN0cmluZyB7XG4gICAgaWYgKHNhdGlzZmFjdGlvbiA+PSA4MCkgcmV0dXJuICfpnZ7luLjmu6HmhI8nO1xuICAgIGlmIChzYXRpc2ZhY3Rpb24gPj0gNjApIHJldHVybiAn5ruh5oSPJztcbiAgICBpZiAoc2F0aXNmYWN0aW9uID49IDQwKSByZXR1cm4gJ+S4gOiIrCc7XG4gICAgaWYgKHNhdGlzZmFjdGlvbiA+PSAyMCkgcmV0dXJuICfkuI3mu6HmhI8nO1xuICAgIHJldHVybiAn6Z2e5bi45LiN5ruh5oSPJztcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5blpb3mhJ/luqbpopzoibJcbiAgICovXG4gIHByaXZhdGUgZ2V0RmF2b3JhYmlsaXR5Q29sb3IoZmF2b3JhYmlsaXR5OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChmYXZvcmFiaWxpdHkgPj0gODApIHJldHVybiAncmdiYSgxNiwgMTg1LCAxMjksIDAuMiknOyAvLyBlbWVyYWxkXG4gICAgaWYgKGZhdm9yYWJpbGl0eSA+PSA2MCkgcmV0dXJuICdyZ2JhKDk5LCAxMDIsIDI0MSwgMC4yKSc7IC8vIGluZGlnb1xuICAgIGlmIChmYXZvcmFiaWxpdHkgPj0gNDApIHJldHVybiAncmdiYSgyNTEsIDE5MSwgMzYsIDAuMiknOyAvLyBhbWJlclxuICAgIHJldHVybiAncmdiYSgyMzksIDY4LCA2OCwgMC4yKSc7IC8vIHJlZFxuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluWlveaEn+W6puaWh+acrFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRGYXZvcmFiaWxpdHlUZXh0KGZhdm9yYWJpbGl0eTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBpZiAoZmF2b3JhYmlsaXR5ID49IDgwKSByZXR1cm4gJ+mdnuW4uOWPi+WlvSc7XG4gICAgaWYgKGZhdm9yYWJpbGl0eSA+PSA2MCkgcmV0dXJuICflj4vlpb0nO1xuICAgIGlmIChmYXZvcmFiaWxpdHkgPj0gNDApIHJldHVybiAn5LiA6IisJztcbiAgICByZXR1cm4gJ+WGt+a3oSc7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5Zu+5qCHXG4gICAqL1xuICBwcml2YXRlIGdldFN0YWZmSWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MlwiLz48Y2lyY2xlIGN4PVwiOVwiIGN5PVwiN1wiIHI9XCI0XCIvPjxwYXRoIGQ9XCJNMjIgMjF2LTJhNCA0IDAgMCAwLTMtMy44N1wiLz48cGF0aCBkPVwiTTE2IDMuMTNhNCA0IDAgMCAxIDAgNy43NVwiLz48L3N2Zz4nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDbG9zZUljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48bGluZSB4MT1cIjE4XCIgeTE9XCI2XCIgeDI9XCI2XCIgeTI9XCIxOFwiLz48bGluZSB4MT1cIjZcIiB5MT1cIjZcIiB4Mj1cIjE4XCIgeTI9XCIxOFwiLz48L3N2Zz4nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRNZXNzYWdlSWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjEgMTVhMiAyIDAgMCAxLTIgMkg3bC00IDRWNWEyIDIgMCAwIDEgMi0yaDE0YTIgMiAwIDAgMSAyIDJ6XCIvPjwvc3ZnPic7XG4gIH1cblxuICBwcml2YXRlIGdldFNldHRpbmdzSWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxjaXJjbGUgY3g9XCIxMlwiIGN5PVwiMTJcIiByPVwiM1wiLz48cGF0aCBkPVwiTTEyIDF2Nm0wIDZ2Nk01LjY0IDUuNjRsNC4yNCA0LjI0bTQuMjQgNC4yNGw0LjI0IDQuMjRNMSAxMmg2bTYgMGg2TTUuNjQgMTguMzZsNC4yNC00LjI0bTQuMjQtNC4yNGw0LjI0LTQuMjRcIi8+PC9zdmc+JztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TW9yZUljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48Y2lyY2xlIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjFcIi8+PGNpcmNsZSBjeD1cIjE5XCIgY3k9XCIxMlwiIHI9XCIxXCIvPjxjaXJjbGUgY3g9XCI1XCIgY3k9XCIxMlwiIHI9XCIxXCIvPjwvc3ZnPic7XG4gIH1cblxuICBwcml2YXRlIGdldEV5ZUljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTEgMTJzNC04IDExLTggMTEgOCAxMSA4LTQgOC0xMSA4LTExLTgtMTEtOHpcIi8+PGNpcmNsZSBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIzXCIvPjwvc3ZnPic7XG4gIH1cblxuICBwcml2YXRlIGdldEhlYXJ0SWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjEyXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjAuODQgNC42MWE1LjUgNS41IDAgMCAwLTcuNzggMEwxMiA1LjY3bC0xLjA2LTEuMDZhNS41IDUuNSAwIDAgMC03Ljc4IDcuNzhsMS4wNiAxLjA2TDEyIDIxLjIzbDcuNzgtNy43OCAxLjA2LTEuMDZhNS41IDUuNSAwIDAgMCAwLTcuNzh6XCIvPjwvc3ZnPic7XG4gIH1cblxuICBwcml2YXRlIGdldFhJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEyXCIgaGVpZ2h0PVwiMTJcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PGxpbmUgeDE9XCIxOFwiIHkxPVwiNlwiIHgyPVwiNlwiIHkyPVwiMThcIi8+PGxpbmUgeDE9XCI2XCIgeTE9XCI2XCIgeDI9XCIxOFwiIHkyPVwiMThcIi8+PC9zdmc+JztcbiAgfVxuXG4gIC8qKlxuICAgKiDnu5Hlrprkuovku7ZcbiAgICovXG4gIHByaXZhdGUgYmluZEV2ZW50cygpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcubW9kYWwtYmFja2Ryb3AsIC5tb2RhbC1jbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLnN0YWZmLWJ0bi1pbnRlcmFjdCcsIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGNvbnN0IGNhcmQgPSAkKGUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgnLnN0YWZmLWNhcmQnKTtcbiAgICAgIGNvbnN0IHN0YWZmSWQgPSBjYXJkLmF0dHIoJ2RhdGEtc3RhZmYtaWQnKTtcbiAgICAgIGNvbnN0IHN0YWZmID0gdGhpcy5zdGFmZi5maW5kKHMgPT4gcy5pZCA9PT0gc3RhZmZJZCk7XG4gICAgICBpZiAoc3RhZmYpIHtcbiAgICAgICAgdGhpcy5zaG93SW50ZXJhY3Rpb25NZW51KHN0YWZmKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLnN0YWZmLWJ0bi1tYW5hZ2UnLCBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBjYXJkID0gJChlLmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoJy5zdGFmZi1jYXJkJyk7XG4gICAgICBjb25zdCBzdGFmZklkID0gY2FyZC5hdHRyKCdkYXRhLXN0YWZmLWlkJyk7XG4gICAgICBjb25zdCBzdGFmZiA9IHRoaXMuc3RhZmYuZmluZChzID0+IHMuaWQgPT09IHN0YWZmSWQpO1xuICAgICAgaWYgKHN0YWZmKSB7XG4gICAgICAgIHRoaXMuc2hvd01hbmFnZU1lbnUoc3RhZmYpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g54K55Ye75LqS5Yqo6YCJ6aG5XG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcuaW50ZXJhY3Rpb24tb3B0aW9uJywgZSA9PiB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3Qgb3B0aW9uSW5kZXggPSBwYXJzZUludCgkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1vcHRpb24taW5kZXgnKSB8fCAnMCcsIDEwKTtcbiAgICAgIGNvbnN0IG9wdGlvbiA9IFNUQUZGX0lOVEVSQUNUSU9OX09QVElPTlNbb3B0aW9uSW5kZXhdO1xuICAgICAgaWYgKG9wdGlvbiAmJiB0aGlzLmN1cnJlbnRJbnRlcmFjdGluZ1N0YWZmKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlSW50ZXJhY3Rpb24ob3B0aW9uLCB0aGlzLmN1cnJlbnRJbnRlcmFjdGluZ1N0YWZmKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOeCueWHu+euoeeQhumAiemhuVxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLm1hbmFnZS1vcHRpb24nLCBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBjb25zdCBvcHRpb25JbmRleCA9IHBhcnNlSW50KCQoZS5jdXJyZW50VGFyZ2V0KS5hdHRyKCdkYXRhLW9wdGlvbi1pbmRleCcpIHx8ICcwJywgMTApO1xuICAgICAgY29uc3Qgb3B0aW9uID0gU1RBRkZfTUFOQUdFX09QVElPTlNbb3B0aW9uSW5kZXhdO1xuICAgICAgaWYgKG9wdGlvbiAmJiB0aGlzLmN1cnJlbnRNYW5hZ2luZ1N0YWZmKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlTWFuYWdlKG9wdGlvbiwgdGhpcy5jdXJyZW50TWFuYWdpbmdTdGFmZik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyDngrnlh7vlhbPpl63kupLliqjoj5zljZVcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJy5pbnRlcmFjdGlvbi1tZW51LWJhY2tkcm9wLCAuaW50ZXJhY3Rpb24tbWVudS1jbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZUludGVyYWN0aW9uTWVudSgpO1xuICAgIH0pO1xuXG4gICAgLy8g54K55Ye75YWz6Zet566h55CG6I+c5Y2VXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcubWFuYWdlLW1lbnUtYmFja2Ryb3AsIC5tYW5hZ2UtbWVudS1jbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuaGlkZU1hbmFnZU1lbnUoKTtcbiAgICB9KTtcblxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnLnN0YWZmLWNhcmQnLCBlID0+IHtcbiAgICAgIGlmICgkKGUudGFyZ2V0KS5jbG9zZXN0KCcuc3RhZmYtYnRuJykubGVuZ3RoKSByZXR1cm47XG4gICAgICBjb25zdCBjYXJkID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgY29uc3Qgc3RhZmZJZCA9IGNhcmQuYXR0cignZGF0YS1zdGFmZi1pZCcpO1xuICAgICAgaWYgKHN0YWZmSWQpIHtcbiAgICAgICAgY29uc3Qgc3RhZmYgPSB0aGlzLnN0YWZmLmZpbmQocyA9PiBzLmlkID09PSBzdGFmZklkKTtcbiAgICAgICAgaWYgKHN0YWZmKSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZFN0YWZmID0gc3RhZmY7XG4gICAgICAgICAgY2FyZC5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICBjYXJkLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOaLm+WLn+WRmOW3peaMiemSrlxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnW2RhdGEtYWN0aW9uPVwicmVjcnVpdFwiXScsICgpID0+IHtcbiAgICAgIHRoaXMuc2hvd1JlY3J1aXRNb2RhbCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuuaooeaAgeahhlxuICAgKi9cbiAgcHVibGljIHNob3coKTogdm9pZCB7XG4gICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgIC8vIOavj+asoeaYvuekuuaXtumHjeaWsOS7juWPmOmHj+ihqOWKoOi9veaVsOaNrlxuICAgIHRoaXMubG9hZEZyb21WYXJpYWJsZXMoKTtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgJCh0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCdvcGVuJyk7XG4gICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5qOA5p+l5qih5oCB5qGG5piv5ZCm5omT5byAXG4gICAqL1xuICBwdWJsaWMgZ2V0SXNPcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzT3BlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiDlhbPpl63mqKHmgIHmoYZcbiAgICovXG4gIHB1YmxpYyBjbG9zZSh0cmlnZ2VyQ2FsbGJhY2s6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpO1xuICAgIH1cbiAgICBpZiAodHJpZ2dlckNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOabtOaWsOWRmOW3peWIl+ihqFxuICAgKi9cbiAgcHVibGljIHVwZGF0ZVN0YWZmKHN0YWZmOiBTdGFmZltdKTogdm9pZCB7XG4gICAgdGhpcy5zdGFmZiA9IHN0YWZmO1xuICAgIGlmICh0aGlzLmlzT3BlbiAmJiB0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldE1vZGFsSFRNTCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrmi5vli5/lkZjlt6XmqKHmgIHmoYZcbiAgICovXG4gIHByaXZhdGUgc2hvd1JlY3J1aXRNb2RhbCgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMucmVjcnVpdE1vZGFsKSB7XG4gICAgICB0aGlzLnJlY3J1aXRNb2RhbCA9IG5ldyBSZWNydWl0U3RhZmZNb2RhbCh7XG4gICAgICAgIG9uQ29uZmlybTogKHJlcXVlc3Q6IFJlY3J1aXRTdGFmZlJlcXVlc3QpID0+IHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVJlY3J1aXRSZXF1ZXN0KHJlcXVlc3QpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgIC8vIOWFs+mXreaXtuS4jeWBmuS7u+S9leaTjeS9nFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVjcnVpdE1vZGFsLmNyZWF0ZUVsZW1lbnQoKSk7XG4gICAgfVxuICAgIHRoaXMucmVjcnVpdE1vZGFsLnNob3coKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlpITnkIbmi5vli5/or7fmsYJcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlUmVjcnVpdFJlcXVlc3QocmVxdWVzdDogUmVjcnVpdFN0YWZmUmVxdWVzdCk6IFByb21pc2U8dm9pZD4ge1xuICAgIC8vIOWFs+mXreaLm+WLn+eVjOmdolxuICAgIGlmICh0aGlzLnJlY3J1aXRNb2RhbCkge1xuICAgICAgdGhpcy5yZWNydWl0TW9kYWwuY2xvc2UoKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBoYW5kbGVVbmlmaWVkUmVxdWVzdCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy91bmlmaWVkUmVxdWVzdEhhbmRsZXInKTtcbiAgICBjb25zdCB7IGhhbmRsZVRhYkNoYW5nZSB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy90YWJNYW5hZ2VyJyk7XG4gICAgY29uc3QgeyBHYW1lVGFiIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3R5cGVzJyk7XG4gICAgY29uc3QgeyBnZXRTdG9yeU1vZGFsIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL2FwcFN0YXRlJyk7XG5cbiAgICBhd2FpdCBoYW5kbGVVbmlmaWVkUmVxdWVzdChcbiAgICAgIHtcbiAgICAgIHR5cGU6ICdyZWNydWl0JyxcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICBwb3NpdGlvbjogcmVxdWVzdC5wb3NpdGlvbixcbiAgICAgICAgc2FsYXJ5OiByZXF1ZXN0LnNhbGFyeSxcbiAgICAgICAgZ2VuZGVyOiByZXF1ZXN0LmdlbmRlcixcbiAgICAgICAgcmVxdWlyZW1lbnRzOiByZXF1ZXN0LnJlcXVpcmVtZW50cyxcbiAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBvblN3aXRjaFRvU3Rvcnk6ICgpID0+IHtcbiAgICAgICAgICBoYW5kbGVUYWJDaGFuZ2UoR2FtZVRhYi5TVE9SWSk7XG4gICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgc3RvcnlNb2RhbC5zaG93KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvblJlZnJlc2hTdG9yeUlmT3BlbjogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgaWYgKHN0b3J5TW9kYWwgJiYgc3RvcnlNb2RhbC5pc09wZW4pIHtcbiAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25EaXNhYmxlT3B0aW9uczogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgIHN0b3J5TW9kYWwuZGlzYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uU2hvd0dlbmVyYXRpbmc6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICBzdG9yeU1vZGFsLnNob3dHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhpZGVHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgc3RvcnlNb2RhbC5oaWRlR2VuZXJhdGluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25FbmFibGVPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkVycm9yOiAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmi5vli5/or7fmsYLlpLHotKU6JywgZXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlZnJlc2hTdG9yeTogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmgKfliKvmlofmnKxcbiAgICovXG4gIHByaXZhdGUgZ2V0R2VuZGVyVGV4dChnZW5kZXI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZ2VuZGVyTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgYW55OiAn5LiN6ZmQJyxcbiAgICAgIG1hbGU6ICfnlLfmgKcnLFxuICAgICAgZmVtYWxlOiAn5aWz5oCnJyxcbiAgICAgIG90aGVyOiAn5YW25LuWJyxcbiAgICB9O1xuICAgIHJldHVybiBnZW5kZXJNYXBbZ2VuZGVyXSB8fCAn5LiN6ZmQJztcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrkupLliqjoj5zljZVcbiAgICovXG4gIHByaXZhdGUgc2hvd0ludGVyYWN0aW9uTWVudShzdGFmZjogU3RhZmYpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnJlbnRJbnRlcmFjdGluZ1N0YWZmID0gc3RhZmY7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcblxuICAgIGNvbnN0IG1lbnVIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cImludGVyYWN0aW9uLW1lbnUtYmFja2Ryb3BcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWhlYWRlclwiPlxuICAgICAgICAgIDxoMz7kuI4gJHtzdGFmZi5uYW1lfSDkupLliqg8L2gzPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWNsb3NlXCI+w5c8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWNvbnRlbnRcIj5cbiAgICAgICAgICAke1NUQUZGX0lOVEVSQUNUSU9OX09QVElPTlMubWFwKFxuICAgICAgICAgICAgKG9wdGlvbiwgaW5kZXgpID0+IGBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJpbnRlcmFjdGlvbi1vcHRpb25cIiBkYXRhLW9wdGlvbi1pbmRleD1cIiR7aW5kZXh9XCI+XG4gICAgICAgICAgICAgICR7b3B0aW9uLmxhYmVsfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgYCxcbiAgICAgICAgICApLmpvaW4oJycpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICAkKHRoaXMuZWxlbWVudCkuYXBwZW5kKG1lbnVIVE1MKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDpmpDol4/kupLliqjoj5zljZVcbiAgICovXG4gIHByaXZhdGUgaGlkZUludGVyYWN0aW9uTWVudSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuaW50ZXJhY3Rpb24tbWVudS1iYWNrZHJvcCwgLmludGVyYWN0aW9uLW1lbnUnKS5yZW1vdmUoKTtcbiAgICB0aGlzLmN1cnJlbnRJbnRlcmFjdGluZ1N0YWZmID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrnrqHnkIboj5zljZVcbiAgICovXG4gIHByaXZhdGUgc2hvd01hbmFnZU1lbnUoc3RhZmY6IFN0YWZmKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50TWFuYWdpbmdTdGFmZiA9IHN0YWZmO1xuICAgIGlmICghdGhpcy5lbGVtZW50KSByZXR1cm47XG5cbiAgICBjb25zdCBtZW51SFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWJhY2tkcm9wIG1hbmFnZS1tZW51LWJhY2tkcm9wXCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJhY3Rpb24tbWVudSBtYW5hZ2UtbWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW50ZXJhY3Rpb24tbWVudS1oZWFkZXJcIj5cbiAgICAgICAgICA8aDM+566h55CGICR7c3RhZmYubmFtZX08L2gzPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWNsb3NlIG1hbmFnZS1tZW51LWNsb3NlXCI+w5c8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJpbnRlcmFjdGlvbi1tZW51LWNvbnRlbnRcIj5cbiAgICAgICAgICAke1NUQUZGX01BTkFHRV9PUFRJT05TLm1hcChcbiAgICAgICAgICAgIChvcHRpb24sIGluZGV4KSA9PiBgXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiaW50ZXJhY3Rpb24tb3B0aW9uIG1hbmFnZS1vcHRpb25cIiBkYXRhLW9wdGlvbi1pbmRleD1cIiR7aW5kZXh9XCI+XG4gICAgICAgICAgICAgICR7b3B0aW9uLmxhYmVsfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgYCxcbiAgICAgICAgICApLmpvaW4oJycpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGA7XG5cbiAgICAkKHRoaXMuZWxlbWVudCkuYXBwZW5kKG1lbnVIVE1MKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDpmpDol4/nrqHnkIboj5zljZVcbiAgICovXG4gIHByaXZhdGUgaGlkZU1hbmFnZU1lbnUoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcbiAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLm1hbmFnZS1tZW51LWJhY2tkcm9wLCAubWFuYWdlLW1lbnUnKS5yZW1vdmUoKTtcbiAgICB0aGlzLmN1cnJlbnRNYW5hZ2luZ1N0YWZmID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiDlpITnkIbkupLliqhcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlSW50ZXJhY3Rpb24ob3B0aW9uOiBTdGFmZkludGVyYWN0aW9uT3B0aW9uLCBzdGFmZjogU3RhZmYpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwcm9tcHQgPSBvcHRpb24ucHJvbXB0X3RlbXBsYXRlLnJlcGxhY2UoJyR7c3RhZmZfbmFtZX0nLCBzdGFmZi5uYW1lKTtcbiAgICB0aGlzLmhpZGVJbnRlcmFjdGlvbk1lbnUoKTtcblxuICAgIGNvbnN0IHsgaGFuZGxlVW5pZmllZFJlcXVlc3QgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdXRpbHMvdW5pZmllZFJlcXVlc3RIYW5kbGVyJyk7XG4gICAgY29uc3QgeyBoYW5kbGVUYWJDaGFuZ2UgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdXRpbHMvdGFiTWFuYWdlcicpO1xuICAgIGNvbnN0IHsgR2FtZVRhYiB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi90eXBlcycpO1xuICAgIGNvbnN0IHsgZ2V0U3RvcnlNb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy9hcHBTdGF0ZScpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGhhbmRsZVVuaWZpZWRSZXF1ZXN0KFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgY29udGVudDogcHJvbXB0LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb25Td2l0Y2hUb1N0b3J5OiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVUYWJDaGFuZ2UoR2FtZVRhYi5TVE9SWSk7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlZnJlc2hTdG9yeUlmT3BlbjogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsICYmIHN0b3J5TW9kYWwuaXNPcGVuKSB7XG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25EaXNhYmxlT3B0aW9uczogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwuZGlzYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uU2hvd0dlbmVyYXRpbmc6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgICBzdG9yeU1vZGFsLnNob3dHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkhpZGVHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5oaWRlR2VuZXJhdGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FbmFibGVPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yOiAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOWRmOW3peS6kuWKqOWksei0pTonLCBlcnJvcik7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlZnJlc2hTdG9yeTogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5ZGY5bel5LqS5Yqo5byC5bi4OicsIGVycm9yKTtcbiAgICAgIGNvbnN0IHsgZ2V0U3RvcnlNb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy9hcHBTdGF0ZScpO1xuICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgIHN0b3J5TW9kYWwuZW5hYmxlT3B0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlpITnkIbnrqHnkIZcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlTWFuYWdlKG9wdGlvbjogU3RhZmZNYW5hZ2VPcHRpb24sIHN0YWZmOiBTdGFmZik6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHByb21wdCA9IG9wdGlvbi5wcm9tcHRfdGVtcGxhdGUucmVwbGFjZSgnJHtzdGFmZl9uYW1lfScsIHN0YWZmLm5hbWUpO1xuICAgIHRoaXMuaGlkZU1hbmFnZU1lbnUoKTtcblxuICAgIGNvbnN0IHsgaGFuZGxlVW5pZmllZFJlcXVlc3QgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdXRpbHMvdW5pZmllZFJlcXVlc3RIYW5kbGVyJyk7XG4gICAgY29uc3QgeyBoYW5kbGVUYWJDaGFuZ2UgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdXRpbHMvdGFiTWFuYWdlcicpO1xuICAgIGNvbnN0IHsgR2FtZVRhYiB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi90eXBlcycpO1xuICAgIGNvbnN0IHsgZ2V0U3RvcnlNb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy9hcHBTdGF0ZScpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGhhbmRsZVVuaWZpZWRSZXF1ZXN0KFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgY29udGVudDogcHJvbXB0LFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgb25Td2l0Y2hUb1N0b3J5OiAoKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVUYWJDaGFuZ2UoR2FtZVRhYi5TVE9SWSk7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlZnJlc2hTdG9yeUlmT3BlbjogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsICYmIHN0b3J5TW9kYWwuaXNPcGVuKSB7XG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25EaXNhYmxlT3B0aW9uczogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwuZGlzYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uU2hvd0dlbmVyYXRpbmc6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3J5TW9kYWwgPSBnZXRTdG9yeU1vZGFsKCk7XG4gICAgICAgICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICAgICAgICBzdG9yeU1vZGFsLnNob3dHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkhpZGVHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5oaWRlR2VuZXJhdGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FbmFibGVPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yOiAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOWRmOW3peeuoeeQhuWksei0pTonLCBlcnJvcik7XG4gICAgICAgICAgICBjb25zdCBzdG9yeU1vZGFsID0gZ2V0U3RvcnlNb2RhbCgpO1xuICAgICAgICAgICAgaWYgKHN0b3J5TW9kYWwpIHtcbiAgICAgICAgICAgICAgc3RvcnlNb2RhbC5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlZnJlc2hTdG9yeTogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgICAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgICAgICAgIHN0b3J5TW9kYWwucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5ZGY5bel566h55CG5byC5bi4OicsIGVycm9yKTtcbiAgICAgIGNvbnN0IHsgZ2V0U3RvcnlNb2RhbCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy9hcHBTdGF0ZScpO1xuICAgICAgY29uc3Qgc3RvcnlNb2RhbCA9IGdldFN0b3J5TW9kYWwoKTtcbiAgICAgIGlmIChzdG9yeU1vZGFsKSB7XG4gICAgICAgIHN0b3J5TW9kYWwuZW5hYmxlT3B0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDplIDmr4Hnu4Tku7ZcbiAgICovXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlY3J1aXRNb2RhbCkge1xuICAgICAgdGhpcy5yZWNydWl0TW9kYWwuZGVzdHJveSgpO1xuICAgICAgdGhpcy5yZWNydWl0TW9kYWwgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCk7XG4gICAgICAkKHRoaXMuZWxlbWVudCkucmVtb3ZlKCk7XG4gICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/StaffModal.ts\n\n}');
  },
  "./src/mhjg/components/modals/StoryModal.scss": 
  /*!****************************************************!*\
  !*** ./src/mhjg/components/modals/StoryModal.scss ***!
  \****************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TdG9yeU1vZGFsLnNjc3MiLCJtYXBwaW5ncyI6IjtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TdG9yeU1vZGFsLnNjc3M/MWVhYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/StoryModal.scss\n\n}");
  },
  "./src/mhjg/components/modals/StoryModal.ts": 
  /*!**************************************************!*\
  !*** ./src/mhjg/components/modals/StoryModal.ts ***!
  \**************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StoryModal: () => (/* binding */ StoryModal)\n/* harmony export */ });\n/* harmony import */ var _utils_storyInteraction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/storyInteraction */ "./src/mhjg/utils/storyInteraction.ts");\n/* harmony import */ var _utils_textParser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/textParser */ "./src/mhjg/utils/textParser.ts");\n/* harmony import */ var _StoryModal_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StoryModal.scss */ "./src/mhjg/components/modals/StoryModal.scss");\n\n\n\nclass StoryModal {\n    element = null;\n    callbacks;\n    isOpen = false;\n    currentMaintext = \'\';\n    currentOptions = [];\n    messageListenerId = null;\n    isGenerating = false;\n    isMessageListenerSetup = false; // é˜²æ­¢é‡å¤æ³¨å†Œæ¶ˆæ¯ç›‘å¬å™¨\n    constructor(callbacks) {\n        this.callbacks = callbacks;\n    }\n    /**\n     * ä»èŠå¤©æ¶ˆæ¯ä¸­åŠ è½½æœ€æ–°å†…å®¹\n     * æ€»æ˜¯ä»æœ€æ–°æ¥¼å±‚è¯»å–ï¼Œä¼˜å…ˆè¯»å– assistant æ¶ˆæ¯ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¯»å–æœ€æ–°æ¶ˆæ¯\n     */\n    loadFromChatMessages() {\n        try {\n            // å…ˆå°è¯•è·å–æœ€æ–°çš„ assistant æ¶ˆæ¯\n            let messages = getChatMessages(-1, { role: \'assistant\' });\n            let lastMessage = messages.length > 0 ? messages[messages.length - 1] : null;\n            // å¦‚æœæ²¡æœ‰ assistant æ¶ˆæ¯ï¼Œè·å–æœ€æ–°æ¶ˆæ¯ï¼ˆä¸é™åˆ¶ roleï¼‰\n            if (!lastMessage) {\n                messages = getChatMessages(-1);\n                lastMessage = messages.length > 0 ? messages[messages.length - 1] : null;\n            }\n            if (!lastMessage) {\n                this.currentMaintext = \'ç­‰å¾…æ•…äº‹å¼€å§‹...\';\n                this.currentOptions = [];\n                return;\n            }\n            const messageContent = lastMessage.message || \'\';\n            // è§£æ maintext å’Œ options\n            // æ³¨æ„ï¼šmessageContent å¯èƒ½å·²ç»åŒ…å«æ ¼å¼åŒ–åçš„HTMLï¼ˆå¦‚æœä½¿ç”¨äº†formatAsTavernRegexedStringï¼‰\n            // æˆ‘ä»¬éœ€è¦æå–åŸå§‹æ–‡æœ¬å†…å®¹\n            this.currentMaintext = (0,_utils_storyInteraction__WEBPACK_IMPORTED_MODULE_0__.parseMaintext)(messageContent);\n            this.currentOptions = (0,_utils_storyInteraction__WEBPACK_IMPORTED_MODULE_0__.parseOptions)(messageContent);\n            console.log(\'ğŸ“– è§£æç»“æœ:\', {\n                maintextLength: this.currentMaintext.length,\n                optionsCount: this.currentOptions.length,\n                maintextPreview: this.currentMaintext.substring(0, 100),\n            });\n            // å¦‚æœæ²¡æœ‰è§£æåˆ° maintextï¼Œä½¿ç”¨åŸå§‹æ¶ˆæ¯\n            if (!this.currentMaintext && messageContent) {\n                this.currentMaintext = messageContent;\n            }\n            console.log(\'ğŸ“– ä»æœ€æ–°æ¥¼å±‚åŠ è½½å†…å®¹:\', {\n                message_id: lastMessage.message_id,\n                role: lastMessage.role,\n                maintext: this.currentMaintext.substring(0, 50) + \'...\',\n                options: this.currentOptions,\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ åŠ è½½èŠå¤©æ¶ˆæ¯å¤±è´¥:\', error);\n            this.currentMaintext = \'åŠ è½½æ•…äº‹å†…å®¹æ—¶å‡ºé”™...\';\n            this.currentOptions = [];\n        }\n    }\n    /**\n     * åˆ›å»ºæ¨¡æ€æ¡†HTMLç»“æ„\n     */\n    createElement() {\n        const modal = document.createElement(\'div\');\n        modal.className = \'mhjg-modal mhjg-modal-story\';\n        modal.innerHTML = this.getModalHTML();\n        this.element = modal;\n        this.bindEvents();\n        return modal;\n    }\n    /**\n     * è·å–æ¨¡æ€æ¡†HTML\n     */\n    getModalHTML() {\n        if (!this.isOpen)\n            return \'\';\n        // æ³¨æ„ï¼šcurrentMaintext å¯èƒ½å·²ç»æ˜¯æ ¼å¼åŒ–åçš„HTMLï¼ˆå¦‚æœä½¿ç”¨äº†formatAsTavernRegexedStringï¼‰\n        // æˆ‘ä»¬éœ€è¦æ£€æŸ¥æ˜¯å¦æ˜¯HTMLæ ¼å¼ï¼Œå¦‚æœæ˜¯åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦åˆ™ç”¨parseRichTextå¤„ç†\n        let parsedMaintext;\n        if (this.currentMaintext.includes(\'<\') && this.currentMaintext.includes(\'>\')) {\n            // çœ‹èµ·æ¥å·²ç»æ˜¯HTMLæ ¼å¼ï¼Œç›´æ¥ä½¿ç”¨\n            parsedMaintext = this.currentMaintext;\n        }\n        else {\n            // çº¯æ–‡æœ¬ï¼Œä½¿ç”¨parseRichTextå¤„ç†\n            parsedMaintext = (0,_utils_textParser__WEBPACK_IMPORTED_MODULE_1__.parseRichText)(this.currentMaintext);\n        }\n        // ç”Ÿæˆé€‰é¡¹æŒ‰é’®HTML\n        const optionsHTML = this.createOptionsHTML();\n        return `\n      <div class="modal-backdrop"></div>\n      <div class="modal-window">\n        <div class="modal-header">\n          <div class="modal-header-left">\n            <div class="modal-icon">\n              ${this.getBookIcon()}\n            </div>\n            <div class="modal-title-group">\n              <h2 class="modal-title">å‘½è¿é­”å…¸</h2>\n              <p class="modal-subtitle">ç¼–ç»‡ä½ çš„æ•…äº‹</p>\n            </div>\n          </div>\n          <div class="modal-header-actions">\n            <button class="modal-action-btn" id="review-story-btn" aria-label="å›é¡¾æ•…äº‹" title="å›é¡¾æ•…äº‹">\n              ${this.getReviewIcon()}\n              <span>å›é¡¾æ•…äº‹</span>\n            </button>\n            <button class="modal-action-btn" id="load-save-btn" aria-label="è¯»æ¡£" title="è¯»æ¡£">\n              ${this.getLoadIcon()}\n              <span>è¯»æ¡£</span>\n            </button>\n            <button class="modal-close" aria-label="å…³é—­">\n              å…³é—­é­”å…¸\n            </button>\n          </div>\n        </div>\n        <div class="modal-content" id="story-content">\n          <div class="story-maintext">\n            ${parsedMaintext}\n          </div>\n          ${this.isGenerating ? this.createGeneratingOverlay() : \'\'}\n        </div>\n        <div class="modal-options" id="story-options">\n          ${optionsHTML}\n        </div>\n        <div class="modal-input">\n          <div class="input-wrapper">\n            <input \n              type="text" \n              id="story-input"\n              placeholder="æè¿°ä½ çš„è¡ŒåŠ¨..."\n              class="story-input"\n            />\n            <button \n              id="story-send"\n              class="story-send-btn"\n            >\n              ${this.getSendIcon()}\n            </button>\n          </div>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * åˆ›å»ºé€‰é¡¹æŒ‰é’®HTML\n     */\n    createOptionsHTML() {\n        if (this.currentOptions.length === 0) {\n            return \'\';\n        }\n        const buttons = this.currentOptions\n            .map((option, index) => {\n            const optionText = option.trim();\n            // æ£€æŸ¥æ˜¯å¦æ˜¯HTMLæ ¼å¼ï¼Œå¦‚æœæ˜¯åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦åˆ™ç”¨parseRichTextå¤„ç†\n            let parsedOption;\n            if (optionText.includes(\'<\') && optionText.includes(\'>\')) {\n                // çœ‹èµ·æ¥å·²ç»æ˜¯HTMLæ ¼å¼ï¼Œç›´æ¥ä½¿ç”¨\n                parsedOption = optionText;\n            }\n            else {\n                // çº¯æ–‡æœ¬ï¼Œä½¿ç”¨parseRichTextå¤„ç†\n                parsedOption = (0,_utils_textParser__WEBPACK_IMPORTED_MODULE_1__.parseRichText)(optionText);\n            }\n            return `\n        <button \n          class="story-option-btn" \n          data-option="${optionText.replace(/"/g, \'&quot;\')}"\n          data-option-index="${index}"\n        >\n          ${parsedOption}\n        </button>\n      `;\n        })\n            .join(\'\');\n        return `\n      <div class="story-options-container">\n        ${buttons}\n      </div>\n    `;\n    }\n    /**\n     * è·å–å›¾æ ‡\n     */\n    getBookIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>\';\n    }\n    getCloseIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>\';\n    }\n    getSendIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>\';\n    }\n    getReviewIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M3 21v-5h5"/></svg>\';\n    }\n    getLoadIcon() {\n        return \'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>\';\n    }\n    /**\n     * ç»‘å®šäº‹ä»¶\n     */\n    bindEvents() {\n        if (!this.element)\n            return;\n        // å…ˆç§»é™¤æ‰€æœ‰æ—§çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œé˜²æ­¢é‡å¤ç»‘å®š\n        $(this.element).off(\'click\', \'.modal-backdrop, .modal-close\');\n        $(this.element).off(\'click\', \'.story-option-btn\');\n        $(this.element).off(\'click\', \'#story-send\');\n        $(this.element).off(\'click\', \'#review-story-btn\');\n        $(this.element).off(\'click\', \'#load-save-btn\');\n        $(this.element).off(\'keydown\', \'#story-input\');\n        $(this.element).on(\'click\', \'.modal-backdrop, .modal-close\', () => {\n            this.close();\n        });\n        // å›é¡¾æ•…äº‹æŒ‰é’®\n        $(this.element).on(\'click\', \'#review-story-btn\', (e) => {\n            e.stopPropagation();\n            this.showReviewStory();\n        });\n        // è¯»æ¡£æŒ‰é’®\n        $(this.element).on(\'click\', \'#load-save-btn\', (e) => {\n            e.stopPropagation();\n            this.showLoadSave();\n        });\n        // é€‰é¡¹æŒ‰é’®ç‚¹å‡»äº‹ä»¶\n        $(this.element).on(\'click\', \'.story-option-btn\', async (e) => {\n            e.stopPropagation(); // é˜²æ­¢äº‹ä»¶å†’æ³¡\n            const button = e.currentTarget;\n            // é˜²æ­¢é‡å¤ç‚¹å‡»\n            if (this.isGenerating || button.disabled) {\n                return;\n            }\n            const optionText = button.getAttribute(\'data-option\');\n            if (optionText) {\n                await this.handleOptionClick(optionText);\n            }\n        });\n        // å‘é€æŒ‰é’®ç‚¹å‡»äº‹ä»¶\n        $(this.element).on(\'click\', \'#story-send\', e => {\n            e.stopPropagation(); // é˜²æ­¢äº‹ä»¶å†’æ³¡\n            this.handleSend();\n        });\n        // è¾“å…¥æ¡†å›è½¦äº‹ä»¶\n        $(this.element).on(\'keydown\', \'#story-input\', e => {\n            if (e.key === \'Enter\' && !e.shiftKey) {\n                e.preventDefault();\n                this.handleSend();\n            }\n        });\n    }\n    /**\n     * å¤„ç†é€‰é¡¹ç‚¹å‡»\n     */\n    async handleOptionClick(optionText) {\n        // é˜²æ­¢é‡å¤ç‚¹å‡»\n        if (this.isGenerating) {\n            console.warn(\'âš ï¸ æ­£åœ¨ç”Ÿæˆä¸­ï¼Œå¿½ç•¥é‡å¤ç‚¹å‡»\');\n            return;\n        }\n        const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n        const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../types */ "./src/mhjg/types.ts"));\n        // ç«‹å³è®¾ç½®ç”ŸæˆçŠ¶æ€ï¼Œé˜²æ­¢é‡å¤ç‚¹å‡»\n        this.isGenerating = true;\n        this.disableOptions();\n        try {\n            // ç¡®ä¿å·²ç»åˆ‡æ¢åˆ°Storyé¡µé¢\n            handleTabChange(GameTab.STORY);\n            this.show();\n            await handleUnifiedRequest({\n                type: \'option\',\n                content: optionText,\n            }, {\n                onSwitchToStory: () => {\n                    // å·²ç»åœ¨Storyé¡µé¢ï¼Œä¸éœ€è¦å†æ¬¡åˆ‡æ¢\n                },\n                onRefreshStoryIfOpen: () => {\n                    // å¦‚æœé­”å…¸å·²æ‰“å¼€ï¼Œåˆ·æ–°æ˜¾ç¤º\n                    if (this.isOpen) {\n                        this.refresh();\n                    }\n                },\n                onDisableOptions: () => {\n                    this.disableOptions();\n                },\n                onShowGenerating: () => {\n                    this.showGenerating();\n                },\n                onHideGenerating: () => {\n                    this.hideGenerating();\n                    this.isGenerating = false; // ç”Ÿæˆå®Œæˆåé‡ç½®çŠ¶æ€\n                },\n                onEnableOptions: () => {\n                    this.enableOptions();\n                },\n                onError: (error) => {\n                    console.error(\'âŒ é€‰é¡¹å¤„ç†å¤±è´¥:\', error);\n                    this.isGenerating = false; // å‡ºé”™æ—¶é‡ç½®çŠ¶æ€\n                    this.enableOptions();\n                },\n                onRefreshStory: () => {\n                    this.refresh();\n                },\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ é€‰é¡¹å¤„ç†å¼‚å¸¸:\', error);\n            this.isGenerating = false; // å¼‚å¸¸æ—¶é‡ç½®çŠ¶æ€\n            this.enableOptions();\n        }\n    }\n    /**\n     * å¤„ç†å‘é€æ¶ˆæ¯ï¼ˆè‡ªç”±è¾“å…¥ï¼‰\n     */\n    async handleSend() {\n        // é˜²æ­¢é‡å¤ç‚¹å‡»\n        if (this.isGenerating) {\n            console.warn(\'âš ï¸ æ­£åœ¨ç”Ÿæˆä¸­ï¼Œå¿½ç•¥é‡å¤å‘é€\');\n            return;\n        }\n        const input = $(this.element).find(\'#story-input\');\n        const text = input.val()?.toString().trim();\n        if (!text)\n            return;\n        // ç«‹å³è®¾ç½®ç”ŸæˆçŠ¶æ€ï¼Œé˜²æ­¢é‡å¤ç‚¹å‡»\n        this.isGenerating = true;\n        this.disableOptions();\n        // æ¸…ç©ºè¾“å…¥æ¡†\n        input.val(\'\');\n        const { handleUnifiedRequest } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/unifiedRequestHandler */ "./src/mhjg/utils/unifiedRequestHandler.ts"));\n        const { handleTabChange } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../utils/tabManager */ "./src/mhjg/utils/tabManager.ts"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../../types */ "./src/mhjg/types.ts"));\n        try {\n            // ç¡®ä¿å·²ç»åˆ‡æ¢åˆ°Storyé¡µé¢\n            handleTabChange(GameTab.STORY);\n            this.show();\n            await handleUnifiedRequest({\n                type: \'custom\',\n                content: text,\n            }, {\n                onSwitchToStory: () => {\n                    // å·²ç»åœ¨Storyé¡µé¢ï¼Œä¸éœ€è¦å†æ¬¡åˆ‡æ¢\n                },\n                onRefreshStoryIfOpen: () => {\n                    // å¦‚æœé­”å…¸å·²æ‰“å¼€ï¼Œåˆ·æ–°æ˜¾ç¤º\n                    if (this.isOpen) {\n                        this.refresh();\n                    }\n                },\n                onDisableOptions: () => {\n                    this.disableOptions();\n                },\n                onShowGenerating: () => {\n                    this.showGenerating();\n                },\n                onHideGenerating: () => {\n                    this.hideGenerating();\n                    this.isGenerating = false; // ç”Ÿæˆå®Œæˆåé‡ç½®çŠ¶æ€\n                },\n                onEnableOptions: () => {\n                    this.enableOptions();\n                },\n                onError: (error) => {\n                    console.error(\'âŒ å‘é€æ¶ˆæ¯å¤±è´¥:\', error);\n                    // å›é€€è¾“å…¥æ¡†å†…å®¹\n                    input.val(text);\n                    this.isGenerating = false; // å‡ºé”™æ—¶é‡ç½®çŠ¶æ€\n                    this.enableOptions();\n                },\n                onRefreshStory: () => {\n                    this.refresh();\n                },\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ å‘é€æ¶ˆæ¯å¼‚å¸¸:\', error);\n            // å›é€€è¾“å…¥æ¡†å†…å®¹\n            input.val(text);\n            this.isGenerating = false; // å¼‚å¸¸æ—¶é‡ç½®çŠ¶æ€\n            this.enableOptions();\n        }\n    }\n    /**\n     * æ»šåŠ¨åˆ°åº•éƒ¨\n     */\n    scrollToBottom() {\n        const content = $(this.element).find(\'.modal-content\');\n        if (content.length) {\n            content[0].scrollTop = content[0].scrollHeight;\n        }\n    }\n    /**\n     * é‡æ–°æ¸²æŸ“\n     */\n    render() {\n        if (!this.element)\n            return;\n        // å…ˆç§»é™¤æ—§äº‹ä»¶ï¼Œé˜²æ­¢é‡å¤ç»‘å®š\n        $(this.element).off();\n        this.element.innerHTML = this.getModalHTML();\n        this.bindEvents();\n    }\n    /**\n     * åˆ·æ–°å†…å®¹ï¼ˆä»èŠå¤©æ¶ˆæ¯é‡æ–°åŠ è½½ï¼‰\n     * æ·»åŠ é˜²æŠ–ï¼Œé¿å…é¢‘ç¹åˆ·æ–°\n     */\n    refreshTimer = null;\n    refresh() {\n        // é˜²æŠ–ï¼šå¦‚æœæ­£åœ¨ç”Ÿæˆä¸­ï¼Œå»¶è¿Ÿåˆ·æ–°\n        if (this.isGenerating) {\n            // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨\n            if (this.refreshTimer !== null) {\n                clearTimeout(this.refreshTimer);\n            }\n            // å»¶è¿Ÿåˆ·æ–°ï¼Œç­‰å¾…ç”Ÿæˆå®Œæˆ\n            this.refreshTimer = window.setTimeout(() => {\n                this.refresh();\n                this.refreshTimer = null;\n            }, 300);\n            return;\n        }\n        // åŠ è½½æœ€æ–°æ¶ˆæ¯å†…å®¹\n        this.loadFromChatMessages();\n        // å¦‚æœé­”å…¸æ‰“å¼€ï¼Œé‡æ–°æ¸²æŸ“\n        if (this.element && this.isOpen) {\n            this.render();\n            this.scrollToBottom();\n            console.log(\'âœ… é­”å…¸å†…å®¹å·²åˆ·æ–°\');\n        }\n    }\n    /**\n     * æ£€æŸ¥é­”å…¸æ˜¯å¦æ‰“å¼€\n     */\n    getIsOpen() {\n        return this.isOpen;\n    }\n    /**\n     * æ˜¾ç¤ºæ¨¡æ€æ¡†\n     */\n    show() {\n        this.isOpen = true;\n        // åŠ è½½æœ€æ–°å†…å®¹\n        this.loadFromChatMessages();\n        // è®¾ç½®æ¶ˆæ¯ç›‘å¬å™¨ï¼ˆåªè®¾ç½®ä¸€æ¬¡ï¼‰\n        this.setupMessageListener();\n        if (this.element) {\n            // å…ˆç§»é™¤æ—§äº‹ä»¶ï¼Œå†é‡æ–°ç»‘å®š\n            $(this.element).off();\n            this.element.innerHTML = this.getModalHTML();\n            this.bindEvents();\n            $(this.element).addClass(\'open\');\n            $(\'body\').addClass(\'modal-open\');\n            this.scrollToBottom();\n        }\n    }\n    /**\n     * è®¾ç½®æ¶ˆæ¯ç›‘å¬å™¨\n     * é˜²æ­¢é‡å¤æ³¨å†Œç›‘å¬å™¨\n     */\n    setupMessageListener() {\n        // å¦‚æœå·²ç»è®¾ç½®è¿‡ç›‘å¬å™¨ï¼Œä¸å†é‡å¤è®¾ç½®\n        // æ³¨æ„ï¼ševentOn å¯èƒ½ä¸æ”¯æŒç§»é™¤ï¼Œæ‰€ä»¥ä½¿ç”¨æ ‡å¿—ä½é˜²æ­¢é‡å¤æ³¨å†Œ\n        if (this.isMessageListenerSetup) {\n            console.log(\'âš ï¸ æ¶ˆæ¯ç›‘å¬å™¨å·²è®¾ç½®ï¼Œè·³è¿‡é‡å¤æ³¨å†Œ\');\n            return;\n        }\n        this.isMessageListenerSetup = true;\n        // ç›‘å¬æ¶ˆæ¯æ¥æ”¶å’Œæ›´æ–°äº‹ä»¶\n        // æ³¨æ„ï¼šç”±äº eventOn å¯èƒ½ä¸æ”¯æŒç§»é™¤ï¼Œè¿™äº›ç›‘å¬å™¨ä¼šä¸€ç›´å­˜åœ¨\n        // ä½†é€šè¿‡æ ‡å¿—ä½ç¡®ä¿åªæ³¨å†Œä¸€æ¬¡\n        eventOn(tavern_events.MESSAGE_RECEIVED, (message_id) => {\n            // æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦åŒ…å« maintext å’Œ option\n            const messages = getChatMessages(-1);\n            const latestMessage = messages.find(m => m.message_id === message_id);\n            if (latestMessage && latestMessage.role === \'assistant\') {\n                const hasMaintext = /<maintext>[\\s\\S]*?<\\/maintext>/i.test(latestMessage.message);\n                const hasOption = /<option>[\\s\\S]*?<\\/option>/i.test(latestMessage.message);\n                if (hasMaintext && hasOption) {\n                    console.log(\'ğŸ“¨ æ”¶åˆ°åŒ…å« maintext å’Œ option çš„æ–°æ¶ˆæ¯ï¼Œåˆ·æ–°é­”å…¸:\', message_id);\n                    // å»¶è¿Ÿä¸€ä¸‹ï¼Œç¡®ä¿æ¶ˆæ¯å·²ç»å®Œå…¨å†™å…¥\n                    setTimeout(() => {\n                        if (this.isOpen) {\n                            this.refresh();\n                        }\n                    }, 100);\n                }\n                else {\n                    console.log(\'ğŸ“¨ æ”¶åˆ°æ–°æ¶ˆæ¯ï¼Œä½†ä¸åŒ…å« maintext å’Œ optionï¼Œè·³è¿‡åˆ·æ–°:\', message_id);\n                }\n            }\n        });\n        eventOn(tavern_events.MESSAGE_UPDATED, (message_id) => {\n            // æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦åŒ…å« maintext å’Œ option\n            const messages = getChatMessages(-1);\n            const updatedMessage = messages.find(m => m.message_id === message_id);\n            if (updatedMessage && updatedMessage.role === \'assistant\') {\n                const hasMaintext = /<maintext>[\\s\\S]*?<\\/maintext>/i.test(updatedMessage.message);\n                const hasOption = /<option>[\\s\\S]*?<\\/option>/i.test(updatedMessage.message);\n                if (hasMaintext && hasOption) {\n                    console.log(\'ğŸ”„ æ¶ˆæ¯å·²æ›´æ–°ä¸”åŒ…å« maintext å’Œ optionï¼Œåˆ·æ–°é­”å…¸:\', message_id);\n                    // å»¶è¿Ÿä¸€ä¸‹ï¼Œç¡®ä¿æ¶ˆæ¯å·²ç»å®Œå…¨æ›´æ–°\n                    setTimeout(() => {\n                        if (this.isOpen) {\n                            this.refresh();\n                        }\n                    }, 100);\n                }\n                else {\n                    console.log(\'ğŸ”„ æ¶ˆæ¯å·²æ›´æ–°ï¼Œä½†ä¸åŒ…å« maintext å’Œ optionï¼Œè·³è¿‡åˆ·æ–°:\', message_id);\n                }\n            }\n        });\n        // æ³¨æ„ï¼šGENERATION_ENDED äº‹ä»¶å¯èƒ½ä¸å­˜åœ¨ï¼Œç§»é™¤è¯¥ç›‘å¬\n        // æ¶ˆæ¯æ¥æ”¶å’Œæ›´æ–°äº‹ä»¶å·²ç»è¶³å¤Ÿå¤„ç†ç”Ÿæˆå®Œæˆçš„æƒ…å†µ\n    }\n    /**\n     * åˆ›å»ºç”Ÿæˆä¸­æç¤ºæ¡†\n     */\n    createGeneratingOverlay() {\n        return `\n      <div class="generating-overlay">\n        <div class="generating-content">\n          <div class="generating-spinner"></div>\n          <div class="generating-text">å‰§æƒ…æ­£åœ¨ç”Ÿæˆ</div>\n        </div>\n      </div>\n    `;\n    }\n    /**\n     * æ˜¾ç¤ºç”Ÿæˆä¸­æç¤ºæ¡†\n     */\n    showGenerating() {\n        this.isGenerating = true;\n        if (this.element && this.isOpen) {\n            const content = $(this.element).find(\'#story-content\');\n            if (content.length) {\n                content.append(this.createGeneratingOverlay());\n            }\n        }\n    }\n    /**\n     * éšè—ç”Ÿæˆä¸­æç¤ºæ¡†\n     */\n    hideGenerating() {\n        this.isGenerating = false;\n        if (this.element) {\n            $(this.element).find(\'.generating-overlay\').remove();\n        }\n    }\n    /**\n     * ç¦ç”¨æ‰€æœ‰é€‰é¡¹æŒ‰é’®\n     */\n    disableOptions() {\n        if (this.element) {\n            $(this.element).find(\'.story-option-btn\').prop(\'disabled\', true).addClass(\'disabled\');\n        }\n    }\n    /**\n     * å¯ç”¨æ‰€æœ‰é€‰é¡¹æŒ‰é’®\n     */\n    enableOptions() {\n        if (this.element) {\n            $(this.element).find(\'.story-option-btn\').prop(\'disabled\', false).removeClass(\'disabled\');\n        }\n    }\n    /**\n     * å…³é—­æ¨¡æ€æ¡†\n     */\n    close(triggerCallback = true) {\n        this.isGenerating = false;\n        this.isOpen = false;\n        // ç§»é™¤æ¶ˆæ¯ç›‘å¬å™¨ï¼ˆå¦‚æœæ”¯æŒçš„è¯ï¼‰\n        // æ³¨æ„ï¼ševentOn å¯èƒ½ä¸æ”¯æŒç§»é™¤ï¼Œè¿™é‡Œæš‚æ—¶ä¿ç•™\n        if (this.element) {\n            $(this.element).removeClass(\'open\');\n            $(\'body\').removeClass(\'modal-open\');\n            $(this.element).find(\'.generating-overlay\').remove();\n        }\n        if (triggerCallback) {\n            this.callbacks.onClose();\n        }\n    }\n    /**\n     * æ˜¾ç¤ºå›é¡¾æ•…äº‹å¯¹è¯æ¡†\n     */\n    showReviewStory() {\n        try {\n            // è·å–æ‰€æœ‰ assistant æ¶ˆæ¯\n            const lastMessageId = getLastMessageId();\n            const messages = getChatMessages(`0-${lastMessageId}`, { role: \'assistant\' });\n            if (messages.length === 0) {\n                alert(\'æš‚æ— æ•…äº‹å†…å®¹\');\n                return;\n            }\n            // æå–æ¯ä¸ªæ¶ˆæ¯çš„ maintext\n            const storyItems = messages\n                .map(msg => {\n                const maintextMatch = msg.message.match(/<maintext>([\\s\\S]*?)<\\/maintext>/i);\n                const maintext = maintextMatch ? maintextMatch[1].trim() : \'\';\n                return {\n                    message_id: msg.message_id,\n                    maintext: maintext || \'(æ— å†…å®¹)\',\n                };\n            })\n                .filter(item => item.maintext !== \'(æ— å†…å®¹)\');\n            if (storyItems.length === 0) {\n                alert(\'æš‚æ— æ•…äº‹å†…å®¹\');\n                return;\n            }\n            // åˆ›å»ºå¯¹è¯æ¡† HTML\n            const dialogHTML = `\n        <div class="review-story-dialog">\n          <div class="review-story-header">\n            <h3>å›é¡¾æ•…äº‹</h3>\n            <button class="review-story-close">Ã—</button>\n          </div>\n          <div class="review-story-content">\n            ${storyItems\n                .map((item, index) => `\n              <div class="review-story-item">\n                <div class="review-story-item-header">\n                  <span class="review-story-index">ç¬¬ ${index + 1} å±‚</span>\n                  <span class="review-story-id">æ¶ˆæ¯ ID: ${item.message_id}</span>\n                </div>\n                <div class="review-story-maintext">${(0,_utils_textParser__WEBPACK_IMPORTED_MODULE_1__.parseRichText)(item.maintext)}</div>\n              </div>\n            `)\n                .join(\'\')}\n          </div>\n        </div>\n      `;\n            // åˆ›å»ºå¹¶æ˜¾ç¤ºå¯¹è¯æ¡†\n            const dialog = document.createElement(\'div\');\n            dialog.className = \'review-story-overlay\';\n            dialog.innerHTML = dialogHTML;\n            document.body.appendChild(dialog);\n            // ç»‘å®šå…³é—­äº‹ä»¶\n            $(dialog).on(\'click\', \'.review-story-close, .review-story-overlay\', (e) => {\n                if (e.target === dialog || $(e.target).closest(\'.review-story-close\').length) {\n                    $(dialog).remove();\n                }\n            });\n            // ç‚¹å‡»å¯¹è¯æ¡†å†…å®¹æ—¶ä¸å…³é—­\n            $(dialog).on(\'click\', \'.review-story-dialog\', (e) => {\n                e.stopPropagation();\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ æ˜¾ç¤ºå›é¡¾æ•…äº‹å¤±è´¥:\', error);\n            alert(\'æ˜¾ç¤ºå›é¡¾æ•…äº‹å¤±è´¥\');\n        }\n    }\n    /**\n     * æ˜¾ç¤ºè¯»æ¡£å¯¹è¯æ¡†\n     */\n    showLoadSave() {\n        try {\n            // è·å–æ‰€æœ‰éç©å®¶æ¥¼å±‚çš„ assistant æ¶ˆæ¯\n            const lastMessageId = getLastMessageId();\n            const messages = getChatMessages(`0-${lastMessageId}`, { role: \'assistant\' });\n            if (messages.length === 0) {\n                alert(\'æš‚æ— å­˜æ¡£ç‚¹\');\n                return;\n            }\n            // æå–æ¯ä¸ªæ¶ˆæ¯çš„ sum\n            const saveItems = messages\n                .map(msg => {\n                const sumMatch = msg.message.match(/<sum>([\\s\\S]*?)<\\/sum>/i);\n                const sum = sumMatch ? sumMatch[1].trim() : \'\';\n                return {\n                    message_id: msg.message_id,\n                    sum: sum || \'(æ— æ‘˜è¦)\',\n                };\n            })\n                .filter(item => item.sum !== \'(æ— æ‘˜è¦)\');\n            if (saveItems.length === 0) {\n                alert(\'æš‚æ— å­˜æ¡£ç‚¹\');\n                return;\n            }\n            // åˆ›å»ºå¯¹è¯æ¡† HTML\n            const dialogHTML = `\n        <div class="load-save-dialog">\n          <div class="load-save-header">\n            <h3>è¯»æ¡£</h3>\n            <button class="load-save-close">Ã—</button>\n          </div>\n          <div class="load-save-content">\n            ${saveItems\n                .map((item, index) => `\n              <button class="load-save-item" data-message-id="${item.message_id}">\n                <div class="load-save-sum">${(0,_utils_textParser__WEBPACK_IMPORTED_MODULE_1__.parseRichText)(item.sum)}</div>\n                <div class="load-save-id">æ¶ˆæ¯ ID: ${item.message_id}</div>\n              </button>\n            `)\n                .join(\'\')}\n          </div>\n        </div>\n      `;\n            // åˆ›å»ºå¹¶æ˜¾ç¤ºå¯¹è¯æ¡†\n            const dialog = document.createElement(\'div\');\n            dialog.className = \'load-save-overlay\';\n            dialog.innerHTML = dialogHTML;\n            document.body.appendChild(dialog);\n            // ç»‘å®šå…³é—­äº‹ä»¶\n            $(dialog).on(\'click\', \'.load-save-close, .load-save-overlay\', (e) => {\n                if (e.target === dialog || $(e.target).closest(\'.load-save-close\').length) {\n                    $(dialog).remove();\n                }\n            });\n            // ç‚¹å‡»å¯¹è¯æ¡†å†…å®¹æ—¶ä¸å…³é—­\n            $(dialog).on(\'click\', \'.load-save-dialog\', (e) => {\n                e.stopPropagation();\n            });\n            // ç»‘å®šå­˜æ¡£é¡¹ç‚¹å‡»äº‹ä»¶\n            $(dialog).on(\'click\', \'.load-save-item\', async (e) => {\n                e.stopPropagation();\n                const button = e.currentTarget;\n                const messageId = button.getAttribute(\'data-message-id\');\n                if (!messageId)\n                    return;\n                // ç¡®è®¤å¯¹è¯æ¡†\n                const confirmed = confirm(\'ç¡®è®¤è¦è¯»æ¡£å—ï¼Ÿè¿™ä¼šå›åˆ°å½“æ—¶çš„æ•…äº‹èŠ‚ç‚¹ï¼Œå¹¶åˆ é™¤ä¹‹åçš„æ‰€æœ‰æ•…äº‹ä¿¡æ¯\');\n                if (!confirmed)\n                    return;\n                try {\n                    // æ‰§è¡Œè¯»æ¡£å‘½ä»¤\n                    await triggerSlash(`/branch-create ${messageId}`);\n                    console.log(\'âœ… è¯»æ¡£æˆåŠŸï¼Œæ¶ˆæ¯ ID:\', messageId);\n                    // å…³é—­å¯¹è¯æ¡†\n                    $(dialog).remove();\n                    // åˆ·æ–°é­”å…¸\n                    this.refresh();\n                }\n                catch (error) {\n                    console.error(\'âŒ è¯»æ¡£å¤±è´¥:\', error);\n                    alert(\'è¯»æ¡£å¤±è´¥: \' + (error instanceof Error ? error.message : String(error)));\n                }\n            });\n        }\n        catch (error) {\n            console.error(\'âŒ æ˜¾ç¤ºè¯»æ¡£å¤±è´¥:\', error);\n            alert(\'æ˜¾ç¤ºè¯»æ¡£å¤±è´¥\');\n        }\n    }\n    /**\n     * é”€æ¯ç»„ä»¶\n     */\n    destroy() {\n        if (this.element) {\n            $(this.element).off();\n            $(this.element).remove();\n            this.element = null;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9jb21wb25lbnRzL21vZGFscy9TdG9yeU1vZGFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkU7QUFDcEI7QUFDNUI7QUEwQ3BCLE1BQU0sVUFBVTtJQUNiLE9BQU8sR0FBdUIsSUFBSSxDQUFDO0lBQ25DLFNBQVMsQ0FBc0I7SUFDaEMsTUFBTSxHQUFZLEtBQUssQ0FBQztJQUN2QixlQUFlLEdBQVcsRUFBRSxDQUFDO0lBQzdCLGNBQWMsR0FBYSxFQUFFLENBQUM7SUFDOUIsaUJBQWlCLEdBQWtCLElBQUksQ0FBQztJQUN4QyxZQUFZLEdBQVksS0FBSyxDQUFDO0lBQzlCLHNCQUFzQixHQUFZLEtBQUssQ0FBQyxDQUFDLGNBQWM7SUFFL0QsWUFBWSxTQUE4QjtRQUN4QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUM3QixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ssb0JBQW9CO1FBQzFCLElBQUksQ0FBQztZQUNILHdCQUF3QjtZQUN4QixJQUFJLFFBQVEsR0FBRyxlQUFlLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLENBQUMsQ0FBQztZQUMxRCxJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUU3RSxxQ0FBcUM7WUFDckMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO2dCQUNqQixRQUFRLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQy9CLFdBQVcsR0FBRyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUMzRSxDQUFDO1lBRUQsSUFBSSxDQUFDLFdBQVcs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QkFDUCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ2pCLENBQUM7Z0JBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztvQkFDZixPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFDaEMsS0FBSyxDQUFDLFFBQVEsR0FBRyxDQUFDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdFLENBQUM7WUFDSCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDbEMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2xCLENBQUM7SUFDSCxDQUFDO0lBRUQ7O09BRUc7SUFDSSxPQUFPO1FBQ1osSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUN0QixDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvY29tcG9uZW50cy9tb2RhbHMvU3RvcnlNb2RhbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZU1haW50ZXh0LCBwYXJzZU9wdGlvbnMgfSBmcm9tICcuLi8uLi91dGlscy9zdG9yeUludGVyYWN0aW9uJztcbmltcG9ydCB7IHBhcnNlUmljaFRleHQgfSBmcm9tICcuLi8uLi91dGlscy90ZXh0UGFyc2VyJztcbmltcG9ydCAnLi9TdG9yeU1vZGFsLnNjc3MnO1xuXG4vLyDlhajlsYDlh73mlbDlo7DmmI7vvIjov5nkupvlh73mlbDnlLEgVGF2ZXJuSGVscGVyIOaPkOS+m++8iVxuZGVjbGFyZSBmdW5jdGlvbiBnZXRDaGF0TWVzc2FnZXMoXG4gIHJhbmdlOiBzdHJpbmcgfCBudW1iZXIsXG4gIG9wdGlvbnM/OiB7IHJvbGU/OiAnYWxsJyB8ICdzeXN0ZW0nIHwgJ2Fzc2lzdGFudCcgfCAndXNlcicgfSxcbik6IEFycmF5PHsgbWVzc2FnZTogc3RyaW5nOyBtZXNzYWdlX2lkOiBudW1iZXI7IHJvbGU6IHN0cmluZyB9PjtcblxuZGVjbGFyZSBmdW5jdGlvbiBjcmVhdGVDaGF0TWVzc2FnZXMoXG4gIG1lc3NhZ2VzOiBBcnJheTx7IHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7IG1lc3NhZ2U6IHN0cmluZzsgZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT4gfT4sXG4gIG9wdGlvbnM/OiB7IHJlZnJlc2g/OiAnbm9uZScgfCAnYWZmZWN0ZWQnIHwgJ2FsbCcgfSxcbik6IFByb21pc2U8dm9pZD47XG5cbi8vIE1WVSDlj5jph4/moYbmnrblo7DmmI5cbmRlY2xhcmUgY29uc3QgTXZ1OiB7XG4gIGdldE12dURhdGE6IChvcHRpb25zOiB7IHR5cGU6ICdtZXNzYWdlJyB8ICdjaGF0JyB8ICdjaGFyYWN0ZXInIHwgJ2dsb2JhbCc7IG1lc3NhZ2VfaWQ/OiBudW1iZXIgfCAnbGF0ZXN0JyB9KSA9PiB7XG4gICAgc3RhdF9kYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIGRpc3BsYXlfZGF0YTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICBkZWx0YV9kYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICB9O1xuICBwYXJzZU1lc3NhZ2U6IChtZXNzYWdlOiBzdHJpbmcsIG9sZF9kYXRhOiBhbnkpID0+IFByb21pc2U8YW55IHwgdW5kZWZpbmVkPjtcbn07XG5cbmRlY2xhcmUgZnVuY3Rpb24gZGVsZXRlQ2hhdE1lc3NhZ2VzKG1lc3NhZ2VfaWRzOiBudW1iZXJbXSwgb3B0aW9ucz86IHsgcmVmcmVzaD86ICdub25lJyB8ICdhbGwnIH0pOiBQcm9taXNlPHZvaWQ+O1xuXG5kZWNsYXJlIGZ1bmN0aW9uIGdldExhc3RNZXNzYWdlSWQoKTogbnVtYmVyO1xuXG5kZWNsYXJlIGZ1bmN0aW9uIGdlbmVyYXRlKGNvbmZpZzogeyB1c2VyX2lucHV0Pzogc3RyaW5nOyBzaG91bGRfc3RyZWFtPzogYm9vbGVhbiB9KTogUHJvbWlzZTxzdHJpbmc+O1xuXG5kZWNsYXJlIGZ1bmN0aW9uIGV2ZW50T24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IChkYXRhOiBhbnkpID0+IHZvaWQpOiB2b2lkO1xuXG5kZWNsYXJlIGZ1bmN0aW9uIHRyaWdnZXJTbGFzaChjb21tYW5kOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz47XG5cbmRlY2xhcmUgY29uc3QgdGF2ZXJuX2V2ZW50czoge1xuICBNRVNTQUdFX1JFQ0VJVkVEOiBzdHJpbmc7XG4gIE1FU1NBR0VfVVBEQVRFRDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBTdG9yeU1vZGFsQ2FsbGJhY2tzIHtcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFN0b3J5TW9kYWwge1xuICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgY2FsbGJhY2tzOiBTdG9yeU1vZGFsQ2FsbGJhY2tzO1xuICBwdWJsaWMgaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgY3VycmVudE1haW50ZXh0OiBzdHJpbmcgPSAnJztcbiAgcHJpdmF0ZSBjdXJyZW50T3B0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgcHJpdmF0ZSBtZXNzYWdlTGlzdGVuZXJJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaXNHZW5lcmF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgaXNNZXNzYWdlTGlzdGVuZXJTZXR1cDogYm9vbGVhbiA9IGZhbHNlOyAvLyDpmLLmraLph43lpI3ms6jlhozmtojmga/nm5HlkKzlmahcblxuICBjb25zdHJ1Y3RvcihjYWxsYmFja3M6IFN0b3J5TW9kYWxDYWxsYmFja3MpIHtcbiAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgfVxuXG4gIC8qKlxuICAgKiDku47ogYrlpKnmtojmga/kuK3liqDovb3mnIDmlrDlhoXlrrlcbiAgICog5oC75piv5LuO5pyA5paw5qW85bGC6K+75Y+W77yM5LyY5YWI6K+75Y+WIGFzc2lzdGFudCDmtojmga/vvIzlpoLmnpzmsqHmnInliJnor7vlj5bmnIDmlrDmtojmga9cbiAgICovXG4gIHByaXZhdGUgbG9hZEZyb21DaGF0TWVzc2FnZXMoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOWFiOWwneivleiOt+WPluacgOaWsOeahCBhc3Npc3RhbnQg5raI5oGvXG4gICAgICBsZXQgbWVzc2FnZXMgPSBnZXRDaGF0TWVzc2FnZXMoLTEsIHsgcm9sZTogJ2Fzc2lzdGFudCcgfSk7XG4gICAgICBsZXQgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlcy5sZW5ndGggPiAwID8gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuXG4gICAgICAvLyDlpoLmnpzmsqHmnIkgYXNzaXN0YW50IOa2iOaBr++8jOiOt+WPluacgOaWsOa2iOaBr++8iOS4jemZkOWItiByb2xl77yJXG4gICAgICBpZiAoIWxhc3RNZXNzYWdlKSB7XG4gICAgICAgIG1lc3NhZ2VzID0gZ2V0Q2hhdE1lc3NhZ2VzKC0xKTtcbiAgICAgICAgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlcy5sZW5ndGggPiAwID8gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV0gOiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWxhc3RNZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudE1haW50ZXh0ID0gJ+etieW+heaVheS6i+W8gOWniy4uLic7XG4gICAgICAgIHRoaXMuY3VycmVudE9wdGlvbnMgPSBbXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBtZXNzYWdlQ29udGVudCA9IGxhc3RNZXNzYWdlLm1lc3NhZ2UgfHwgJyc7XG5cbiAgICAgIC8vIOino+aekCBtYWludGV4dCDlkowgb3B0aW9uc1xuICAgICAgLy8g5rOo5oSP77yabWVzc2FnZUNvbnRlbnQg5Y+v6IO95bey57uP5YyF5ZCr5qC85byP5YyW5ZCO55qESFRNTO+8iOWmguaenOS9v+eUqOS6hmZvcm1hdEFzVGF2ZXJuUmVnZXhlZFN0cmluZ++8iVxuICAgICAgLy8g5oiR5Lus6ZyA6KaB5o+Q5Y+W5Y6f5aeL5paH5pys5YaF5a65XG4gICAgICB0aGlzLmN1cnJlbnRNYWludGV4dCA9IHBhcnNlTWFpbnRleHQobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgdGhpcy5jdXJyZW50T3B0aW9ucyA9IHBhcnNlT3B0aW9ucyhtZXNzYWdlQ29udGVudCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OWIOino+aekOe7k+aenDonLCB7XG4gICAgICAgIG1haW50ZXh0TGVuZ3RoOiB0aGlzLmN1cnJlbnRNYWludGV4dC5sZW5ndGgsXG4gICAgICAgIG9wdGlvbnNDb3VudDogdGhpcy5jdXJyZW50T3B0aW9ucy5sZW5ndGgsXG4gICAgICAgIG1haW50ZXh0UHJldmlldzogdGhpcy5jdXJyZW50TWFpbnRleHQuc3Vic3RyaW5nKDAsIDEwMCksXG4gICAgICB9KTtcblxuICAgICAgLy8g5aaC5p6c5rKh5pyJ6Kej5p6Q5YiwIG1haW50ZXh077yM5L2/55So5Y6f5aeL5raI5oGvXG4gICAgICBpZiAoIXRoaXMuY3VycmVudE1haW50ZXh0ICYmIG1lc3NhZ2VDb250ZW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudE1haW50ZXh0ID0gbWVzc2FnZUNvbnRlbnQ7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCfwn5OWIOS7juacgOaWsOalvOWxguWKoOi9veWGheWuuTonLCB7XG4gICAgICAgIG1lc3NhZ2VfaWQ6IGxhc3RNZXNzYWdlLm1lc3NhZ2VfaWQsXG4gICAgICAgIHJvbGU6IGxhc3RNZXNzYWdlLnJvbGUsXG4gICAgICAgIG1haW50ZXh0OiB0aGlzLmN1cnJlbnRNYWludGV4dC5zdWJzdHJpbmcoMCwgNTApICsgJy4uLicsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMuY3VycmVudE9wdGlvbnMsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIOWKoOi9veiBiuWkqea2iOaBr+Wksei0pTonLCBlcnJvcik7XG4gICAgICB0aGlzLmN1cnJlbnRNYWludGV4dCA9ICfliqDovb3mlYXkuovlhoXlrrnml7blh7rplJkuLi4nO1xuICAgICAgdGhpcy5jdXJyZW50T3B0aW9ucyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rmqKHmgIHmoYZIVE1M57uT5p6EXG4gICAqL1xuICBwdWJsaWMgY3JlYXRlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbC5jbGFzc05hbWUgPSAnbWhqZy1tb2RhbCBtaGpnLW1vZGFsLXN0b3J5JztcbiAgICBtb2RhbC5pbm5lckhUTUwgPSB0aGlzLmdldE1vZGFsSFRNTCgpO1xuICAgIHRoaXMuZWxlbWVudCA9IG1vZGFsO1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIHJldHVybiBtb2RhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmqKHmgIHmoYZIVE1MXG4gICAqL1xuICBwcml2YXRlIGdldE1vZGFsSFRNTCgpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5pc09wZW4pIHJldHVybiAnJztcblxuICAgIC8vIOazqOaEj++8mmN1cnJlbnRNYWludGV4dCDlj6/og73lt7Lnu4/mmK/moLzlvI/ljJblkI7nmoRIVE1M77yI5aaC5p6c5L2/55So5LqGZm9ybWF0QXNUYXZlcm5SZWdleGVkU3RyaW5n77yJXG4gICAgLy8g5oiR5Lus6ZyA6KaB5qOA5p+l5piv5ZCm5pivSFRNTOagvOW8j++8jOWmguaenOaYr+WImeebtOaOpeS9v+eUqO+8jOWQpuWImeeUqHBhcnNlUmljaFRleHTlpITnkIZcbiAgICBsZXQgcGFyc2VkTWFpbnRleHQ6IHN0cmluZztcbiAgICBpZiAodGhpcy5jdXJyZW50TWFpbnRleHQuaW5jbHVkZXMoJzwnKSAmJiB0aGlzLmN1cnJlbnRNYWludGV4dC5pbmNsdWRlcygnPicpKSB7XG4gICAgICAvLyDnnIvotbfmnaXlt7Lnu4/mmK9IVE1M5qC85byP77yM55u05o6l5L2/55SoXG4gICAgICBwYXJzZWRNYWludGV4dCA9IHRoaXMuY3VycmVudE1haW50ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDnuq/mlofmnKzvvIzkvb/nlKhwYXJzZVJpY2hUZXh05aSE55CGXG4gICAgICBwYXJzZWRNYWludGV4dCA9IHBhcnNlUmljaFRleHQodGhpcy5jdXJyZW50TWFpbnRleHQpO1xuICAgIH1cblxuICAgIC8vIOeUn+aIkOmAiemhueaMiemSrkhUTUxcbiAgICBjb25zdCBvcHRpb25zSFRNTCA9IHRoaXMuY3JlYXRlT3B0aW9uc0hUTUwoKTtcblxuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYmFja2Ryb3BcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC13aW5kb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXItbGVmdFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWljb25cIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmdldEJvb2tJY29uKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC10aXRsZS1ncm91cFwiPlxuICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtb2RhbC10aXRsZVwiPuWRvei/kOmtlOWFuDwvaDI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwibW9kYWwtc3VidGl0bGVcIj7nvJbnu4fkvaDnmoTmlYXkuos8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyLWFjdGlvbnNcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtb2RhbC1hY3Rpb24tYnRuXCIgaWQ9XCJyZXZpZXctc3RvcnktYnRuXCIgYXJpYS1sYWJlbD1cIuWbnumhvuaVheS6i1wiIHRpdGxlPVwi5Zue6aG+5pWF5LqLXCI+XG4gICAgICAgICAgICAgICR7dGhpcy5nZXRSZXZpZXdJY29uKCl9XG4gICAgICAgICAgICAgIDxzcGFuPuWbnumhvuaVheS6izwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWFjdGlvbi1idG5cIiBpZD1cImxvYWQtc2F2ZS1idG5cIiBhcmlhLWxhYmVsPVwi6K+75qGjXCIgdGl0bGU9XCLor7vmoaNcIj5cbiAgICAgICAgICAgICAgJHt0aGlzLmdldExvYWRJY29uKCl9XG4gICAgICAgICAgICAgIDxzcGFuPuivu+ahozwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm1vZGFsLWNsb3NlXCIgYXJpYS1sYWJlbD1cIuWFs+mXrVwiPlxuICAgICAgICAgICAgICDlhbPpl63prZTlhbhcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIiBpZD1cInN0b3J5LWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3RvcnktbWFpbnRleHRcIj5cbiAgICAgICAgICAgICR7cGFyc2VkTWFpbnRleHR9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgJHt0aGlzLmlzR2VuZXJhdGluZyA/IHRoaXMuY3JlYXRlR2VuZXJhdGluZ092ZXJsYXkoKSA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLW9wdGlvbnNcIiBpZD1cInN0b3J5LW9wdGlvbnNcIj5cbiAgICAgICAgICAke29wdGlvbnNIVE1MfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWlucHV0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgaWQ9XCJzdG9yeS1pbnB1dFwiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5o+P6L+w5L2g55qE6KGM5YqoLi4uXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJzdG9yeS1pbnB1dFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgaWQ9XCJzdG9yeS1zZW5kXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJzdG9yeS1zZW5kLWJ0blwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICR7dGhpcy5nZXRTZW5kSWNvbigpfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rpgInpobnmjInpkq5IVE1MXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZU9wdGlvbnNIVE1MKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuY3VycmVudE9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMuY3VycmVudE9wdGlvbnNcbiAgICAgIC5tYXAoKG9wdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVGV4dCA9IG9wdGlvbi50cmltKCk7XG4gICAgICAgIC8vIOajgOafpeaYr+WQpuaYr0hUTUzmoLzlvI/vvIzlpoLmnpzmmK/liJnnm7TmjqXkvb/nlKjvvIzlkKbliJnnlKhwYXJzZVJpY2hUZXh05aSE55CGXG4gICAgICAgIGxldCBwYXJzZWRPcHRpb246IHN0cmluZztcbiAgICAgICAgaWYgKG9wdGlvblRleHQuaW5jbHVkZXMoJzwnKSAmJiBvcHRpb25UZXh0LmluY2x1ZGVzKCc+JykpIHtcbiAgICAgICAgICAvLyDnnIvotbfmnaXlt7Lnu4/mmK9IVE1M5qC85byP77yM55u05o6l5L2/55SoXG4gICAgICAgICAgcGFyc2VkT3B0aW9uID0gb3B0aW9uVGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDnuq/mlofmnKzvvIzkvb/nlKhwYXJzZVJpY2hUZXh05aSE55CGXG4gICAgICAgICAgcGFyc2VkT3B0aW9uID0gcGFyc2VSaWNoVGV4dChvcHRpb25UZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBjbGFzcz1cInN0b3J5LW9wdGlvbi1idG5cIiBcbiAgICAgICAgICBkYXRhLW9wdGlvbj1cIiR7b3B0aW9uVGV4dC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyl9XCJcbiAgICAgICAgICBkYXRhLW9wdGlvbi1pbmRleD1cIiR7aW5kZXh9XCJcbiAgICAgICAgPlxuICAgICAgICAgICR7cGFyc2VkT3B0aW9ufVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIGA7XG4gICAgICB9KVxuICAgICAgLmpvaW4oJycpO1xuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJzdG9yeS1vcHRpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAke2J1dHRvbnN9XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluWbvuagh1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRCb29rSWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNNCAxOS41di0xNUEyLjUgMi41IDAgMCAxIDYuNSAySDIwdjIwSDYuNWEyLjUgMi41IDAgMCAxIDAtNUgyMFwiLz48L3N2Zz4nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDbG9zZUljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48bGluZSB4MT1cIjE4XCIgeTE9XCI2XCIgeDI9XCI2XCIgeTI9XCIxOFwiLz48bGluZSB4MT1cIjZcIiB5MT1cIjZcIiB4Mj1cIjE4XCIgeTI9XCIxOFwiLz48L3N2Zz4nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZW5kSWNvbigpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJtMjIgMi03IDIwLTQtOS05LTRaXCIvPjxwYXRoIGQ9XCJNMjIgMiAxMSAxM1wiLz48L3N2Zz4nO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRSZXZpZXdJY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCI+PHBhdGggZD1cIk0zIDEyYTkgOSAwIDAgMSA5LTkgOS43NSA5Ljc1IDAgMCAxIDYuNzQgMi43NEwyMSA4XCIvPjxwYXRoIGQ9XCJNMjEgM3Y1aC01XCIvPjxwYXRoIGQ9XCJNMjEgMTJhOSA5IDAgMCAxLTkgOSA5Ljc1IDkuNzUgMCAwIDEtNi43NC0yLjc0TDMgMTZcIi8+PHBhdGggZD1cIk0zIDIxdi01aDVcIi8+PC9zdmc+JztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TG9hZEljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMThcIiBoZWlnaHQ9XCIxOFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTIxIDE1djRhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJ2LTRcIi8+PHBvbHlsaW5lIHBvaW50cz1cIjcgMTAgMTIgMTUgMTcgMTBcIi8+PGxpbmUgeDE9XCIxMlwiIHkxPVwiMTVcIiB4Mj1cIjEyXCIgeTI9XCIzXCIvPjwvc3ZnPic7XG4gIH1cblxuICAvKipcbiAgICog57uR5a6a5LqL5Lu2XG4gICAqL1xuICBwcml2YXRlIGJpbmRFdmVudHMoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmVsZW1lbnQpIHJldHVybjtcblxuICAgIC8vIOWFiOenu+mZpOaJgOacieaXp+eahOS6i+S7tuebkeWQrOWZqO+8jOmYsuatoumHjeWkjee7keWumlxuICAgICQodGhpcy5lbGVtZW50KS5vZmYoJ2NsaWNrJywgJy5tb2RhbC1iYWNrZHJvcCwgLm1vZGFsLWNsb3NlJyk7XG4gICAgJCh0aGlzLmVsZW1lbnQpLm9mZignY2xpY2snLCAnLnN0b3J5LW9wdGlvbi1idG4nKTtcbiAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCdjbGljaycsICcjc3Rvcnktc2VuZCcpO1xuICAgICQodGhpcy5lbGVtZW50KS5vZmYoJ2NsaWNrJywgJyNyZXZpZXctc3RvcnktYnRuJyk7XG4gICAgJCh0aGlzLmVsZW1lbnQpLm9mZignY2xpY2snLCAnI2xvYWQtc2F2ZS1idG4nKTtcbiAgICAkKHRoaXMuZWxlbWVudCkub2ZmKCdrZXlkb3duJywgJyNzdG9yeS1pbnB1dCcpO1xuXG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcubW9kYWwtYmFja2Ryb3AsIC5tb2RhbC1jbG9zZScsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIOWbnumhvuaVheS6i+aMiemSrlxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnI3Jldmlldy1zdG9yeS1idG4nLCAoZSkgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuc2hvd1Jldmlld1N0b3J5KCk7XG4gICAgfSk7XG5cbiAgICAvLyDor7vmoaPmjInpkq5cbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2NsaWNrJywgJyNsb2FkLXNhdmUtYnRuJywgKGUpID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLnNob3dMb2FkU2F2ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8g6YCJ6aG55oyJ6ZKu54K55Ye75LqL5Lu2XG4gICAgJCh0aGlzLmVsZW1lbnQpLm9uKCdjbGljaycsICcuc3Rvcnktb3B0aW9uLWJ0bicsIGFzeW5jIGUgPT4ge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8g6Ziy5q2i5LqL5Lu25YaS5rOhXG4gICAgICBjb25zdCBidXR0b24gPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICBcbiAgICAgIC8vIOmYsuatoumHjeWkjeeCueWHu1xuICAgICAgaWYgKHRoaXMuaXNHZW5lcmF0aW5nIHx8IGJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG9wdGlvblRleHQgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbicpO1xuICAgICAgaWYgKG9wdGlvblRleHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVPcHRpb25DbGljayhvcHRpb25UZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOWPkemAgeaMiemSrueCueWHu+S6i+S7tlxuICAgICQodGhpcy5lbGVtZW50KS5vbignY2xpY2snLCAnI3N0b3J5LXNlbmQnLCBlID0+IHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIOmYsuatouS6i+S7tuWGkuazoVxuICAgICAgdGhpcy5oYW5kbGVTZW5kKCk7XG4gICAgfSk7XG5cbiAgICAvLyDovpPlhaXmoYblm57ovabkuovku7ZcbiAgICAkKHRoaXMuZWxlbWVudCkub24oJ2tleWRvd24nLCAnI3N0b3J5LWlucHV0JywgZSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmhhbmRsZVNlbmQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlpITnkIbpgInpobnngrnlh7tcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlT3B0aW9uQ2xpY2sob3B0aW9uVGV4dDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8g6Ziy5q2i6YeN5aSN54K55Ye7XG4gICAgaWYgKHRoaXMuaXNHZW5lcmF0aW5nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDmraPlnKjnlJ/miJDkuK3vvIzlv73nlaXph43lpI3ngrnlh7snKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGhhbmRsZVVuaWZpZWRSZXF1ZXN0IH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL3VuaWZpZWRSZXF1ZXN0SGFuZGxlcicpO1xuICAgIGNvbnN0IHsgaGFuZGxlVGFiQ2hhbmdlIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3V0aWxzL3RhYk1hbmFnZXInKTtcbiAgICBjb25zdCB7IEdhbWVUYWIgfSA9IGF3YWl0IGltcG9ydCgnLi4vLi4vdHlwZXMnKTtcblxuICAgIC8vIOeri+WNs+iuvue9rueUn+aIkOeKtuaAge+8jOmYsuatoumHjeWkjeeCueWHu1xuICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmRpc2FibGVPcHRpb25zKCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8g56Gu5L+d5bey57uP5YiH5o2i5YiwU3RvcnnpobXpnaJcbiAgICAgIGhhbmRsZVRhYkNoYW5nZShHYW1lVGFiLlNUT1JZKTtcbiAgICAgIHRoaXMuc2hvdygpO1xuXG4gICAgICBhd2FpdCBoYW5kbGVVbmlmaWVkUmVxdWVzdChcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdvcHRpb24nLFxuICAgICAgICAgIGNvbnRlbnQ6IG9wdGlvblRleHQsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvblN3aXRjaFRvU3Rvcnk6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIOW3sue7j+WcqFN0b3J56aG16Z2i77yM5LiN6ZyA6KaB5YaN5qyh5YiH5o2iXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlZnJlc2hTdG9yeUlmT3BlbjogKCkgPT4ge1xuICAgICAgICAgICAgLy8g5aaC5p6c6a2U5YW45bey5omT5byA77yM5Yi35paw5pi+56S6XG4gICAgICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkRpc2FibGVPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVPcHRpb25zKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblNob3dHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3dHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkhpZGVHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGVHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgICB0aGlzLmlzR2VuZXJhdGluZyA9IGZhbHNlOyAvLyDnlJ/miJDlrozmiJDlkI7ph43nva7nirbmgIFcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRW5hYmxlT3B0aW9uczogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yOiAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOmAiemhueWkhOeQhuWksei0pTonLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLmlzR2VuZXJhdGluZyA9IGZhbHNlOyAvLyDlh7rplJnml7bph43nva7nirbmgIFcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlT3B0aW9ucygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25SZWZyZXNoU3Rvcnk6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg6YCJ6aG55aSE55CG5byC5bi4OicsIGVycm9yKTtcbiAgICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gZmFsc2U7IC8vIOW8guW4uOaXtumHjee9rueKtuaAgVxuICAgICAgdGhpcy5lbmFibGVPcHRpb25zKCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICog5aSE55CG5Y+R6YCB5raI5oGv77yI6Ieq55Sx6L6T5YWl77yJXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZVNlbmQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8g6Ziy5q2i6YeN5aSN54K55Ye7XG4gICAgaWYgKHRoaXMuaXNHZW5lcmF0aW5nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDmraPlnKjnlJ/miJDkuK3vvIzlv73nlaXph43lpI3lj5HpgIEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpbnB1dCA9ICQodGhpcy5lbGVtZW50ISkuZmluZCgnI3N0b3J5LWlucHV0JykgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+O1xuICAgIGNvbnN0IHRleHQgPSBpbnB1dC52YWwoKT8udG9TdHJpbmcoKS50cmltKCk7XG5cbiAgICBpZiAoIXRleHQpIHJldHVybjtcblxuICAgIC8vIOeri+WNs+iuvue9rueUn+aIkOeKtuaAge+8jOmYsuatoumHjeWkjeeCueWHu1xuICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmRpc2FibGVPcHRpb25zKCk7XG5cbiAgICAvLyDmuIXnqbrovpPlhaXmoYZcbiAgICBpbnB1dC52YWwoJycpO1xuXG4gICAgY29uc3QgeyBoYW5kbGVVbmlmaWVkUmVxdWVzdCB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy91bmlmaWVkUmVxdWVzdEhhbmRsZXInKTtcbiAgICBjb25zdCB7IGhhbmRsZVRhYkNoYW5nZSB9ID0gYXdhaXQgaW1wb3J0KCcuLi8uLi91dGlscy90YWJNYW5hZ2VyJyk7XG4gICAgY29uc3QgeyBHYW1lVGFiIH0gPSBhd2FpdCBpbXBvcnQoJy4uLy4uL3R5cGVzJyk7XG5cbiAgICB0cnkge1xuICAgICAgLy8g56Gu5L+d5bey57uP5YiH5o2i5YiwU3RvcnnpobXpnaJcbiAgICAgIGhhbmRsZVRhYkNoYW5nZShHYW1lVGFiLlNUT1JZKTtcbiAgICAgIHRoaXMuc2hvdygpO1xuXG4gICAgICBhd2FpdCBoYW5kbGVVbmlmaWVkUmVxdWVzdChcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6ICdjdXN0b20nLFxuICAgICAgICAgIGNvbnRlbnQ6IHRleHQsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBvblN3aXRjaFRvU3Rvcnk6ICgpID0+IHtcbiAgICAgICAgICAgIC8vIOW3sue7j+WcqFN0b3J56aG16Z2i77yM5LiN6ZyA6KaB5YaN5qyh5YiH5o2iXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlZnJlc2hTdG9yeUlmT3BlbjogKCkgPT4ge1xuICAgICAgICAgICAgLy8g5aaC5p6c6a2U5YW45bey5omT5byA77yM5Yi35paw5pi+56S6XG4gICAgICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkRpc2FibGVPcHRpb25zOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVPcHRpb25zKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblNob3dHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNob3dHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkhpZGVHZW5lcmF0aW5nOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGVHZW5lcmF0aW5nKCk7XG4gICAgICAgICAgICB0aGlzLmlzR2VuZXJhdGluZyA9IGZhbHNlOyAvLyDnlJ/miJDlrozmiJDlkI7ph43nva7nirbmgIFcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRW5hYmxlT3B0aW9uczogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVPcHRpb25zKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yOiAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIOWPkemAgea2iOaBr+Wksei0pTonLCBlcnJvcik7XG4gICAgICAgIC8vIOWbnumAgOi+k+WFpeahhuWGheWuuVxuICAgICAgICAgICAgaW5wdXQudmFsKHRleHQpO1xuICAgICAgICAgICAgdGhpcy5pc0dlbmVyYXRpbmcgPSBmYWxzZTsgLy8g5Ye66ZSZ5pe26YeN572u54q25oCBXG4gICAgICAgICAgICB0aGlzLmVuYWJsZU9wdGlvbnMoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uUmVmcmVzaFN0b3J5OiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIOWPkemAgea2iOaBr+W8guW4uDonLCBlcnJvcik7XG4gICAgICAvLyDlm57pgIDovpPlhaXmoYblhoXlrrlcbiAgICAgIGlucHV0LnZhbCh0ZXh0KTtcbiAgICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gZmFsc2U7IC8vIOW8guW4uOaXtumHjee9rueKtuaAgVxuICAgICAgdGhpcy5lbmFibGVPcHRpb25zKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOa7muWKqOWIsOW6lemDqFxuICAgKi9cbiAgcHJpdmF0ZSBzY3JvbGxUb0JvdHRvbSgpOiB2b2lkIHtcbiAgICBjb25zdCBjb250ZW50ID0gJCh0aGlzLmVsZW1lbnQhKS5maW5kKCcubW9kYWwtY29udGVudCcpO1xuICAgIGlmIChjb250ZW50Lmxlbmd0aCkge1xuICAgICAgY29udGVudFswXS5zY3JvbGxUb3AgPSBjb250ZW50WzBdLnNjcm9sbEhlaWdodDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6YeN5paw5riy5p+TXG4gICAqL1xuICBwcml2YXRlIHJlbmRlcigpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuZWxlbWVudCkgcmV0dXJuO1xuICAgIC8vIOWFiOenu+mZpOaXp+S6i+S7tu+8jOmYsuatoumHjeWkjee7keWumlxuICAgICQodGhpcy5lbGVtZW50KS5vZmYoKTtcbiAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5nZXRNb2RhbEhUTUwoKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliLfmlrDlhoXlrrnvvIjku47ogYrlpKnmtojmga/ph43mlrDliqDovb3vvIlcbiAgICog5re75Yqg6Ziy5oqW77yM6YG/5YWN6aKR57mB5Yi35pawXG4gICAqL1xuICBwcml2YXRlIHJlZnJlc2hUaW1lcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyByZWZyZXNoKCk6IHZvaWQge1xuICAgIC8vIOmYsuaKlu+8muWmguaenOato+WcqOeUn+aIkOS4re+8jOW7tui/n+WIt+aWsFxuICAgIGlmICh0aGlzLmlzR2VuZXJhdGluZykge1xuICAgICAgLy8g5riF6Zmk5LmL5YmN55qE5a6a5pe25ZmoXG4gICAgICBpZiAodGhpcy5yZWZyZXNoVGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVmcmVzaFRpbWVyKTtcbiAgICAgIH1cbiAgICAgIC8vIOW7tui/n+WIt+aWsO+8jOetieW+heeUn+aIkOWujOaIkFxuICAgICAgdGhpcy5yZWZyZXNoVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB0aGlzLnJlZnJlc2hUaW1lciA9IG51bGw7XG4gICAgICB9LCAzMDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIOWKoOi9veacgOaWsOa2iOaBr+WGheWuuVxuICAgIHRoaXMubG9hZEZyb21DaGF0TWVzc2FnZXMoKTtcbiAgICBcbiAgICAvLyDlpoLmnpzprZTlhbjmiZPlvIDvvIzph43mlrDmuLLmn5NcbiAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgdGhpcy5zY3JvbGxUb0JvdHRvbSgpO1xuICAgICAgY29uc29sZS5sb2coJ+KchSDprZTlhbjlhoXlrrnlt7LliLfmlrAnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5qOA5p+l6a2U5YW45piv5ZCm5omT5byAXG4gICAqL1xuICBwdWJsaWMgZ2V0SXNPcGVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzT3BlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiDmmL7npLrmqKHmgIHmoYZcbiAgICovXG4gIHB1YmxpYyBzaG93KCk6IHZvaWQge1xuICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcblxuICAgIC8vIOWKoOi9veacgOaWsOWGheWuuVxuICAgIHRoaXMubG9hZEZyb21DaGF0TWVzc2FnZXMoKTtcblxuICAgIC8vIOiuvue9rua2iOaBr+ebkeWQrOWZqO+8iOWPquiuvue9ruS4gOasoe+8iVxuICAgIHRoaXMuc2V0dXBNZXNzYWdlTGlzdGVuZXIoKTtcblxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIC8vIOWFiOenu+mZpOaXp+S6i+S7tu+8jOWGjemHjeaWsOe7keWumlxuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xuICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IHRoaXMuZ2V0TW9kYWxIVE1MKCk7XG4gICAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgICAgICQodGhpcy5lbGVtZW50KS5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgICB0aGlzLnNjcm9sbFRvQm90dG9tKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rua2iOaBr+ebkeWQrOWZqFxuICAgKiDpmLLmraLph43lpI3ms6jlhoznm5HlkKzlmahcbiAgICovXG4gIHByaXZhdGUgc2V0dXBNZXNzYWdlTGlzdGVuZXIoKTogdm9pZCB7XG4gICAgLy8g5aaC5p6c5bey57uP6K6+572u6L+H55uR5ZCs5Zmo77yM5LiN5YaN6YeN5aSN6K6+572uXG4gICAgLy8g5rOo5oSP77yaZXZlbnRPbiDlj6/og73kuI3mlK/mjIHnp7vpmaTvvIzmiYDku6Xkvb/nlKjmoIflv5fkvY3pmLLmraLph43lpI3ms6jlhoxcbiAgICBpZiAodGhpcy5pc01lc3NhZ2VMaXN0ZW5lclNldHVwKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIOa2iOaBr+ebkeWQrOWZqOW3suiuvue9ru+8jOi3s+i/h+mHjeWkjeazqOWGjCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNNZXNzYWdlTGlzdGVuZXJTZXR1cCA9IHRydWU7XG5cbiAgICAvLyDnm5HlkKzmtojmga/mjqXmlLblkozmm7TmlrDkuovku7ZcbiAgICAvLyDms6jmhI/vvJrnlLHkuo4gZXZlbnRPbiDlj6/og73kuI3mlK/mjIHnp7vpmaTvvIzov5nkupvnm5HlkKzlmajkvJrkuIDnm7TlrZjlnKhcbiAgICAvLyDkvYbpgJrov4fmoIflv5fkvY3noa7kv53lj6rms6jlhozkuIDmrKFcbiAgICBldmVudE9uKHRhdmVybl9ldmVudHMuTUVTU0FHRV9SRUNFSVZFRCwgKG1lc3NhZ2VfaWQ6IG51bWJlcikgPT4ge1xuICAgICAgLy8g5qOA5p+l5raI5oGv5piv5ZCm5YyF5ZCrIG1haW50ZXh0IOWSjCBvcHRpb25cbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZ2V0Q2hhdE1lc3NhZ2VzKC0xKTtcbiAgICAgIGNvbnN0IGxhdGVzdE1lc3NhZ2UgPSBtZXNzYWdlcy5maW5kKG0gPT4gbS5tZXNzYWdlX2lkID09PSBtZXNzYWdlX2lkKTtcbiAgICAgIFxuICAgICAgaWYgKGxhdGVzdE1lc3NhZ2UgJiYgbGF0ZXN0TWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50Jykge1xuICAgICAgICBjb25zdCBoYXNNYWludGV4dCA9IC88bWFpbnRleHQ+W1xcc1xcU10qPzxcXC9tYWludGV4dD4vaS50ZXN0KGxhdGVzdE1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIGNvbnN0IGhhc09wdGlvbiA9IC88b3B0aW9uPltcXHNcXFNdKj88XFwvb3B0aW9uPi9pLnRlc3QobGF0ZXN0TWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChoYXNNYWludGV4dCAmJiBoYXNPcHRpb24pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TqCDmlLbliLDljIXlkKsgbWFpbnRleHQg5ZKMIG9wdGlvbiDnmoTmlrDmtojmga/vvIzliLfmlrDprZTlhbg6JywgbWVzc2FnZV9pZCk7XG4gICAgICAgICAgLy8g5bu26L+f5LiA5LiL77yM56Gu5L+d5raI5oGv5bey57uP5a6M5YWo5YaZ5YWlXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6gg5pS25Yiw5paw5raI5oGv77yM5L2G5LiN5YyF5ZCrIG1haW50ZXh0IOWSjCBvcHRpb27vvIzot7Pov4fliLfmlrA6JywgbWVzc2FnZV9pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGV2ZW50T24odGF2ZXJuX2V2ZW50cy5NRVNTQUdFX1VQREFURUQsIChtZXNzYWdlX2lkOiBudW1iZXIpID0+IHtcbiAgICAgIC8vIOajgOafpea2iOaBr+aYr+WQpuWMheWQqyBtYWludGV4dCDlkowgb3B0aW9uXG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGdldENoYXRNZXNzYWdlcygtMSk7XG4gICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZSA9IG1lc3NhZ2VzLmZpbmQobSA9PiBtLm1lc3NhZ2VfaWQgPT09IG1lc3NhZ2VfaWQpO1xuICAgICAgXG4gICAgICBpZiAodXBkYXRlZE1lc3NhZ2UgJiYgdXBkYXRlZE1lc3NhZ2Uucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgY29uc3QgaGFzTWFpbnRleHQgPSAvPG1haW50ZXh0PltcXHNcXFNdKj88XFwvbWFpbnRleHQ+L2kudGVzdCh1cGRhdGVkTWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgY29uc3QgaGFzT3B0aW9uID0gLzxvcHRpb24+W1xcc1xcU10qPzxcXC9vcHRpb24+L2kudGVzdCh1cGRhdGVkTWVzc2FnZS5tZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChoYXNNYWludGV4dCAmJiBoYXNPcHRpb24pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDmtojmga/lt7Lmm7TmlrDkuJTljIXlkKsgbWFpbnRleHQg5ZKMIG9wdGlvbu+8jOWIt+aWsOmtlOWFuDonLCBtZXNzYWdlX2lkKTtcbiAgICAgICAgICAvLyDlu7bov5/kuIDkuIvvvIznoa7kv53mtojmga/lt7Lnu4/lrozlhajmm7TmlrBcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCDmtojmga/lt7Lmm7TmlrDvvIzkvYbkuI3ljIXlkKsgbWFpbnRleHQg5ZKMIG9wdGlvbu+8jOi3s+i/h+WIt+aWsDonLCBtZXNzYWdlX2lkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g5rOo5oSP77yaR0VORVJBVElPTl9FTkRFRCDkuovku7blj6/og73kuI3lrZjlnKjvvIznp7vpmaTor6Xnm5HlkKxcbiAgICAvLyDmtojmga/mjqXmlLblkozmm7TmlrDkuovku7blt7Lnu4/otrPlpJ/lpITnkIbnlJ/miJDlrozmiJDnmoTmg4XlhrVcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rnlJ/miJDkuK3mj5DnpLrmoYZcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlR2VuZXJhdGluZ092ZXJsYXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cImdlbmVyYXRpbmctb3ZlcmxheVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ2VuZXJhdGluZy1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImdlbmVyYXRpbmctc3Bpbm5lclwiPjwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJnZW5lcmF0aW5nLXRleHRcIj7liafmg4XmraPlnKjnlJ/miJA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuueUn+aIkOS4reaPkOekuuahhlxuICAgKi9cbiAgcHVibGljIHNob3dHZW5lcmF0aW5nKCk6IHZvaWQge1xuICAgIHRoaXMuaXNHZW5lcmF0aW5nID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5lbGVtZW50ICYmIHRoaXMuaXNPcGVuKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gJCh0aGlzLmVsZW1lbnQpLmZpbmQoJyNzdG9yeS1jb250ZW50Jyk7XG4gICAgICBpZiAoY29udGVudC5sZW5ndGgpIHtcbiAgICAgICAgY29udGVudC5hcHBlbmQodGhpcy5jcmVhdGVHZW5lcmF0aW5nT3ZlcmxheSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog6ZqQ6JeP55Sf5oiQ5Lit5o+Q56S65qGGXG4gICAqL1xuICBwdWJsaWMgaGlkZUdlbmVyYXRpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5pc0dlbmVyYXRpbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmdlbmVyYXRpbmctb3ZlcmxheScpLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDnpoHnlKjmiYDmnInpgInpobnmjInpkq5cbiAgICovXG4gIHB1YmxpYyBkaXNhYmxlT3B0aW9ucygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLnN0b3J5LW9wdGlvbi1idG4nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlkK/nlKjmiYDmnInpgInpobnmjInpkq5cbiAgICovXG4gIHB1YmxpYyBlbmFibGVPcHRpb25zKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICQodGhpcy5lbGVtZW50KS5maW5kKCcuc3Rvcnktb3B0aW9uLWJ0bicpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlhbPpl63mqKHmgIHmoYZcbiAgICovXG4gIHB1YmxpYyBjbG9zZSh0cmlnZ2VyQ2FsbGJhY2s6IGJvb2xlYW4gPSB0cnVlKTogdm9pZCB7XG4gICAgdGhpcy5pc0dlbmVyYXRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgLy8g56e76Zmk5raI5oGv55uR5ZCs5Zmo77yI5aaC5p6c5pSv5oyB55qE6K+d77yJXG4gICAgLy8g5rOo5oSP77yaZXZlbnRPbiDlj6/og73kuI3mlK/mjIHnp7vpmaTvvIzov5nph4zmmoLml7bkv53nlZlcblxuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICQodGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgICAkKHRoaXMuZWxlbWVudCkuZmluZCgnLmdlbmVyYXRpbmctb3ZlcmxheScpLnJlbW92ZSgpO1xuICAgIH1cbiAgICBpZiAodHJpZ2dlckNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmNhbGxiYWNrcy5vbkNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOaYvuekuuWbnumhvuaVheS6i+WvueivneahhlxuICAgKi9cbiAgcHJpdmF0ZSBzaG93UmV2aWV3U3RvcnkoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIOiOt+WPluaJgOaciSBhc3Npc3RhbnQg5raI5oGvXG4gICAgICBjb25zdCBsYXN0TWVzc2FnZUlkID0gZ2V0TGFzdE1lc3NhZ2VJZCgpO1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRDaGF0TWVzc2FnZXMoYDAtJHtsYXN0TWVzc2FnZUlkfWAsIHsgcm9sZTogJ2Fzc2lzdGFudCcgfSk7XG4gICAgICBcbiAgICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYWxlcnQoJ+aaguaXoOaVheS6i+WGheWuuScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOaPkOWPluavj+S4qua2iOaBr+eahCBtYWludGV4dFxuICAgICAgY29uc3Qgc3RvcnlJdGVtcyA9IG1lc3NhZ2VzXG4gICAgICAgIC5tYXAobXNnID0+IHtcbiAgICAgICAgICBjb25zdCBtYWludGV4dE1hdGNoID0gbXNnLm1lc3NhZ2UubWF0Y2goLzxtYWludGV4dD4oW1xcc1xcU10qPyk8XFwvbWFpbnRleHQ+L2kpO1xuICAgICAgICAgIGNvbnN0IG1haW50ZXh0ID0gbWFpbnRleHRNYXRjaCA/IG1haW50ZXh0TWF0Y2hbMV0udHJpbSgpIDogJyc7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IG1zZy5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgbWFpbnRleHQ6IG1haW50ZXh0IHx8ICco5peg5YaF5a65KScsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0ubWFpbnRleHQgIT09ICco5peg5YaF5a65KScpO1xuXG4gICAgICBpZiAoc3RvcnlJdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYWxlcnQoJ+aaguaXoOaVheS6i+WGheWuuScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIOWIm+W7uuWvueivneahhiBIVE1MXG4gICAgICBjb25zdCBkaWFsb2dIVE1MID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwicmV2aWV3LXN0b3J5LWRpYWxvZ1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXZpZXctc3RvcnktaGVhZGVyXCI+XG4gICAgICAgICAgICA8aDM+5Zue6aG+5pWF5LqLPC9oMz5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZXZpZXctc3RvcnktY2xvc2VcIj7DlzwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXZpZXctc3RvcnktY29udGVudFwiPlxuICAgICAgICAgICAgJHtzdG9yeUl0ZW1zXG4gICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgKGl0ZW0sIGluZGV4KSA9PiBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXZpZXctc3RvcnktaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXZpZXctc3RvcnktaXRlbS1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmV2aWV3LXN0b3J5LWluZGV4XCI+56ysICR7aW5kZXggKyAxfSDlsYI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJldmlldy1zdG9yeS1pZFwiPua2iOaBryBJRDogJHtpdGVtLm1lc3NhZ2VfaWR9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXZpZXctc3RvcnktbWFpbnRleHRcIj4ke3BhcnNlUmljaFRleHQoaXRlbS5tYWludGV4dCl9PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAuam9pbignJyl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYDtcblxuICAgICAgLy8g5Yib5bu65bm25pi+56S65a+56K+d5qGGXG4gICAgICBjb25zdCBkaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpYWxvZy5jbGFzc05hbWUgPSAncmV2aWV3LXN0b3J5LW92ZXJsYXknO1xuICAgICAgZGlhbG9nLmlubmVySFRNTCA9IGRpYWxvZ0hUTUw7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpYWxvZyk7XG5cbiAgICAgIC8vIOe7keWumuWFs+mXreS6i+S7tlxuICAgICAgJChkaWFsb2cpLm9uKCdjbGljaycsICcucmV2aWV3LXN0b3J5LWNsb3NlLCAucmV2aWV3LXN0b3J5LW92ZXJsYXknLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT09IGRpYWxvZyB8fCAkKGUudGFyZ2V0KS5jbG9zZXN0KCcucmV2aWV3LXN0b3J5LWNsb3NlJykubGVuZ3RoKSB7XG4gICAgICAgICAgJChkaWFsb2cpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8g54K55Ye75a+56K+d5qGG5YaF5a655pe25LiN5YWz6ZetXG4gICAgICAkKGRpYWxvZykub24oJ2NsaWNrJywgJy5yZXZpZXctc3RvcnktZGlhbG9nJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5pi+56S65Zue6aG+5pWF5LqL5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIGFsZXJ0KCfmmL7npLrlm57pob7mlYXkuovlpLHotKUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5pi+56S66K+75qGj5a+56K+d5qGGXG4gICAqL1xuICBwcml2YXRlIHNob3dMb2FkU2F2ZSgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgLy8g6I635Y+W5omA5pyJ6Z2e546p5a625qW85bGC55qEIGFzc2lzdGFudCDmtojmga9cbiAgICAgIGNvbnN0IGxhc3RNZXNzYWdlSWQgPSBnZXRMYXN0TWVzc2FnZUlkKCk7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IGdldENoYXRNZXNzYWdlcyhgMC0ke2xhc3RNZXNzYWdlSWR9YCwgeyByb2xlOiAnYXNzaXN0YW50JyB9KTtcblxuICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhbGVydCgn5pqC5peg5a2Y5qGj54K5Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g5o+Q5Y+W5q+P5Liq5raI5oGv55qEIHN1bVxuICAgICAgY29uc3Qgc2F2ZUl0ZW1zID0gbWVzc2FnZXNcbiAgICAgICAgLm1hcChtc2cgPT4ge1xuICAgICAgICAgIGNvbnN0IHN1bU1hdGNoID0gbXNnLm1lc3NhZ2UubWF0Y2goLzxzdW0+KFtcXHNcXFNdKj8pPFxcL3N1bT4vaSk7XG4gICAgICAgICAgY29uc3Qgc3VtID0gc3VtTWF0Y2ggPyBzdW1NYXRjaFsxXS50cmltKCkgOiAnJztcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZV9pZDogbXNnLm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICBzdW06IHN1bSB8fCAnKOaXoOaRmOimgSknLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtLnN1bSAhPT0gJyjml6DmkZjopoEpJyk7XG5cbiAgICAgIGlmIChzYXZlSXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGFsZXJ0KCfmmoLml6DlrZjmoaPngrknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyDliJvlu7rlr7nor53moYYgSFRNTFxuICAgICAgY29uc3QgZGlhbG9nSFRNTCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImxvYWQtc2F2ZS1kaWFsb2dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZC1zYXZlLWhlYWRlclwiPlxuICAgICAgICAgICAgPGgzPuivu+ahozwvaDM+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibG9hZC1zYXZlLWNsb3NlXCI+w5c8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZC1zYXZlLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICR7c2F2ZUl0ZW1zXG4gICAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAgKGl0ZW0sIGluZGV4KSA9PiBgXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsb2FkLXNhdmUtaXRlbVwiIGRhdGEtbWVzc2FnZS1pZD1cIiR7aXRlbS5tZXNzYWdlX2lkfVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkLXNhdmUtc3VtXCI+JHtwYXJzZVJpY2hUZXh0KGl0ZW0uc3VtKX08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZC1zYXZlLWlkXCI+5raI5oGvIElEOiAke2l0ZW0ubWVzc2FnZV9pZH08L2Rpdj5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBgLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC5qb2luKCcnKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuXG4gICAgICAvLyDliJvlu7rlubbmmL7npLrlr7nor53moYZcbiAgICAgIGNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZGlhbG9nLmNsYXNzTmFtZSA9ICdsb2FkLXNhdmUtb3ZlcmxheSc7XG4gICAgICBkaWFsb2cuaW5uZXJIVE1MID0gZGlhbG9nSFRNTDtcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcblxuICAgICAgLy8g57uR5a6a5YWz6Zet5LqL5Lu2XG4gICAgICAkKGRpYWxvZykub24oJ2NsaWNrJywgJy5sb2FkLXNhdmUtY2xvc2UsIC5sb2FkLXNhdmUtb3ZlcmxheScsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLnRhcmdldCA9PT0gZGlhbG9nIHx8ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5sb2FkLXNhdmUtY2xvc2UnKS5sZW5ndGgpIHtcbiAgICAgICAgICAkKGRpYWxvZykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyDngrnlh7vlr7nor53moYblhoXlrrnml7bkuI3lhbPpl61cbiAgICAgICQoZGlhbG9nKS5vbignY2xpY2snLCAnLmxvYWQtc2F2ZS1kaWFsb2cnLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIOe7keWumuWtmOaho+mhueeCueWHu+S6i+S7tlxuICAgICAgJChkaWFsb2cpLm9uKCdjbGljaycsICcubG9hZC1zYXZlLWl0ZW0nLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBidXR0b24gPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWVzc2FnZS1pZCcpO1xuXG4gICAgICAgIGlmICghbWVzc2FnZUlkKSByZXR1cm47XG5cbiAgICAgICAgLy8g56Gu6K6k5a+56K+d5qGGXG4gICAgICAgIGNvbnN0IGNvbmZpcm1lZCA9IGNvbmZpcm0oJ+ehruiupOimgeivu+aho+WQl++8n+i/meS8muWbnuWIsOW9k+aXtueahOaVheS6i+iKgueCue+8jOW5tuWIoOmZpOS5i+WQjueahOaJgOacieaVheS6i+S/oeaBrycpO1xuICAgICAgICBpZiAoIWNvbmZpcm1lZCkgcmV0dXJuO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8g5omn6KGM6K+75qGj5ZG95LukXG4gICAgICAgICAgYXdhaXQgdHJpZ2dlclNsYXNoKGAvYnJhbmNoLWNyZWF0ZSAke21lc3NhZ2VJZH1gKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOivu+aho+aIkOWKn++8jOa2iOaBryBJRDonLCBtZXNzYWdlSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIOWFs+mXreWvueivneahhlxuICAgICAgICAgICQoZGlhbG9nKS5yZW1vdmUoKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyDliLfmlrDprZTlhbhcbiAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwg6K+75qGj5aSx6LSlOicsIGVycm9yKTtcbiAgICAgICAgICBhbGVydCgn6K+75qGj5aSx6LSlOiAnICsgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIOaYvuekuuivu+aho+Wksei0pTonLCBlcnJvcik7XG4gICAgICBhbGVydCgn5pi+56S66K+75qGj5aSx6LSlJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOmUgOavgee7hOS7tlxuICAgKi9cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgJCh0aGlzLmVsZW1lbnQpLm9mZigpO1xuICAgICAgJCh0aGlzLmVsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/components/modals/StoryModal.ts\n\n}');
  },
  "./src/mhjg/index.ts": 
  /*!***************************!*\
  !*** ./src/mhjg/index.ts ***!
  \***************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleTabChange: () => (/* binding */ handleTabChange)\n/* harmony export */ });\n/* harmony import */ var _components_Dashboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/Dashboard */ \"./src/mhjg/components/Dashboard.ts\");\n/* harmony import */ var _components_Dashboard_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/Dashboard.scss */ \"./src/mhjg/components/Dashboard.scss\");\n/* harmony import */ var _components_modals_BuildModal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/modals/BuildModal */ \"./src/mhjg/components/modals/BuildModal.ts\");\n/* harmony import */ var _components_modals_BuildModal_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/modals/BuildModal.scss */ \"./src/mhjg/components/modals/BuildModal.scss\");\n/* harmony import */ var _components_modals_GuestsModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/modals/GuestsModal */ \"./src/mhjg/components/modals/GuestsModal.ts\");\n/* harmony import */ var _components_modals_GuestsModal_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/modals/GuestsModal.scss */ \"./src/mhjg/components/modals/GuestsModal.scss\");\n/* harmony import */ var _components_modals_StaffModal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/modals/StaffModal */ \"./src/mhjg/components/modals/StaffModal.ts\");\n/* harmony import */ var _components_modals_StaffModal_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/modals/StaffModal.scss */ \"./src/mhjg/components/modals/StaffModal.scss\");\n/* harmony import */ var _components_modals_StoryModal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/modals/StoryModal */ \"./src/mhjg/components/modals/StoryModal.ts\");\n/* harmony import */ var _components_modals_StoryModal_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/modals/StoryModal.scss */ \"./src/mhjg/components/modals/StoryModal.scss\");\n/* harmony import */ var _components_Navigation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/Navigation */ \"./src/mhjg/components/Navigation.ts\");\n/* harmony import */ var _components_Navigation_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/Navigation.scss */ \"./src/mhjg/components/Navigation.scss\");\n/* harmony import */ var _components_NewGameSetup__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/NewGameSetup */ \"./src/mhjg/components/NewGameSetup.ts\");\n/* harmony import */ var _components_NewGameSetup_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/NewGameSetup.scss */ \"./src/mhjg/components/NewGameSetup.scss\");\n/* harmony import */ var _components_SplashScreen__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/SplashScreen */ \"./src/mhjg/components/SplashScreen.ts\");\n/* harmony import */ var _components_SplashScreen_scss__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/SplashScreen.scss */ \"./src/mhjg/components/SplashScreen.scss\");\n/* harmony import */ var _components_StartScreen__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/StartScreen */ \"./src/mhjg/components/StartScreen.ts\");\n/* harmony import */ var _components_StartScreen_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/StartScreen.scss */ \"./src/mhjg/components/StartScreen.scss\");\n/* harmony import */ var _components_TopBar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/TopBar */ \"./src/mhjg/components/TopBar.ts\");\n/* harmony import */ var _components_TopBar_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/TopBar.scss */ \"./src/mhjg/components/TopBar.scss\");\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./styles/main.scss */ \"./src/mhjg/styles/main.scss\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./types */ \"./src/mhjg/types.ts\");\n/* harmony import */ var _utils_gameInitializer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./utils/gameInitializer */ \"./src/mhjg/utils/gameInitializer.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet currentPage = 'start';\nlet startScreen = null;\nlet splashScreen = null;\nlet newGameSetup = null;\nlet confirmDialog = null;\nlet currentGameConfig = null;\n// åº”ç”¨çŠ¶æ€\nlet activeTab = _types__WEBPACK_IMPORTED_MODULE_21__.GameTab.DASHBOARD;\nlet navigation = null;\nlet topBar = null;\nlet dashboard = null;\nlet guestsModal = null;\nlet buildModal = null;\nlet staffModal = null;\nlet storyModal = null;\n// Mock æ•°æ®\nconst INITIAL_GUESTS = [\n    {\n        id: '1',\n        name: 'è‰¾å°”å¾—é‡Œå…‹',\n        race: 'äººç±»',\n        class: 'æµæµªéª‘å£«',\n        mood: 75,\n        gold: 150,\n        avatarUrl: 'https://picsum.photos/100?random=1',\n        request: 'ç»™æˆ‘æ¥ä¸€æ¯æœ€çƒˆçš„é…’ï¼Œè¦èƒ½å¿˜è®°è¿‡å»çš„é‚£ç§ã€‚',\n    },\n    {\n        id: '2',\n        name: 'è¨æ‹‰',\n        race: 'ç²¾çµ',\n        class: 'å·¡æ—å®¢',\n        mood: 40,\n        gold: 80,\n        avatarUrl: 'https://picsum.photos/100?random=2',\n        request: 'è¿™é‡Œçš„ç©ºæ°”å¤ªæµ‘æµŠäº†ï¼Œæœ‰æ–°é²œæ°´æœå—ï¼Ÿ',\n    },\n    {\n        id: '3',\n        name: 'é“œé¡»',\n        race: 'çŸ®äºº',\n        class: 'é“åŒ ',\n        mood: 90,\n        gold: 300,\n        avatarUrl: 'https://picsum.photos/100?random=3',\n        request: 'ç‚‰ç«çƒ§å¾—ä¸é”™ï¼å†åŠ æŠŠåŠ²ï¼',\n    },\n];\n// Mock å‘˜å·¥æ•°æ®\nconst INITIAL_STAFF = [\n    {\n        id: '1',\n        name: 'è‰¾è‰ä¸',\n        race: 'ç²¾çµ',\n        combatClass: 'æ³•å¸ˆ',\n        innRole: 'å‰å°æ¥å¾…',\n        level: 15,\n        appearance: 'é“¶ç™½è‰²é•¿å‘ï¼Œç¢§ç»¿çœ¼çœ¸ï¼Œä¼˜é›…è€Œç¥ç§˜ã€‚',\n        favorability: 85,\n        likes: ['å®‰é™çš„ç¯å¢ƒ', 'é­”æ³•ä¹¦ç±', 'èŠ±è‰èŒ¶'],\n        dislikes: ['åµé—¹', 'ç²—é²çš„å®¢äºº'],\n        avatarUrl: 'https://picsum.photos/100?random=20',\n    },\n    {\n        id: '2',\n        name: 'é“é”¤',\n        race: 'çŸ®äºº',\n        combatClass: 'æˆ˜å£«',\n        innRole: 'å¨å¸ˆ',\n        level: 22,\n        appearance: 'æµ“å¯†çš„çº¢èƒ¡å­ï¼Œç»“å®çš„è‚Œè‚‰ï¼Œæ€»æ˜¯å›´ç€å›´è£™ã€‚',\n        favorability: 70,\n        likes: ['å¥½é…’', 'çƒ¹é¥ª', 'çƒ­é—¹'],\n        dislikes: ['æµªè´¹é£Ÿç‰©', 'æŒ‘å‰”çš„é£Ÿå®¢'],\n        avatarUrl: 'https://picsum.photos/100?random=21',\n    },\n    {\n        id: '3',\n        name: 'å½±',\n        race: 'æš—ç²¾çµ',\n        combatClass: 'ç›—è´¼',\n        innRole: 'ä¿å®‰',\n        level: 18,\n        appearance: 'é»‘è‰²æ–—ç¯·ï¼Œé”åˆ©çš„çœ¼ç¥ï¼Œè¡ŒåŠ¨å¦‚å½±ã€‚',\n        favorability: 60,\n        likes: ['å¤œæ™š', 'ç§˜å¯†', 'ç§©åº'],\n        dislikes: ['æ··ä¹±', 'èƒŒå›'],\n        avatarUrl: 'https://picsum.photos/100?random=22',\n    },\n];\n// æ¸¸æˆçŠ¶æ€\nlet gameState = {\n    gold: 1250,\n    reputation: 45,\n    currentWorld: 'å¥‡å¹»å¤§é™†',\n    day: 14,\n    guests: INITIAL_GUESTS,\n    innName: 'å¤šæ¬¡å…ƒä¾¿æºæ—…åº—', // æ—…åº—åå­—\n};\n/**\n * åˆ·æ–°æ‰€æœ‰ç»„ä»¶çš„æ•°æ®ï¼ˆä»å˜é‡è¡¨é‡æ–°è¯»å–ï¼‰\n */\nfunction refreshAllComponents() {\n    // åˆ·æ–°é¡¶éƒ¨æ \n    if (topBar) {\n        topBar.loadFromVariables();\n    }\n    // åˆ·æ–°ä»ªè¡¨æ¿\n    if (dashboard) {\n        dashboard.loadFromVariables();\n    }\n    // å¦‚æœæ¨¡æ€æ¡†å·²ç»æ‰“å¼€ï¼Œä¹Ÿè¦åˆ·æ–°å®ƒä»¬çš„æ•°æ®\n    if (guestsModal && guestsModal.getIsOpen()) {\n        guestsModal.loadFromVariables();\n    }\n    if (staffModal && staffModal.getIsOpen()) {\n        staffModal.loadFromVariables();\n    }\n    if (buildModal && buildModal.getIsOpen()) {\n        buildModal.loadFromVariables();\n    }\n}\n// é˜²æ­¢é‡å¤æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨\nlet isEventListenersInitialized = false;\n/**\n * åˆå§‹åŒ–äº‹ä»¶ç›‘å¬\n */\nfunction initializeEventListeners() {\n    // é˜²æ­¢é‡å¤æ³¨å†Œ\n    if (isEventListenersInitialized) {\n        console.warn('âš ï¸ äº‹ä»¶ç›‘å¬å™¨å·²åˆå§‹åŒ–ï¼Œè·³è¿‡é‡å¤æ³¨å†Œ');\n        return;\n    }\n    isEventListenersInitialized = true;\n    // ä½¿ç”¨æ ‡å¿—ä½é˜²æ­¢é‡å¤åˆ·æ–°\n    let isRefreshing = false;\n    let pendingRefreshTimer = null;\n    // ç›‘å¬æ¶ˆæ¯æ›´æ–°äº‹ä»¶ï¼ˆæ¶ˆæ¯è¢«ä¿®æ”¹æ—¶ï¼ŒåŒ…æ‹¬ replaceMvuData æ›´æ–°å˜é‡ï¼‰\n    // ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªäº‹ä»¶ï¼Œå› ä¸ºå®ƒåœ¨ replaceMvuData å®Œæˆåä¼šè§¦å‘ï¼Œæ•°æ®æ›´å¯é \n    eventOn(tavern_events.MESSAGE_UPDATED, (message_id) => {\n        console.log('ğŸ”„ æ¶ˆæ¯å·²æ›´æ–°ï¼Œåˆ·æ–°æ¸¸æˆæ•°æ®:', message_id);\n        // æ¸…é™¤ä¹‹å‰çš„å»¶è¿Ÿåˆ·æ–°å®šæ—¶å™¨\n        if (pendingRefreshTimer !== null) {\n            clearTimeout(pendingRefreshTimer);\n            pendingRefreshTimer = null;\n        }\n        // å¦‚æœæ­£åœ¨åˆ·æ–°ï¼Œè·³è¿‡\n        if (isRefreshing) {\n            console.log('âš ï¸ æ­£åœ¨åˆ·æ–°ä¸­ï¼Œè·³è¿‡é‡å¤åˆ·æ–°');\n            return;\n        }\n        // å»¶è¿Ÿåˆ·æ–°ï¼Œç¡®ä¿ replaceMvuData å®Œå…¨å®Œæˆä¸”æ•°æ®å·²å†™å…¥\n        // å¢åŠ å»¶è¿Ÿæ—¶é—´åˆ° 300msï¼Œç¡®ä¿æ•°æ®å®Œå…¨å†™å…¥\n        pendingRefreshTimer = window.setTimeout(async () => {\n            isRefreshing = true;\n            try {\n                // å…ˆæ£€æŸ¥å¹¶æ›´æ–°ç¼–å¹´å²\n                const { checkAndUpdateChronicle } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./utils/chronicleUpdater */ \"./src/mhjg/utils/chronicleUpdater.ts\"));\n                await checkAndUpdateChronicle();\n                // åˆ·æ–°æ‰€æœ‰ç»„ä»¶\n                refreshAllComponents();\n                console.log('âœ… å·²åˆ·æ–°æ‰€æœ‰ç»„ä»¶ï¼ˆMESSAGE_UPDATEDï¼‰');\n            }\n            finally {\n                isRefreshing = false;\n                pendingRefreshTimer = null;\n            }\n        }, 300);\n    });\n    // ç›‘å¬æ¶ˆæ¯æ¥æ”¶äº‹ä»¶ï¼ˆLLMè¿”å›æ–°æ¶ˆæ¯æ—¶ï¼‰\n    // æ³¨æ„ï¼šæ­¤æ—¶å˜é‡å¯èƒ½è¿˜æœªæ›´æ–°ï¼ˆreplaceMvuData å¯èƒ½è¿˜æœªå®Œæˆï¼‰\n    // è¿™ä¸ªäº‹ä»¶ä¸»è¦ç”¨äºæ—¥å¿—è®°å½•ï¼Œå®é™…åˆ·æ–°ç”± MESSAGE_UPDATED å¤„ç†\n    eventOn(tavern_events.MESSAGE_RECEIVED, async (message_id) => {\n        console.log('ğŸ“¨ æ”¶åˆ°æ–°æ¶ˆæ¯:', message_id);\n        // ä¸åœ¨è¿™é‡Œåˆ·æ–°ï¼Œç­‰å¾… MESSAGE_UPDATED äº‹ä»¶\n        // å¦‚æœ MESSAGE_UPDATED æ²¡æœ‰è§¦å‘ï¼ˆå¼‚å¸¸æƒ…å†µï¼‰ï¼Œåˆ™å»¶è¿Ÿè¾ƒé•¿æ—¶é—´ååˆ·æ–°\n        setTimeout(() => {\n            if (!isRefreshing) {\n                console.warn('âš ï¸ MESSAGE_UPDATED æœªè§¦å‘ï¼Œä½¿ç”¨ MESSAGE_RECEIVED ä½œä¸ºåå¤‡åˆ·æ–°');\n                refreshAllComponents();\n            }\n        }, 1000); // å»¶è¿Ÿ 1 ç§’ï¼Œç»™ MESSAGE_UPDATED è¶³å¤Ÿçš„æ—¶é—´\n    });\n}\n/**\n * å¤„ç†æ ‡ç­¾é¡µåˆ‡æ¢ï¼ˆå†…éƒ¨å®ç°ï¼‰\n */\nfunction handleTabChangeInternal(tab) {\n    // å¦‚æœå·²ç»æ˜¯å½“å‰æ ‡ç­¾é¡µï¼Œä¸éœ€è¦é‡å¤æ“ä½œ\n    if (activeTab === tab) {\n        return;\n    }\n    activeTab = tab;\n    // åŒæ­¥åˆ° tabManager\n    (async () => {\n        const { setActiveTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./utils/tabManager */ \"./src/mhjg/utils/tabManager.ts\"));\n        setActiveTab(tab);\n    })();\n    if (navigation) {\n        navigation.setActiveTab(tab);\n    }\n    // å…³é—­æ‰€æœ‰æ¨¡æ€æ¡†ï¼ˆä¸è§¦å‘å›è°ƒï¼Œé¿å…æ— é™é€’å½’ï¼‰\n    if (guestsModal)\n        guestsModal.close(false);\n    if (buildModal)\n        buildModal.close(false);\n    if (staffModal)\n        staffModal.close(false);\n    if (storyModal)\n        storyModal.close(false);\n    // æ˜¾ç¤ºå¯¹åº”çš„æ¨¡æ€æ¡†ï¼ˆä¼šè‡ªåŠ¨ä»å˜é‡è¡¨åŠ è½½æœ€æ–°æ•°æ®ï¼‰\n    switch (tab) {\n        case _types__WEBPACK_IMPORTED_MODULE_21__.GameTab.GUESTS:\n            if (guestsModal) {\n                guestsModal.show();\n            }\n            break;\n        case _types__WEBPACK_IMPORTED_MODULE_21__.GameTab.BUILD:\n            if (buildModal) {\n                buildModal.show();\n            }\n            break;\n        case _types__WEBPACK_IMPORTED_MODULE_21__.GameTab.STAFF:\n            if (staffModal) {\n                staffModal.show();\n            }\n            break;\n        case _types__WEBPACK_IMPORTED_MODULE_21__.GameTab.STORY:\n            if (storyModal) {\n                storyModal.show();\n            }\n            break;\n        case _types__WEBPACK_IMPORTED_MODULE_21__.GameTab.DASHBOARD:\n            // Dashboard å§‹ç»ˆæ˜¾ç¤ºï¼Œåˆ·æ–°æ•°æ®\n            refreshAllComponents();\n            break;\n    }\n}\n/**\n * å¤„ç†æ ‡ç­¾é¡µåˆ‡æ¢ï¼ˆå¯¼å‡ºå‡½æ•°ï¼Œé€šè¿‡tabManagerï¼‰\n */\nfunction handleTabChange(tab) {\n    handleTabChangeInternal(tab);\n}\n// storyModal é€šè¿‡ appState å¯¼å‡ºï¼Œé¿å…å¾ªç¯ä¾èµ–\n/**\n * åˆå§‹åŒ–åº”ç”¨\n */\nasync function initializeApp() {\n    // ç­‰å¾… MVU åˆå§‹åŒ–å®Œæˆ\n    try {\n        console.log('â³ ç­‰å¾… MVU åˆå§‹åŒ–...');\n        await waitGlobalInitialized('Mvu');\n        console.log('âœ… MVU åˆå§‹åŒ–å®Œæˆ');\n    }\n    catch (error) {\n        console.warn('âš ï¸ ç­‰å¾… MVU åˆå§‹åŒ–å¤±è´¥ï¼Œç»§ç»­æ‰§è¡Œ:', error);\n    }\n    const app = document.getElementById('app');\n    if (!app) {\n        console.error('æ‰¾ä¸åˆ° #app å…ƒç´ ');\n        return;\n    }\n    // åˆ›å»ºä¸»å¸ƒå±€\n    app.innerHTML = `\n    <div class=\"mhjg-app\">\n      <div class=\"mhjg-background\">\n        <div class=\"background-image\"></div>\n        <div class=\"background-overlay\"></div>\n      </div>\n      <div class=\"mhjg-main\">\n        <div class=\"mhjg-navigation-container\"></div>\n        <div class=\"mhjg-content\">\n          <div class=\"mhjg-topbar-container\"></div>\n          <main class=\"mhjg-main-content\">\n            <div class=\"mhjg-dashboard-container\"></div>\n          </main>\n        </div>\n      </div>\n    </div>\n  `;\n    // åˆ›å»ºå¯¼èˆªæ \n    const navContainer = app.querySelector('.mhjg-navigation-container');\n    if (navContainer) {\n        const navCallbacks = {\n            onTabChange: handleTabChange,\n        };\n        navigation = new _components_Navigation__WEBPACK_IMPORTED_MODULE_10__.Navigation(navCallbacks);\n        navContainer.appendChild(navigation.createElement());\n    }\n    // å¦‚æœæœ‰æ–°æ¸¸æˆé…ç½®ï¼Œåˆå§‹åŒ–æ¸¸æˆçŠ¶æ€\n    if (currentGameConfig) {\n        const initialState = (0,_utils_gameInitializer__WEBPACK_IMPORTED_MODULE_22__.initializeGameState)(currentGameConfig);\n        gameState = {\n            ...gameState,\n            gold: initialState.gold,\n            reputation: initialState.reputation,\n            currentWorld: initialState.currentWorld,\n            day: initialState.day,\n            innName: initialState.innName,\n        };\n    }\n    // åˆ›å»ºé¡¶éƒ¨æ ï¼ˆä»å˜é‡è¡¨è¯»å–æ•°æ®ï¼‰\n    const topBarContainer = app.querySelector('.mhjg-topbar-container');\n    if (topBarContainer) {\n        topBar = new _components_TopBar__WEBPACK_IMPORTED_MODULE_18__.TopBar(); // ä¸ä¼ åˆå§‹çŠ¶æ€ï¼Œè®©ç»„ä»¶ä»å˜é‡è¡¨è¯»å–\n        topBarContainer.appendChild(topBar.createElement());\n    }\n    // åˆ›å»ºä»ªè¡¨æ¿ï¼ˆä»å˜é‡è¡¨è¯»å–æ•°æ®ï¼‰\n    const dashboardContainer = app.querySelector('.mhjg-dashboard-container');\n    if (dashboardContainer) {\n        const dashboardCallbacks = {\n            onTabChange: handleTabChange,\n        };\n        dashboard = new _components_Dashboard__WEBPACK_IMPORTED_MODULE_0__.Dashboard(dashboardCallbacks); // ä¸ä¼ åˆå§‹çŠ¶æ€ï¼Œè®©ç»„ä»¶ä»å˜é‡è¡¨è¯»å–\n        dashboardContainer.appendChild(dashboard.createElement());\n    }\n    // åˆ›å»ºæ¨¡æ€æ¡†ï¼ˆä½†ä¸ç«‹å³æ˜¾ç¤ºï¼‰\n    const modalContainer = document.body;\n    // Guests Modalï¼ˆä»å˜é‡è¡¨è¯»å–æ•°æ®ï¼‰\n    const guestsModalCallbacks = {\n        onClose: () => {\n            handleTabChange(_types__WEBPACK_IMPORTED_MODULE_21__.GameTab.DASHBOARD);\n        },\n    };\n    guestsModal = new _components_modals_GuestsModal__WEBPACK_IMPORTED_MODULE_4__.GuestsModal(null, guestsModalCallbacks); // ä¼  nullï¼Œè®©ç»„ä»¶ä»å˜é‡è¡¨è¯»å–\n    modalContainer.appendChild(guestsModal.createElement());\n    // Build Modal\n    const buildModalCallbacks = {\n        onClose: () => {\n            handleTabChange(_types__WEBPACK_IMPORTED_MODULE_21__.GameTab.DASHBOARD);\n        },\n    };\n    buildModal = new _components_modals_BuildModal__WEBPACK_IMPORTED_MODULE_2__.BuildModal(buildModalCallbacks);\n    modalContainer.appendChild(buildModal.createElement());\n    // Staff Modalï¼ˆä»å˜é‡è¡¨è¯»å–æ•°æ®ï¼‰\n    const staffModalCallbacks = {\n        onClose: () => {\n            handleTabChange(_types__WEBPACK_IMPORTED_MODULE_21__.GameTab.DASHBOARD);\n        },\n        onInteract: (staffId) => {\n            console.log('Interact with staff:', staffId);\n            // TODO: å®ç°äº¤äº’é€»è¾‘\n        },\n        onManage: (staffId) => {\n            console.log('Manage staff:', staffId);\n            // TODO: å®ç°ç®¡ç†é€»è¾‘\n        },\n    };\n    staffModal = new _components_modals_StaffModal__WEBPACK_IMPORTED_MODULE_6__.StaffModal(null, staffModalCallbacks); // ä¼  nullï¼Œè®©ç»„ä»¶ä»å˜é‡è¡¨è¯»å–\n    modalContainer.appendChild(staffModal.createElement());\n    // Story Modal\n    const storyModalCallbacks = {\n        onClose: () => {\n            handleTabChange(_types__WEBPACK_IMPORTED_MODULE_21__.GameTab.DASHBOARD);\n        },\n    };\n    storyModal = new _components_modals_StoryModal__WEBPACK_IMPORTED_MODULE_8__.StoryModal(storyModalCallbacks);\n    modalContainer.appendChild(storyModal.createElement());\n    // æ³¨å†Œåˆ°åº”ç”¨çŠ¶æ€å’Œæ ‡ç­¾é¡µç®¡ç†å™¨ï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼Œé¿å…å¾ªç¯ä¾èµ–ï¼‰\n    (async () => {\n        const { setStoryModal } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./utils/appState */ \"./src/mhjg/utils/appState.ts\"));\n        setStoryModal(storyModal);\n        const { setTabChangeCallback } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./utils/tabManager */ \"./src/mhjg/utils/tabManager.ts\"));\n        setTabChangeCallback(handleTabChangeInternal);\n    })();\n    // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬ï¼ˆç›‘å¬LLMæ¶ˆæ¯äº‹ä»¶ï¼‰\n    initializeEventListeners();\n    // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥å¹¶æ›´æ–°ç¼–å¹´å²\n    (async () => {\n        const { checkAndUpdateChronicle } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./utils/chronicleUpdater */ \"./src/mhjg/utils/chronicleUpdater.ts\"));\n        await checkAndUpdateChronicle();\n    })();\n    console.log('âœ… MHJG åº”ç”¨åˆå§‹åŒ–å®Œæˆ');\n}\n/**\n * æ¸…ç†åº”ç”¨\n */\nfunction destroyApp() {\n    if (navigation) {\n        navigation.destroy();\n        navigation = null;\n    }\n    if (topBar) {\n        topBar.destroy();\n        topBar = null;\n    }\n    if (dashboard) {\n        dashboard.destroy();\n        dashboard = null;\n    }\n    if (guestsModal) {\n        guestsModal.destroy();\n        guestsModal = null;\n    }\n    if (buildModal) {\n        buildModal.destroy();\n        buildModal = null;\n    }\n    if (staffModal) {\n        staffModal.destroy();\n        staffModal = null;\n    }\n    if (storyModal) {\n        storyModal.destroy();\n        storyModal = null;\n    }\n    if (newGameSetup) {\n        newGameSetup.destroy();\n        newGameSetup = null;\n    }\n    if (confirmDialog) {\n        confirmDialog.destroy();\n        confirmDialog = null;\n    }\n}\n/**\n * åˆå§‹åŒ–ç¬¬0é¡µï¼ˆå¼€å§‹å±å¹•ï¼‰\n */\nfunction initializeStartScreen() {\n    const app = document.getElementById('app');\n    if (!app) {\n        console.error('æ‰¾ä¸åˆ° #app å…ƒç´ ');\n        return;\n    }\n    app.innerHTML = '';\n    const startCallbacks = {\n        onStart: () => {\n            // æ£€æŸ¥å½“å‰æ¸¸æˆçš„æ¥¼å±‚æ•°\n            try {\n                const lastMessageId = getLastMessageId();\n                console.log('ğŸ“Š å½“å‰æ¥¼å±‚æ•°:', lastMessageId);\n                if (lastMessageId > 0) {\n                    // å¦‚æœæ¥¼å±‚æ•° > 0ï¼Œç›´æ¥è¿›å…¥æ¸¸æˆé¡µé¢\n                    console.log('âœ… æ£€æµ‹åˆ°å·²æœ‰æ¸¸æˆè¿›åº¦ï¼Œç›´æ¥è¿›å…¥æ¸¸æˆé¡µé¢');\n                    currentPage = 'game';\n                    startScreen?.hide();\n                    initializeApp();\n                }\n                else {\n                    // å¦‚æœæ¥¼å±‚æ•° = 0ï¼Œè¿›å…¥æ ‡é¢˜é¡µé¢\n                    console.log('ğŸ“ æœªæ£€æµ‹åˆ°æ¸¸æˆè¿›åº¦ï¼Œè¿›å…¥æ ‡é¢˜é¡µé¢');\n                    currentPage = 'splash';\n                    startScreen?.hide();\n                    initializeSplashScreen();\n                }\n            }\n            catch (error) {\n                // å¦‚æœè·å–æ¥¼å±‚æ•°å¤±è´¥ï¼Œé»˜è®¤è¿›å…¥æ ‡é¢˜é¡µé¢\n                console.warn('âš ï¸ è·å–æ¥¼å±‚æ•°å¤±è´¥ï¼Œé»˜è®¤è¿›å…¥æ ‡é¢˜é¡µé¢:', error);\n                currentPage = 'splash';\n                startScreen?.hide();\n                initializeSplashScreen();\n            }\n        },\n    };\n    startScreen = new _components_StartScreen__WEBPACK_IMPORTED_MODULE_16__.StartScreen(startCallbacks);\n    app.appendChild(startScreen.createElement());\n    startScreen.show();\n}\n/**\n * åˆå§‹åŒ–æ ‡é¢˜é¡µé¢\n */\nfunction initializeSplashScreen() {\n    const app = document.getElementById('app');\n    if (!app)\n        return;\n    // æ£€æŸ¥æ˜¯å¦æœ‰å­˜æ¡£æ•°æ®ï¼ˆè¿™é‡Œå¯ä»¥æ”¹ä¸ºå®é™…æ£€æŸ¥é€»è¾‘ï¼‰\n    const hasSaveData = false; // TODO: å®ç°å®é™…çš„å­˜æ¡£æ£€æŸ¥\n    const splashCallbacks = {\n        onStartNewGame: () => {\n            // ç›´æ¥è¿›å…¥åˆ›å»ºé¡µé¢\n            currentGameConfig = null;\n            currentPage = 'setup';\n            splashScreen?.hide();\n            initializeNewGameSetup();\n        },\n        onContinueGame: () => {\n            currentPage = 'game';\n            splashScreen?.hide();\n            initializeApp();\n        },\n        onOpenSettings: () => {\n            console.log('æ‰“å¼€è®¾ç½®');\n            // TODO: å®ç°è®¾ç½®åŠŸèƒ½\n        },\n        onExit: () => {\n            if (window.confirm('ç¡®å®šè¦é€€å‡ºå—ï¼Ÿ')) {\n                window.close();\n            }\n        },\n    };\n    splashScreen = new _components_SplashScreen__WEBPACK_IMPORTED_MODULE_14__.SplashScreen(splashCallbacks, {\n        title: 'è¯¸å¤©ä¾¿æºæ—…åº—',\n        subtitle: 'è¿·å¤±è€…çš„åº‡æŠ¤æ‰€',\n        hasSaveData: hasSaveData,\n        backgroundImage: 'https://pub-0f03753252fb439e966a538d805f20ef.r2.dev/docs/1765458743425.png',\n        showSettings: false,\n        showExit: false,\n    });\n    app.appendChild(splashScreen.createElement());\n    splashScreen.show();\n}\n/**\n * åˆå§‹åŒ–å¼€å±€åˆ›å»ºé¡µé¢\n */\nfunction initializeNewGameSetup() {\n    const app = document.getElementById('app');\n    if (!app)\n        return;\n    app.innerHTML = '';\n    const callbacks = {\n        onCancel: () => {\n            // è¿”å›æ ‡é¢˜é¡µ\n            currentPage = 'splash';\n            app.innerHTML = '';\n            initializeSplashScreen();\n        },\n        onConfirm: async (config) => {\n            currentGameConfig = config;\n            // å°†å¼€å±€é…ç½®å†™å…¥0å±‚æ¶ˆæ¯æ¥¼å±‚å˜é‡\n            console.log('ğŸ® å¼€å§‹åˆå§‹åŒ–æ¸¸æˆå˜é‡...');\n            const initSuccess = await (0,_utils_gameInitializer__WEBPACK_IMPORTED_MODULE_22__.initializeGameVariables)(config);\n            if (!initSuccess) {\n                console.error('âŒ åˆå§‹åŒ–æ¸¸æˆå˜é‡å¤±è´¥ï¼Œä½†ç»§ç»­è¿›å…¥æ¸¸æˆ');\n            }\n            // åˆ›å»ºå¼€å±€ä»‹ç»æ¥¼å±‚ï¼ˆ1å±‚ï¼‰ï¼Œæºå¸¦0å±‚çš„data\n            console.log('ğŸ“– å¼€å§‹åˆ›å»ºå¼€å±€ä»‹ç»æ¥¼å±‚...');\n            const storySuccess = await (0,_utils_gameInitializer__WEBPACK_IMPORTED_MODULE_22__.createOpeningStoryMessage)(config);\n            if (!storySuccess) {\n                console.error('âŒ åˆ›å»ºå¼€å±€ä»‹ç»æ¥¼å±‚å¤±è´¥ï¼Œä½†ç»§ç»­è¿›å…¥æ¸¸æˆ');\n            }\n            currentPage = 'game';\n            app.innerHTML = '';\n            initializeApp();\n        },\n    };\n    newGameSetup = new _components_NewGameSetup__WEBPACK_IMPORTED_MODULE_12__.NewGameSetup(callbacks);\n    app.appendChild(newGameSetup.createElement());\n}\n// ä½¿ç”¨ jQuery è¿›è¡Œé¡µé¢åŠ è½½\n$(() => {\n    initializeStartScreen();\n});\n// é¡µé¢å¸è½½æ—¶æ¸…ç†\n$(window).on('beforeunload', () => {\n    if (startScreen) {\n        startScreen.destroy();\n        startScreen = null;\n    }\n    if (splashScreen) {\n        splashScreen.destroy();\n        splashScreen = null;\n    }\n    destroyApp();\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsQ0FBQztBQUNoRCxDQUFDO0FBRUQsbUJBQW1CO0FBQ25CLENBQUMsQ0FBQyxHQUFHLEVBQUU7SUFDTCxxQkFBcUIsRUFBRSxDQUFDO0FBQzFCLENBQUMsQ0FBQyxDQUFDO0FBRUgsVUFBVTtBQUNWLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsY0FBYyxFQUFFLEdBQUcsRUFBRTtJQUNoQyxJQUFJLFdBQVcsRUFBRSxDQUFDO1FBQ2hCLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN0QixXQUFXLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFDRCxJQUFJLFlBQVksRUFBRSxDQUFDO1FBQ2pCLFlBQVksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN2QixZQUFZLEdBQUcsSUFBSSxDQUFDO0lBQ3RCLENBQUM7SUFDRCxVQUFVLEVBQUUsQ0FBQztBQUNmLENBQUMsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbmZpcm1EaWFsb2cgfSBmcm9tICcuL2NvbXBvbmVudHMvQ29uZmlybURpYWxvZyc7XG5pbXBvcnQgeyBEYXNoYm9hcmQsIERhc2hib2FyZENhbGxiYWNrcyB9IGZyb20gJy4vY29tcG9uZW50cy9EYXNoYm9hcmQnO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvRGFzaGJvYXJkLnNjc3MnO1xuaW1wb3J0IHsgQnVpbGRNb2RhbCwgQnVpbGRNb2RhbENhbGxiYWNrcyB9IGZyb20gJy4vY29tcG9uZW50cy9tb2RhbHMvQnVpbGRNb2RhbCc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9tb2RhbHMvQnVpbGRNb2RhbC5zY3NzJztcbmltcG9ydCB7IEd1ZXN0c01vZGFsLCBHdWVzdHNNb2RhbENhbGxiYWNrcyB9IGZyb20gJy4vY29tcG9uZW50cy9tb2RhbHMvR3Vlc3RzTW9kYWwnO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvbW9kYWxzL0d1ZXN0c01vZGFsLnNjc3MnO1xuaW1wb3J0IHsgU3RhZmZNb2RhbCwgU3RhZmZNb2RhbENhbGxiYWNrcyB9IGZyb20gJy4vY29tcG9uZW50cy9tb2RhbHMvU3RhZmZNb2RhbCc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9tb2RhbHMvU3RhZmZNb2RhbC5zY3NzJztcbmltcG9ydCB7IFN0b3J5TW9kYWwsIFN0b3J5TW9kYWxDYWxsYmFja3MgfSBmcm9tICcuL2NvbXBvbmVudHMvbW9kYWxzL1N0b3J5TW9kYWwnO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvbW9kYWxzL1N0b3J5TW9kYWwuc2Nzcyc7XG5pbXBvcnQgeyBOYXZpZ2F0aW9uLCBOYXZpZ2F0aW9uQ2FsbGJhY2tzIH0gZnJvbSAnLi9jb21wb25lbnRzL05hdmlnYXRpb24nO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvTmF2aWdhdGlvbi5zY3NzJztcbmltcG9ydCB7IE5ld0dhbWVTZXR1cCwgTmV3R2FtZVNldHVwQ2FsbGJhY2tzIH0gZnJvbSAnLi9jb21wb25lbnRzL05ld0dhbWVTZXR1cCc7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9OZXdHYW1lU2V0dXAuc2Nzcyc7XG5pbXBvcnQgeyBTcGxhc2hTY3JlZW4sIFNwbGFzaFNjcmVlbkNhbGxiYWNrcyB9IGZyb20gJy4vY29tcG9uZW50cy9TcGxhc2hTY3JlZW4nO1xuaW1wb3J0ICcuL2NvbXBvbmVudHMvU3BsYXNoU2NyZWVuLnNjc3MnO1xuaW1wb3J0IHsgU3RhcnRTY3JlZW4sIFN0YXJ0U2NyZWVuQ2FsbGJhY2tzIH0gZnJvbSAnLi9jb21wb25lbnRzL1N0YXJ0U2NyZWVuJztcbmltcG9ydCAnLi9jb21wb25lbnRzL1N0YXJ0U2NyZWVuLnNjc3MnO1xuaW1wb3J0IHsgVG9wQmFyIH0gZnJvbSAnLi9jb21wb25lbnRzL1RvcEJhcic7XG5pbXBvcnQgJy4vY29tcG9uZW50cy9Ub3BCYXIuc2Nzcyc7XG5pbXBvcnQgJy4vc3R5bGVzL21haW4uc2Nzcyc7XG5pbXBvcnQgeyBHYW1lVGFiLCBHdWVzdCwgU3RhZmYgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEdhbWVDb25maWcgfSBmcm9tICcuL3R5cGVzL2dhbWVDb25maWcnO1xuaW1wb3J0IHsgY3JlYXRlT3BlbmluZ1N0b3J5TWVzc2FnZSwgaW5pdGlhbGl6ZUdhbWVTdGF0ZSwgaW5pdGlhbGl6ZUdhbWVWYXJpYWJsZXMgfSBmcm9tICcuL3V0aWxzL2dhbWVJbml0aWFsaXplcic7XG5cbi8vIOWFqOWxgOWHveaVsOWjsOaYju+8iOeUsemFkummhuWKqeaJi+aPkOS+m++8iVxuZGVjbGFyZSBmdW5jdGlvbiBnZXRMYXN0TWVzc2FnZUlkKCk6IG51bWJlcjtcblxuLy8g6aG16Z2i54q25oCBXG50eXBlIFBhZ2VTdGF0ZSA9ICdzdGFydCcgfCAnc3BsYXNoJyB8ICdzZXR1cCcgfCAnZ2FtZSc7XG5sZXQgY3VycmVudFBhZ2U6IFBhZ2VTdGF0ZSA9ICdzdGFydCc7XG5sZXQgc3RhcnRTY3JlZW46IFN0YXJ0U2NyZWVuIHwgbnVsbCA9IG51bGw7XG5sZXQgc3BsYXNoU2NyZWVuOiBTcGxhc2hTY3JlZW4gfCBudWxsID0gbnVsbDtcbmxldCBuZXdHYW1lU2V0dXA6IE5ld0dhbWVTZXR1cCB8IG51bGwgPSBudWxsO1xubGV0IGNvbmZpcm1EaWFsb2c6IENvbmZpcm1EaWFsb2cgfCBudWxsID0gbnVsbDtcbmxldCBjdXJyZW50R2FtZUNvbmZpZzogR2FtZUNvbmZpZyB8IG51bGwgPSBudWxsO1xuXG4vLyDlupTnlKjnirbmgIFcbmxldCBhY3RpdmVUYWI6IEdhbWVUYWIgPSBHYW1lVGFiLkRBU0hCT0FSRDtcbmxldCBuYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uIHwgbnVsbCA9IG51bGw7XG5sZXQgdG9wQmFyOiBUb3BCYXIgfCBudWxsID0gbnVsbDtcbmxldCBkYXNoYm9hcmQ6IERhc2hib2FyZCB8IG51bGwgPSBudWxsO1xubGV0IGd1ZXN0c01vZGFsOiBHdWVzdHNNb2RhbCB8IG51bGwgPSBudWxsO1xubGV0IGJ1aWxkTW9kYWw6IEJ1aWxkTW9kYWwgfCBudWxsID0gbnVsbDtcbmxldCBzdGFmZk1vZGFsOiBTdGFmZk1vZGFsIHwgbnVsbCA9IG51bGw7XG5sZXQgc3RvcnlNb2RhbDogU3RvcnlNb2RhbCB8IG51bGwgPSBudWxsO1xuXG4vLyBNb2NrIOaVsOaNrlxuY29uc3QgSU5JVElBTF9HVUVTVFM6IEd1ZXN0W10gPSBbXG4gIHtcbiAgICBpZDogJzEnLFxuICAgIG5hbWU6ICfoib7lsJTlvpfph4zlhYsnLFxuICAgIHJhY2U6ICfkurrnsbsnLFxuICAgIGNsYXNzOiAn5rWB5rWq6aqR5aOrJyxcbiAgICBtb29kOiA3NSxcbiAgICBnb2xkOiAxNTAsXG4gICAgYXZhdGFyVXJsOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzEwMD9yYW5kb209MScsXG4gICAgcmVxdWVzdDogJ+e7meaIkeadpeS4gOadr+acgOeDiOeahOmFku+8jOimgeiDveW/mOiusOi/h+WOu+eahOmCo+enjeOAgicsXG4gIH0sXG4gIHtcbiAgICBpZDogJzInLFxuICAgIG5hbWU6ICfokKjmi4knLFxuICAgIHJhY2U6ICfnsr7ngbUnLFxuICAgIGNsYXNzOiAn5beh5p6X5a6iJyxcbiAgICBtb29kOiA0MCxcbiAgICBnb2xkOiA4MCxcbiAgICBhdmF0YXJVcmw6ICdodHRwczovL3BpY3N1bS5waG90b3MvMTAwP3JhbmRvbT0yJyxcbiAgICByZXF1ZXN0OiAn6L+Z6YeM55qE56m65rCU5aSq5rWR5rWK5LqG77yM5pyJ5paw6bKc5rC05p6c5ZCX77yfJyxcbiAgfSxcbiAge1xuICAgIGlkOiAnMycsXG4gICAgbmFtZTogJ+mTnOmhuycsXG4gICAgcmFjZTogJ+efruS6uicsXG4gICAgY2xhc3M6ICfpk4HljKAnLFxuICAgIG1vb2Q6IDkwLFxuICAgIGdvbGQ6IDMwMCxcbiAgICBhdmF0YXJVcmw6ICdodHRwczovL3BpY3N1bS5waG90b3MvMTAwP3JhbmRvbT0zJyxcbiAgICByZXF1ZXN0OiAn54KJ54Gr54On5b6X5LiN6ZSZ77yB5YaN5Yqg5oqK5Yqy77yBJyxcbiAgfSxcbl07XG5cbi8vIE1vY2sg5ZGY5bel5pWw5o2uXG5jb25zdCBJTklUSUFMX1NUQUZGOiBTdGFmZltdID0gW1xuICB7XG4gICAgaWQ6ICcxJyxcbiAgICBuYW1lOiAn6Im+6I6J5LidJyxcbiAgICByYWNlOiAn57K+54G1JyxcbiAgICBjb21iYXRDbGFzczogJ+azleW4iCcsXG4gICAgaW5uUm9sZTogJ+WJjeWPsOaOpeW+hScsXG4gICAgbGV2ZWw6IDE1LFxuICAgIGFwcGVhcmFuY2U6ICfpk7bnmb3oibLplb/lj5HvvIznoqfnu7/nnLznnLjvvIzkvJjpm4XogIznpZ7np5jjgIInLFxuICAgIGZhdm9yYWJpbGl0eTogODUsXG4gICAgbGlrZXM6IFsn5a6J6Z2Z55qE546v5aKDJywgJ+mtlOazleS5puexjScsICfoirHojYnojLYnXSxcbiAgICBkaXNsaWtlczogWyflkLXpl7knLCAn57KX6bKB55qE5a6i5Lq6J10sXG4gICAgYXZhdGFyVXJsOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzEwMD9yYW5kb209MjAnLFxuICB9LFxuICB7XG4gICAgaWQ6ICcyJyxcbiAgICBuYW1lOiAn6ZOB6ZSkJyxcbiAgICByYWNlOiAn55+u5Lq6JyxcbiAgICBjb21iYXRDbGFzczogJ+aImOWjqycsXG4gICAgaW5uUm9sZTogJ+WOqOW4iCcsXG4gICAgbGV2ZWw6IDIyLFxuICAgIGFwcGVhcmFuY2U6ICfmtZPlr4bnmoTnuqLog6HlrZDvvIznu5Plrp7nmoTogozogonvvIzmgLvmmK/lm7TnnYDlm7Too5njgIInLFxuICAgIGZhdm9yYWJpbGl0eTogNzAsXG4gICAgbGlrZXM6IFsn5aW96YWSJywgJ+eDuemlqicsICfng63pl7knXSxcbiAgICBkaXNsaWtlczogWyfmtarotLnpo5/niaknLCAn5oyR5YmU55qE6aOf5a6iJ10sXG4gICAgYXZhdGFyVXJsOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzEwMD9yYW5kb209MjEnLFxuICB9LFxuICB7XG4gICAgaWQ6ICczJyxcbiAgICBuYW1lOiAn5b2xJyxcbiAgICByYWNlOiAn5pqX57K+54G1JyxcbiAgICBjb21iYXRDbGFzczogJ+ebl+i0vCcsXG4gICAgaW5uUm9sZTogJ+S/neWuiScsXG4gICAgbGV2ZWw6IDE4LFxuICAgIGFwcGVhcmFuY2U6ICfpu5HoibLmlpfnr7fvvIzplJDliKnnmoTnnLznpZ7vvIzooYzliqjlpoLlvbHjgIInLFxuICAgIGZhdm9yYWJpbGl0eTogNjAsXG4gICAgbGlrZXM6IFsn5aSc5pmaJywgJ+enmOWvhicsICfnp6nluo8nXSxcbiAgICBkaXNsaWtlczogWyfmt7fkubEnLCAn6IOM5Y+bJ10sXG4gICAgYXZhdGFyVXJsOiAnaHR0cHM6Ly9waWNzdW0ucGhvdG9zLzEwMD9yYW5kb209MjInLFxuICB9LFxuXTtcblxuLy8g5ri45oiP54q25oCBXG5sZXQgZ2FtZVN0YXRlID0ge1xuICBnb2xkOiAxMjUwLFxuICByZXB1dGF0aW9uOiA0NSxcbiAgY3VycmVudFdvcmxkOiAn5aWH5bm75aSn6ZmGJyxcbiAgZGF5OiAxNCxcbiAgZ3Vlc3RzOiBJTklUSUFMX0dVRVNUUyxcbiAgaW5uTmFtZTogJ+WkmuasoeWFg+S+v+aQuuaXheW6lycsIC8vIOaXheW6l+WQjeWtl1xufTtcblxuLyoqXG4gKiDliLfmlrDmiYDmnInnu4Tku7bnmoTmlbDmja7vvIjku47lj5jph4/ooajph43mlrDor7vlj5bvvIlcbiAqL1xuZnVuY3Rpb24gcmVmcmVzaEFsbENvbXBvbmVudHMoKTogdm9pZCB7XG4gIC8vIOWIt+aWsOmhtumDqOagj1xuICBpZiAodG9wQmFyKSB7XG4gICAgdG9wQmFyLmxvYWRGcm9tVmFyaWFibGVzKCk7XG4gIH1cblxuICAvLyDliLfmlrDku6rooajmnb9cbiAgaWYgKGRhc2hib2FyZCkge1xuICAgIGRhc2hib2FyZC5sb2FkRnJvbVZhcmlhYmxlcygpO1xuICB9XG5cbiAgLy8g5aaC5p6c5qih5oCB5qGG5bey57uP5omT5byA77yM5Lmf6KaB5Yi35paw5a6D5Lus55qE5pWw5o2uXG4gIGlmIChndWVzdHNNb2RhbCAmJiBndWVzdHNNb2RhbC5nZXRJc09wZW4oKSkge1xuICAgIGd1ZXN0c01vZGFsLmxvYWRGcm9tVmFyaWFibGVzKCk7XG4gIH1cbiAgaWYgKHN0YWZmTW9kYWwgJiYgc3RhZmZNb2RhbC5nZXRJc09wZW4oKSkge1xuICAgIHN0YWZmTW9kYWwubG9hZEZyb21WYXJpYWJsZXMoKTtcbiAgfVxuICBpZiAoYnVpbGRNb2RhbCAmJiBidWlsZE1vZGFsLmdldElzT3BlbigpKSB7XG4gICAgYnVpbGRNb2RhbC5sb2FkRnJvbVZhcmlhYmxlcygpO1xuICB9XG59XG5cbi8vIOmYsuatoumHjeWkjeazqOWGjOS6i+S7tuebkeWQrOWZqFxubGV0IGlzRXZlbnRMaXN0ZW5lcnNJbml0aWFsaXplZCA9IGZhbHNlO1xuXG4vKipcbiAqIOWIneWni+WMluS6i+S7tuebkeWQrFxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMoKTogdm9pZCB7XG4gIC8vIOmYsuatoumHjeWkjeazqOWGjFxuICBpZiAoaXNFdmVudExpc3RlbmVyc0luaXRpYWxpemVkKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8g5LqL5Lu255uR5ZCs5Zmo5bey5Yid5aeL5YyW77yM6Lez6L+H6YeN5aSN5rOo5YaMJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaXNFdmVudExpc3RlbmVyc0luaXRpYWxpemVkID0gdHJ1ZTtcblxuICAvLyDkvb/nlKjmoIflv5fkvY3pmLLmraLph43lpI3liLfmlrBcbiAgbGV0IGlzUmVmcmVzaGluZyA9IGZhbHNlO1xuICBsZXQgcGVuZGluZ1JlZnJlc2hUaW1lcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgLy8g55uR5ZCs5raI5oGv5pu05paw5LqL5Lu277yI5raI5oGv6KKr5L+u5pS55pe277yM5YyF5ousIHJlcGxhY2VNdnVEYXRhIOabtOaWsOWPmOmHj++8iVxuICAvLyDkvJjlhYjkvb/nlKjov5nkuKrkuovku7bvvIzlm6DkuLrlroPlnKggcmVwbGFjZU12dURhdGEg5a6M5oiQ5ZCO5Lya6Kem5Y+R77yM5pWw5o2u5pu05Y+v6Z2gXG4gIGV2ZW50T24odGF2ZXJuX2V2ZW50cy5NRVNTQUdFX1VQREFURUQsIChtZXNzYWdlX2lkOiBudW1iZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCDmtojmga/lt7Lmm7TmlrDvvIzliLfmlrDmuLjmiI/mlbDmja46JywgbWVzc2FnZV9pZCk7XG4gICAgXG4gICAgLy8g5riF6Zmk5LmL5YmN55qE5bu26L+f5Yi35paw5a6a5pe25ZmoXG4gICAgaWYgKHBlbmRpbmdSZWZyZXNoVGltZXIgIT09IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dChwZW5kaW5nUmVmcmVzaFRpbWVyKTtcbiAgICAgIHBlbmRpbmdSZWZyZXNoVGltZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIOWmguaenOato+WcqOWIt+aWsO+8jOi3s+i/h1xuICAgIGlmIChpc1JlZnJlc2hpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8g5q2j5Zyo5Yi35paw5Lit77yM6Lez6L+H6YeN5aSN5Yi35pawJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8g5bu26L+f5Yi35paw77yM56Gu5L+dIHJlcGxhY2VNdnVEYXRhIOWujOWFqOWujOaIkOS4lOaVsOaNruW3suWGmeWFpVxuICAgIC8vIOWinuWKoOW7tui/n+aXtumXtOWIsCAzMDBtc++8jOehruS/neaVsOaNruWujOWFqOWGmeWFpVxuICAgIHBlbmRpbmdSZWZyZXNoVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICBpc1JlZnJlc2hpbmcgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8g5YWI5qOA5p+l5bm25pu05paw57yW5bm05Y+yXG4gICAgICAgIGNvbnN0IHsgY2hlY2tBbmRVcGRhdGVDaHJvbmljbGUgfSA9IGF3YWl0IGltcG9ydCgnLi91dGlscy9jaHJvbmljbGVVcGRhdGVyJyk7XG4gICAgICAgIGF3YWl0IGNoZWNrQW5kVXBkYXRlQ2hyb25pY2xlKCk7XG5cbiAgICAgICAgLy8g5Yi35paw5omA5pyJ57uE5Lu2XG4gICAgICAgIHJlZnJlc2hBbGxDb21wb25lbnRzKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUg5bey5Yi35paw5omA5pyJ57uE5Lu277yITUVTU0FHRV9VUERBVEVE77yJJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpc1JlZnJlc2hpbmcgPSBmYWxzZTtcbiAgICAgICAgcGVuZGluZ1JlZnJlc2hUaW1lciA9IG51bGw7XG4gICAgICB9XG4gICAgfSwgMzAwKTtcbiAgfSk7XG5cbiAgLy8g55uR5ZCs5raI5oGv5o6l5pS25LqL5Lu277yITExN6L+U5Zue5paw5raI5oGv5pe277yJXG4gIC8vIOazqOaEj++8muatpOaXtuWPmOmHj+WPr+iDvei/mOacquabtOaWsO+8iHJlcGxhY2VNdnVEYXRhIOWPr+iDvei/mOacquWujOaIkO+8iVxuICAvLyDov5nkuKrkuovku7bkuLvopoHnlKjkuo7ml6Xlv5forrDlvZXvvIzlrp7pmYXliLfmlrDnlLEgTUVTU0FHRV9VUERBVEVEIOWkhOeQhlxuICBldmVudE9uKHRhdmVybl9ldmVudHMuTUVTU0FHRV9SRUNFSVZFRCwgYXN5bmMgKG1lc3NhZ2VfaWQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5OoIOaUtuWIsOaWsOa2iOaBrzonLCBtZXNzYWdlX2lkKTtcbiAgICAvLyDkuI3lnKjov5nph4zliLfmlrDvvIznrYnlvoUgTUVTU0FHRV9VUERBVEVEIOS6i+S7tlxuICAgIC8vIOWmguaenCBNRVNTQUdFX1VQREFURUQg5rKh5pyJ6Kem5Y+R77yI5byC5bi45oOF5Ya177yJ77yM5YiZ5bu26L+f6L6D6ZW/5pe26Ze05ZCO5Yi35pawXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIWlzUmVmcmVzaGluZykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNRVNTQUdFX1VQREFURUQg5pyq6Kem5Y+R77yM5L2/55SoIE1FU1NBR0VfUkVDRUlWRUQg5L2c5Li65ZCO5aSH5Yi35pawJyk7XG4gICAgcmVmcmVzaEFsbENvbXBvbmVudHMoKTtcbiAgICAgIH1cbiAgICB9LCAxMDAwKTsgLy8g5bu26L+fIDEg56eS77yM57uZIE1FU1NBR0VfVVBEQVRFRCDotrPlpJ/nmoTml7bpl7RcbiAgfSk7XG59XG5cbi8qKlxuICog5aSE55CG5qCH562+6aG15YiH5o2i77yI5YaF6YOo5a6e546w77yJXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZVRhYkNoYW5nZUludGVybmFsKHRhYjogR2FtZVRhYik6IHZvaWQge1xuICAvLyDlpoLmnpzlt7Lnu4/mmK/lvZPliY3moIfnrb7pobXvvIzkuI3pnIDopoHph43lpI3mk43kvZxcbiAgaWYgKGFjdGl2ZVRhYiA9PT0gdGFiKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYWN0aXZlVGFiID0gdGFiO1xuICBcbiAgLy8g5ZCM5q2l5YiwIHRhYk1hbmFnZXJcbiAgKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHNldEFjdGl2ZVRhYiB9ID0gYXdhaXQgaW1wb3J0KCcuL3V0aWxzL3RhYk1hbmFnZXInKTtcbiAgICBzZXRBY3RpdmVUYWIodGFiKTtcbiAgfSkoKTtcbiAgXG4gIGlmIChuYXZpZ2F0aW9uKSB7XG4gICAgbmF2aWdhdGlvbi5zZXRBY3RpdmVUYWIodGFiKTtcbiAgfVxuXG4gIC8vIOWFs+mXreaJgOacieaooeaAgeahhu+8iOS4jeinpuWPkeWbnuiwg++8jOmBv+WFjeaXoOmZkOmAkuW9ku+8iVxuICBpZiAoZ3Vlc3RzTW9kYWwpIGd1ZXN0c01vZGFsLmNsb3NlKGZhbHNlKTtcbiAgaWYgKGJ1aWxkTW9kYWwpIGJ1aWxkTW9kYWwuY2xvc2UoZmFsc2UpO1xuICBpZiAoc3RhZmZNb2RhbCkgc3RhZmZNb2RhbC5jbG9zZShmYWxzZSk7XG4gIGlmIChzdG9yeU1vZGFsKSBzdG9yeU1vZGFsLmNsb3NlKGZhbHNlKTtcblxuICAvLyDmmL7npLrlr7nlupTnmoTmqKHmgIHmoYbvvIjkvJroh6rliqjku47lj5jph4/ooajliqDovb3mnIDmlrDmlbDmja7vvIlcbiAgc3dpdGNoICh0YWIpIHtcbiAgICBjYXNlIEdhbWVUYWIuR1VFU1RTOlxuICAgICAgaWYgKGd1ZXN0c01vZGFsKSB7XG4gICAgICAgIGd1ZXN0c01vZGFsLnNob3coKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgR2FtZVRhYi5CVUlMRDpcbiAgICAgIGlmIChidWlsZE1vZGFsKSB7XG4gICAgICAgIGJ1aWxkTW9kYWwuc2hvdygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBHYW1lVGFiLlNUQUZGOlxuICAgICAgaWYgKHN0YWZmTW9kYWwpIHtcbiAgICAgICAgc3RhZmZNb2RhbC5zaG93KCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIEdhbWVUYWIuU1RPUlk6XG4gICAgICBpZiAoc3RvcnlNb2RhbCkge1xuICAgICAgICBzdG9yeU1vZGFsLnNob3coKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgR2FtZVRhYi5EQVNIQk9BUkQ6XG4gICAgICAvLyBEYXNoYm9hcmQg5aeL57uI5pi+56S677yM5Yi35paw5pWw5o2uXG4gICAgICByZWZyZXNoQWxsQ29tcG9uZW50cygpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxuLyoqXG4gKiDlpITnkIbmoIfnrb7pobXliIfmjaLvvIjlr7zlh7rlh73mlbDvvIzpgJrov4d0YWJNYW5hZ2Vy77yJXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVUYWJDaGFuZ2UodGFiOiBHYW1lVGFiKTogdm9pZCB7XG4gIGhhbmRsZVRhYkNoYW5nZUludGVybmFsKHRhYik7XG59XG5cbi8vIHN0b3J5TW9kYWwg6YCa6L+HIGFwcFN0YXRlIOWvvOWHuu+8jOmBv+WFjeW+queOr+S+nei1llxuXG4vKipcbiAqIOWIneWni+WMluW6lOeUqFxuICovXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplQXBwKCk6IFByb21pc2U8dm9pZD4ge1xuICAvLyDnrYnlvoUgTVZVIOWIneWni+WMluWujOaIkFxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfij7Mg562J5b6FIE1WVSDliJ3lp4vljJYuLi4nKTtcbiAgICBhd2FpdCB3YWl0R2xvYmFsSW5pdGlhbGl6ZWQoJ012dScpO1xuICAgIGNvbnNvbGUubG9nKCfinIUgTVZVIOWIneWni+WMluWujOaIkCcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIOetieW+hSBNVlUg5Yid5aeL5YyW5aSx6LSl77yM57un57ut5omn6KGMOicsIGVycm9yKTtcbiAgfVxuICBjb25zdCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XG4gIGlmICghYXBwKSB7XG4gICAgY29uc29sZS5lcnJvcign5om+5LiN5YiwICNhcHAg5YWD57SgJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8g5Yib5bu65Li75biD5bGAXG4gIGFwcC5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm1oamctYXBwXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWhqZy1iYWNrZ3JvdW5kXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiYWNrZ3JvdW5kLWltYWdlXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiYWNrZ3JvdW5kLW92ZXJsYXlcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm1oamctbWFpblwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWhqZy1uYXZpZ2F0aW9uLWNvbnRhaW5lclwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibWhqZy1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm1oamctdG9wYmFyLWNvbnRhaW5lclwiPjwvZGl2PlxuICAgICAgICAgIDxtYWluIGNsYXNzPVwibWhqZy1tYWluLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtaGpnLWRhc2hib2FyZC1jb250YWluZXJcIj48L2Rpdj5cbiAgICAgICAgICA8L21haW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgLy8g5Yib5bu65a+86Iiq5qCPXG4gIGNvbnN0IG5hdkNvbnRhaW5lciA9IGFwcC5xdWVyeVNlbGVjdG9yKCcubWhqZy1uYXZpZ2F0aW9uLWNvbnRhaW5lcicpO1xuICBpZiAobmF2Q29udGFpbmVyKSB7XG4gICAgY29uc3QgbmF2Q2FsbGJhY2tzOiBOYXZpZ2F0aW9uQ2FsbGJhY2tzID0ge1xuICAgICAgb25UYWJDaGFuZ2U6IGhhbmRsZVRhYkNoYW5nZSxcbiAgICB9O1xuICAgIG5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbihuYXZDYWxsYmFja3MpO1xuICAgIG5hdkNvbnRhaW5lci5hcHBlbmRDaGlsZChuYXZpZ2F0aW9uLmNyZWF0ZUVsZW1lbnQoKSk7XG4gIH1cblxuICAvLyDlpoLmnpzmnInmlrDmuLjmiI/phY3nva7vvIzliJ3lp4vljJbmuLjmiI/nirbmgIFcbiAgaWYgKGN1cnJlbnRHYW1lQ29uZmlnKSB7XG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gaW5pdGlhbGl6ZUdhbWVTdGF0ZShjdXJyZW50R2FtZUNvbmZpZyk7XG4gICAgZ2FtZVN0YXRlID0ge1xuICAgICAgLi4uZ2FtZVN0YXRlLFxuICAgICAgZ29sZDogaW5pdGlhbFN0YXRlLmdvbGQsXG4gICAgICByZXB1dGF0aW9uOiBpbml0aWFsU3RhdGUucmVwdXRhdGlvbixcbiAgICAgIGN1cnJlbnRXb3JsZDogaW5pdGlhbFN0YXRlLmN1cnJlbnRXb3JsZCxcbiAgICAgIGRheTogaW5pdGlhbFN0YXRlLmRheSxcbiAgICAgIGlubk5hbWU6IGluaXRpYWxTdGF0ZS5pbm5OYW1lLFxuICAgIH07XG4gIH1cblxuICAvLyDliJvlu7rpobbpg6jmoI/vvIjku47lj5jph4/ooajor7vlj5bmlbDmja7vvIlcbiAgY29uc3QgdG9wQmFyQ29udGFpbmVyID0gYXBwLnF1ZXJ5U2VsZWN0b3IoJy5taGpnLXRvcGJhci1jb250YWluZXInKTtcbiAgaWYgKHRvcEJhckNvbnRhaW5lcikge1xuICAgIHRvcEJhciA9IG5ldyBUb3BCYXIoKTsgLy8g5LiN5Lyg5Yid5aeL54q25oCB77yM6K6p57uE5Lu25LuO5Y+Y6YeP6KGo6K+75Y+WXG4gICAgdG9wQmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRvcEJhci5jcmVhdGVFbGVtZW50KCkpO1xuICB9XG5cbiAgLy8g5Yib5bu65Luq6KGo5p2/77yI5LuO5Y+Y6YeP6KGo6K+75Y+W5pWw5o2u77yJXG4gIGNvbnN0IGRhc2hib2FyZENvbnRhaW5lciA9IGFwcC5xdWVyeVNlbGVjdG9yKCcubWhqZy1kYXNoYm9hcmQtY29udGFpbmVyJyk7XG4gIGlmIChkYXNoYm9hcmRDb250YWluZXIpIHtcbiAgICBjb25zdCBkYXNoYm9hcmRDYWxsYmFja3M6IERhc2hib2FyZENhbGxiYWNrcyA9IHtcbiAgICAgIG9uVGFiQ2hhbmdlOiBoYW5kbGVUYWJDaGFuZ2UsXG4gICAgfTtcbiAgICBkYXNoYm9hcmQgPSBuZXcgRGFzaGJvYXJkKGRhc2hib2FyZENhbGxiYWNrcyk7IC8vIOS4jeS8oOWIneWni+eKtuaAge+8jOiuqee7hOS7tuS7juWPmOmHj+ihqOivu+WPllxuICAgIGRhc2hib2FyZENvbnRhaW5lci5hcHBlbmRDaGlsZChkYXNoYm9hcmQuY3JlYXRlRWxlbWVudCgpKTtcbiAgfVxuXG4gIC8vIOWIm+W7uuaooeaAgeahhu+8iOS9huS4jeeri+WNs+aYvuekuu+8iVxuICBjb25zdCBtb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LmJvZHk7XG5cbiAgLy8gR3Vlc3RzIE1vZGFs77yI5LuO5Y+Y6YeP6KGo6K+75Y+W5pWw5o2u77yJXG4gIGNvbnN0IGd1ZXN0c01vZGFsQ2FsbGJhY2tzOiBHdWVzdHNNb2RhbENhbGxiYWNrcyA9IHtcbiAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICBoYW5kbGVUYWJDaGFuZ2UoR2FtZVRhYi5EQVNIQk9BUkQpO1xuICAgIH0sXG4gIH07XG4gIGd1ZXN0c01vZGFsID0gbmV3IEd1ZXN0c01vZGFsKG51bGwsIGd1ZXN0c01vZGFsQ2FsbGJhY2tzKTsgLy8g5LygIG51bGzvvIzorqnnu4Tku7bku47lj5jph4/ooajor7vlj5ZcbiAgbW9kYWxDb250YWluZXIuYXBwZW5kQ2hpbGQoZ3Vlc3RzTW9kYWwuY3JlYXRlRWxlbWVudCgpKTtcblxuICAvLyBCdWlsZCBNb2RhbFxuICBjb25zdCBidWlsZE1vZGFsQ2FsbGJhY2tzOiBCdWlsZE1vZGFsQ2FsbGJhY2tzID0ge1xuICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgIGhhbmRsZVRhYkNoYW5nZShHYW1lVGFiLkRBU0hCT0FSRCk7XG4gICAgfSxcbiAgfTtcbiAgYnVpbGRNb2RhbCA9IG5ldyBCdWlsZE1vZGFsKGJ1aWxkTW9kYWxDYWxsYmFja3MpO1xuICBtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChidWlsZE1vZGFsLmNyZWF0ZUVsZW1lbnQoKSk7XG5cbiAgLy8gU3RhZmYgTW9kYWzvvIjku47lj5jph4/ooajor7vlj5bmlbDmja7vvIlcbiAgY29uc3Qgc3RhZmZNb2RhbENhbGxiYWNrczogU3RhZmZNb2RhbENhbGxiYWNrcyA9IHtcbiAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICBoYW5kbGVUYWJDaGFuZ2UoR2FtZVRhYi5EQVNIQk9BUkQpO1xuICAgIH0sXG4gICAgb25JbnRlcmFjdDogKHN0YWZmSWQ6IHN0cmluZykgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0ludGVyYWN0IHdpdGggc3RhZmY6Jywgc3RhZmZJZCk7XG4gICAgICAvLyBUT0RPOiDlrp7njrDkuqTkupLpgLvovpFcbiAgICB9LFxuICAgIG9uTWFuYWdlOiAoc3RhZmZJZDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnTWFuYWdlIHN0YWZmOicsIHN0YWZmSWQpO1xuICAgICAgLy8gVE9ETzog5a6e546w566h55CG6YC76L6RXG4gICAgfSxcbiAgfTtcbiAgc3RhZmZNb2RhbCA9IG5ldyBTdGFmZk1vZGFsKG51bGwsIHN0YWZmTW9kYWxDYWxsYmFja3MpOyAvLyDkvKAgbnVsbO+8jOiuqee7hOS7tuS7juWPmOmHj+ihqOivu+WPllxuICBtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChzdGFmZk1vZGFsLmNyZWF0ZUVsZW1lbnQoKSk7XG5cbiAgLy8gU3RvcnkgTW9kYWxcbiAgY29uc3Qgc3RvcnlNb2RhbENhbGxiYWNrczogU3RvcnlNb2RhbENhbGxiYWNrcyA9IHtcbiAgICBvbkNsb3NlOiAoKSA9PiB7XG4gICAgICBoYW5kbGVUYWJDaGFuZ2UoR2FtZVRhYi5EQVNIQk9BUkQpO1xuICAgIH0sXG4gIH07XG5cbiAgc3RvcnlNb2RhbCA9IG5ldyBTdG9yeU1vZGFsKHN0b3J5TW9kYWxDYWxsYmFja3MpO1xuICBtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChzdG9yeU1vZGFsLmNyZWF0ZUVsZW1lbnQoKSk7XG5cbiAgLy8g5rOo5YaM5Yiw5bqU55So54q25oCB5ZKM5qCH562+6aG1566h55CG5Zmo77yI5bu26L+f5omn6KGM77yM6YG/5YWN5b6q546v5L6d6LWW77yJXG4gIChhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBzZXRTdG9yeU1vZGFsIH0gPSBhd2FpdCBpbXBvcnQoJy4vdXRpbHMvYXBwU3RhdGUnKTtcbiAgICBzZXRTdG9yeU1vZGFsKHN0b3J5TW9kYWwpO1xuICAgIGNvbnN0IHsgc2V0VGFiQ2hhbmdlQ2FsbGJhY2sgfSA9IGF3YWl0IGltcG9ydCgnLi91dGlscy90YWJNYW5hZ2VyJyk7XG4gICAgc2V0VGFiQ2hhbmdlQ2FsbGJhY2soaGFuZGxlVGFiQ2hhbmdlSW50ZXJuYWwpO1xuICB9KSgpO1xuXG4gIC8vIOWIneWni+WMluS6i+S7tuebkeWQrO+8iOebkeWQrExMTea2iOaBr+S6i+S7tu+8iVxuICBpbml0aWFsaXplRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAvLyDpobXpnaLliqDovb3ml7bmo4Dmn6Xlubbmm7TmlrDnvJblubTlj7JcbiAgKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IGNoZWNrQW5kVXBkYXRlQ2hyb25pY2xlIH0gPSBhd2FpdCBpbXBvcnQoJy4vdXRpbHMvY2hyb25pY2xlVXBkYXRlcicpO1xuICAgIGF3YWl0IGNoZWNrQW5kVXBkYXRlQ2hyb25pY2xlKCk7XG4gIH0pKCk7XG5cbiAgY29uc29sZS5sb2coJ+KchSBNSEpHIOW6lOeUqOWIneWni+WMluWujOaIkCcpO1xufVxuXG4vKipcbiAqIOa4heeQhuW6lOeUqFxuICovXG5mdW5jdGlvbiBkZXN0cm95QXBwKCk6IHZvaWQge1xuICBpZiAobmF2aWdhdGlvbikge1xuICAgIG5hdmlnYXRpb24uZGVzdHJveSgpO1xuICAgIG5hdmlnYXRpb24gPSBudWxsO1xuICB9XG4gIGlmICh0b3BCYXIpIHtcbiAgICB0b3BCYXIuZGVzdHJveSgpO1xuICAgIHRvcEJhciA9IG51bGw7XG4gIH1cbiAgaWYgKGRhc2hib2FyZCkge1xuICAgIGRhc2hib2FyZC5kZXN0cm95KCk7XG4gICAgZGFzaGJvYXJkID0gbnVsbDtcbiAgfVxuICBpZiAoZ3Vlc3RzTW9kYWwpIHtcbiAgICBndWVzdHNNb2RhbC5kZXN0cm95KCk7XG4gICAgZ3Vlc3RzTW9kYWwgPSBudWxsO1xuICB9XG4gIGlmIChidWlsZE1vZGFsKSB7XG4gICAgYnVpbGRNb2RhbC5kZXN0cm95KCk7XG4gICAgYnVpbGRNb2RhbCA9IG51bGw7XG4gIH1cbiAgaWYgKHN0YWZmTW9kYWwpIHtcbiAgICBzdGFmZk1vZGFsLmRlc3Ryb3koKTtcbiAgICBzdGFmZk1vZGFsID0gbnVsbDtcbiAgfVxuICBpZiAoc3RvcnlNb2RhbCkge1xuICAgIHN0b3J5TW9kYWwuZGVzdHJveSgpO1xuICAgIHN0b3J5TW9kYWwgPSBudWxsO1xuICB9XG4gIGlmIChuZXdHYW1lU2V0dXApIHtcbiAgICBuZXdHYW1lU2V0dXAuZGVzdHJveSgpO1xuICAgIG5ld0dhbWVTZXR1cCA9IG51bGw7XG4gIH1cbiAgaWYgKGNvbmZpcm1EaWFsb2cpIHtcbiAgICBjb25maXJtRGlhbG9nLmRlc3Ryb3koKTtcbiAgICBjb25maXJtRGlhbG9nID0gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIOWIneWni+WMluesrDDpobXvvIjlvIDlp4vlsY/luZXvvIlcbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZVN0YXJ0U2NyZWVuKCk6IHZvaWQge1xuICBjb25zdCBhcHAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XG4gIGlmICghYXBwKSB7XG4gICAgY29uc29sZS5lcnJvcign5om+5LiN5YiwICNhcHAg5YWD57SgJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXBwLmlubmVySFRNTCA9ICcnO1xuXG4gIGNvbnN0IHN0YXJ0Q2FsbGJhY2tzOiBTdGFydFNjcmVlbkNhbGxiYWNrcyA9IHtcbiAgICBvblN0YXJ0OiAoKSA9PiB7XG4gICAgICAvLyDmo4Dmn6XlvZPliY3muLjmiI/nmoTmpbzlsYLmlbBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxhc3RNZXNzYWdlSWQgPSBnZXRMYXN0TWVzc2FnZUlkKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIOW9k+WJjealvOWxguaVsDonLCBsYXN0TWVzc2FnZUlkKTtcblxuICAgICAgICBpZiAobGFzdE1lc3NhZ2VJZCA+IDApIHtcbiAgICAgICAgICAvLyDlpoLmnpzmpbzlsYLmlbAgPiAw77yM55u05o6l6L+b5YWl5ri45oiP6aG16Z2iXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSDmo4DmtYvliLDlt7LmnInmuLjmiI/ov5vluqbvvIznm7TmjqXov5vlhaXmuLjmiI/pobXpnaInKTtcbiAgICAgICAgICBjdXJyZW50UGFnZSA9ICdnYW1lJztcbiAgICAgICAgICBzdGFydFNjcmVlbj8uaGlkZSgpO1xuICAgICAgICAgIGluaXRpYWxpemVBcHAoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDlpoLmnpzmpbzlsYLmlbAgPSAw77yM6L+b5YWl5qCH6aKY6aG16Z2iXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50g5pyq5qOA5rWL5Yiw5ri45oiP6L+b5bqm77yM6L+b5YWl5qCH6aKY6aG16Z2iJyk7XG4gICAgICAgICAgY3VycmVudFBhZ2UgPSAnc3BsYXNoJztcbiAgICAgICAgICBzdGFydFNjcmVlbj8uaGlkZSgpO1xuICAgICAgICAgIGluaXRpYWxpemVTcGxhc2hTY3JlZW4oKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8g5aaC5p6c6I635Y+W5qW85bGC5pWw5aSx6LSl77yM6buY6K6k6L+b5YWl5qCH6aKY6aG16Z2iXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOiOt+WPlualvOWxguaVsOWksei0pe+8jOm7mOiupOi/m+WFpeagh+mimOmhtemdojonLCBlcnJvcik7XG4gICAgICBjdXJyZW50UGFnZSA9ICdzcGxhc2gnO1xuICAgICAgc3RhcnRTY3JlZW4/LmhpZGUoKTtcbiAgICAgIGluaXRpYWxpemVTcGxhc2hTY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xuXG4gIHN0YXJ0U2NyZWVuID0gbmV3IFN0YXJ0U2NyZWVuKHN0YXJ0Q2FsbGJhY2tzKTtcbiAgYXBwLmFwcGVuZENoaWxkKHN0YXJ0U2NyZWVuLmNyZWF0ZUVsZW1lbnQoKSk7XG4gIHN0YXJ0U2NyZWVuLnNob3coKTtcbn1cblxuLyoqXG4gKiDliJ3lp4vljJbmoIfpopjpobXpnaJcbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZVNwbGFzaFNjcmVlbigpOiB2b2lkIHtcbiAgY29uc3QgYXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpO1xuICBpZiAoIWFwcCkgcmV0dXJuO1xuXG4gIC8vIOajgOafpeaYr+WQpuacieWtmOaho+aVsOaNru+8iOi/memHjOWPr+S7peaUueS4uuWunumZheajgOafpemAu+i+ke+8iVxuICBjb25zdCBoYXNTYXZlRGF0YSA9IGZhbHNlOyAvLyBUT0RPOiDlrp7njrDlrp7pmYXnmoTlrZjmoaPmo4Dmn6VcblxuICBjb25zdCBzcGxhc2hDYWxsYmFja3M6IFNwbGFzaFNjcmVlbkNhbGxiYWNrcyA9IHtcbiAgICBvblN0YXJ0TmV3R2FtZTogKCkgPT4ge1xuICAgICAgLy8g55u05o6l6L+b5YWl5Yib5bu66aG16Z2iXG4gICAgICBjdXJyZW50R2FtZUNvbmZpZyA9IG51bGw7XG4gICAgICBjdXJyZW50UGFnZSA9ICdzZXR1cCc7XG4gICAgICBzcGxhc2hTY3JlZW4/LmhpZGUoKTtcbiAgICAgIGluaXRpYWxpemVOZXdHYW1lU2V0dXAoKTtcbiAgICB9LFxuICAgIG9uQ29udGludWVHYW1lOiAoKSA9PiB7XG4gICAgICBjdXJyZW50UGFnZSA9ICdnYW1lJztcbiAgICAgIHNwbGFzaFNjcmVlbj8uaGlkZSgpO1xuICAgICAgaW5pdGlhbGl6ZUFwcCgpO1xuICAgIH0sXG4gICAgb25PcGVuU2V0dGluZ3M6ICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfmiZPlvIDorr7nva4nKTtcbiAgICAgIC8vIFRPRE86IOWunueOsOiuvue9ruWKn+iDvVxuICAgIH0sXG4gICAgb25FeGl0OiAoKSA9PiB7XG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ+ehruWumuimgemAgOWHuuWQl++8nycpKSB7XG4gICAgICAgIHdpbmRvdy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG5cbiAgc3BsYXNoU2NyZWVuID0gbmV3IFNwbGFzaFNjcmVlbihzcGxhc2hDYWxsYmFja3MsIHtcbiAgICB0aXRsZTogJ+ivuOWkqeS+v+aQuuaXheW6lycsXG4gICAgc3VidGl0bGU6ICfov7flpLHogIXnmoTluofmiqTmiYAnLFxuICAgIGhhc1NhdmVEYXRhOiBoYXNTYXZlRGF0YSxcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6ICdodHRwczovL3B1Yi0wZjAzNzUzMjUyZmI0MzllOTY2YTUzOGQ4MDVmMjBlZi5yMi5kZXYvZG9jcy8xNzY1NDU4NzQzNDI1LnBuZycsXG4gICAgc2hvd1NldHRpbmdzOiBmYWxzZSxcbiAgICBzaG93RXhpdDogZmFsc2UsXG4gIH0pO1xuXG4gIGFwcC5hcHBlbmRDaGlsZChzcGxhc2hTY3JlZW4uY3JlYXRlRWxlbWVudCgpKTtcbiAgc3BsYXNoU2NyZWVuLnNob3coKTtcbn1cblxuLyoqXG4gKiDliJ3lp4vljJblvIDlsYDliJvlu7rpobXpnaJcbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZU5ld0dhbWVTZXR1cCgpOiB2b2lkIHtcbiAgY29uc3QgYXBwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpO1xuICBpZiAoIWFwcCkgcmV0dXJuO1xuXG4gIGFwcC5pbm5lckhUTUwgPSAnJztcblxuICBjb25zdCBjYWxsYmFja3M6IE5ld0dhbWVTZXR1cENhbGxiYWNrcyA9IHtcbiAgICBvbkNhbmNlbDogKCkgPT4ge1xuICAgICAgLy8g6L+U5Zue5qCH6aKY6aG1XG4gICAgICBjdXJyZW50UGFnZSA9ICdzcGxhc2gnO1xuICAgICAgYXBwLmlubmVySFRNTCA9ICcnO1xuICAgICAgaW5pdGlhbGl6ZVNwbGFzaFNjcmVlbigpO1xuICAgIH0sXG4gICAgb25Db25maXJtOiBhc3luYyAoY29uZmlnOiBHYW1lQ29uZmlnKSA9PiB7XG4gICAgICBjdXJyZW50R2FtZUNvbmZpZyA9IGNvbmZpZztcblxuICAgICAgLy8g5bCG5byA5bGA6YWN572u5YaZ5YWlMOWxgua2iOaBr+alvOWxguWPmOmHj1xuICAgICAgY29uc29sZS5sb2coJ/Cfjq4g5byA5aeL5Yid5aeL5YyW5ri45oiP5Y+Y6YePLi4uJyk7XG4gICAgICBjb25zdCBpbml0U3VjY2VzcyA9IGF3YWl0IGluaXRpYWxpemVHYW1lVmFyaWFibGVzKGNvbmZpZyk7XG4gICAgICBpZiAoIWluaXRTdWNjZXNzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDliJ3lp4vljJbmuLjmiI/lj5jph4/lpLHotKXvvIzkvYbnu6fnu63ov5vlhaXmuLjmiI8nKTtcbiAgICAgIH1cblxuICAgICAgLy8g5Yib5bu65byA5bGA5LuL57uN5qW85bGC77yIMeWxgu+8ie+8jOaQuuW4pjDlsYLnmoRkYXRhXG4gICAgICBjb25zb2xlLmxvZygn8J+TliDlvIDlp4vliJvlu7rlvIDlsYDku4vnu43mpbzlsYIuLi4nKTtcbiAgICAgIGNvbnN0IHN0b3J5U3VjY2VzcyA9IGF3YWl0IGNyZWF0ZU9wZW5pbmdTdG9yeU1lc3NhZ2UoY29uZmlnKTtcbiAgICAgIGlmICghc3RvcnlTdWNjZXNzKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDliJvlu7rlvIDlsYDku4vnu43mpbzlsYLlpLHotKXvvIzkvYbnu6fnu63ov5vlhaXmuLjmiI8nKTtcbiAgICAgIH1cblxuICAgICAgY3VycmVudFBhZ2UgPSAnZ2FtZSc7XG4gICAgICBhcHAuaW5uZXJIVE1MID0gJyc7XG4gICAgICBpbml0aWFsaXplQXBwKCk7XG4gICAgfSxcbiAgfTtcblxuICBuZXdHYW1lU2V0dXAgPSBuZXcgTmV3R2FtZVNldHVwKGNhbGxiYWNrcyk7XG4gIGFwcC5hcHBlbmRDaGlsZChuZXdHYW1lU2V0dXAuY3JlYXRlRWxlbWVudCgpKTtcbn1cblxuLy8g5L2/55SoIGpRdWVyeSDov5vooYzpobXpnaLliqDovb1cbiQoKCkgPT4ge1xuICBpbml0aWFsaXplU3RhcnRTY3JlZW4oKTtcbn0pO1xuXG4vLyDpobXpnaLljbjovb3ml7bmuIXnkIZcbiQod2luZG93KS5vbignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICBpZiAoc3RhcnRTY3JlZW4pIHtcbiAgICBzdGFydFNjcmVlbi5kZXN0cm95KCk7XG4gICAgc3RhcnRTY3JlZW4gPSBudWxsO1xuICB9XG4gIGlmIChzcGxhc2hTY3JlZW4pIHtcbiAgICBzcGxhc2hTY3JlZW4uZGVzdHJveSgpO1xuICAgIHNwbGFzaFNjcmVlbiA9IG51bGw7XG4gIH1cbiAgZGVzdHJveUFwcCgpO1xufSk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/index.ts\n\n}");
  },
  "./src/mhjg/styles/main.scss": 
  /*!***********************************!*\
  !*** ./src/mhjg/styles/main.scss ***!
  \***********************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy9zdHlsZXMvbWFpbi5zY3NzIiwibWFwcGluZ3MiOiI7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvc3R5bGVzL21haW4uc2Nzcz8zMTg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/styles/main.scss\n\n}");
  },
  "./src/mhjg/types.ts": 
  /*!***************************!*\
  !*** ./src/mhjg/types.ts ***!
  \***************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameTab: () => (/* binding */ GameTab)\n/* harmony export */ });\nvar GameTab;\n(function (GameTab) {\n    GameTab["DASHBOARD"] = "DASHBOARD";\n    GameTab["GUESTS"] = "GUESTS";\n    GameTab["BUILD"] = "BUILD";\n    GameTab["STAFF"] = "STAFF";\n    GameTab["STORY"] = "STORY";\n})(GameTab || (GameTab = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy90eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBWSxPQU1YO0FBTkQsV0FBWSxPQUFPO0lBQ2pCLGtDQUF1QjtJQUN2Qiw0QkFBaUI7SUFDakIsMEJBQWU7SUFDZiwwQkFBZTtJQUNmLDBCQUFlO0FBQ2pCLENBQUMsRUFOVyxPQUFPLEtBQVAsT0FBTyxRQU1sQiIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy90eXBlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBHYW1lVGFiIHtcbiAgREFTSEJPQVJEID0gJ0RBU0hCT0FSRCcsXG4gIEdVRVNUUyA9ICdHVUVTVFMnLFxuICBCVUlMRCA9ICdCVUlMRCcsXG4gIFNUQUZGID0gJ1NUQUZGJyxcbiAgU1RPUlkgPSAnU1RPUlknXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2Uge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGFtb3VudDogbnVtYmVyO1xuICBpY29uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3Vlc3Qge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHJhY2U6IHN0cmluZztcbiAgY2xhc3M6IHN0cmluZztcbiAgbGV2ZWw6IG51bWJlcjtcbiAgYXBwZWFyYW5jZTogc3RyaW5nO1xuICBtb29kOiBudW1iZXI7IC8vIDAtMTAwXG4gIGdvbGQ6IG51bWJlcjtcbiAgcmVxdWVzdD86IHN0cmluZztcbiAgYXZhdGFyVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnVpbGRpbmdVcGdyYWRlIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjb3N0OiBudW1iZXI7XG4gIGxldmVsOiBudW1iZXI7XG4gIG1heExldmVsOiBudW1iZXI7XG4gIGltYWdlVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZmYge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHJhY2U6IHN0cmluZztcbiAgY29tYmF0Q2xhc3M6IHN0cmluZztcbiAgaW5uUm9sZTogc3RyaW5nO1xuICBsZXZlbDogbnVtYmVyO1xuICBhcHBlYXJhbmNlOiBzdHJpbmc7XG4gIG1vb2Q/OiBudW1iZXI7IC8vIDAtMTAwXG4gIGZhdm9yYWJpbGl0eTogbnVtYmVyOyAvLyAwLTEwMFxuICB3b3JrU2F0aXNmYWN0aW9uPzogbnVtYmVyOyAvLyAwLTEwMFxuICBzYWxhcnk6IG51bWJlcjtcbiAgbGlrZXM6IHN0cmluZ1tdO1xuICBkaXNsaWtlczogc3RyaW5nW107XG4gIGN1cnJlbnRUaG91Z2h0Pzogc3RyaW5nO1xuICBhdmF0YXJVcmw6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dFbnRyeSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHR5cGU6ICdzeXN0ZW0nIHwgJ25hcnJhdGl2ZScgfCAnY2hhdCc7XG4gIHNlbmRlcj86IHN0cmluZztcbn1cblxuLy8g6JCl5Lia54q25oCBXG5leHBvcnQgdHlwZSBCdXNpbmVzc1N0YXR1cyA9ICfokKXkuJrkuK0nIHwgJ+WNh+e6p+S4rScgfCAn56255aSH5LitJztcblxuLy8g6K6+5pa9L+WMuuWfn1xuZXhwb3J0IGludGVyZmFjZSBGYWNpbGl0eSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgbGV2ZWw6IG51bWJlcjtcbiAgbWF4TGV2ZWw6IG51bWJlcjtcbn1cblxuLy8g5peF6aaG5rOV5YiZXG5leHBvcnQgdHlwZSBJbm5MYXcgPSAn56aB6a2UJyB8ICfpq5jprZQnIHwgJ+WPkeaDheWKm+WcuicgfCAn5aW95pyL5Y+L5rOV5YiZJyB8ICfkuK3nq4snIHwgJ+iHqueUsSc7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/types.ts\n\n}');
  },
  "./src/mhjg/types/gameConfig.ts": 
  /*!**************************************!*\
  !*** ./src/mhjg/types/gameConfig.ts ***!
  \**************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCESS_MODE_OPTIONS: () => (/* binding */ ACCESS_MODE_OPTIONS),\n/* harmony export */   INN_STYLE_OPTIONS: () => (/* binding */ INN_STYLE_OPTIONS),\n/* harmony export */   PERK_OPTIONS: () => (/* binding */ PERK_OPTIONS),\n/* harmony export */   RANDOM_INN_NAMES: () => (/* binding */ RANDOM_INN_NAMES),\n/* harmony export */   WORLD_OPTIONS: () => (/* binding */ WORLD_OPTIONS)\n/* harmony export */ });\n// ä¸–ç•Œé€‰é¡¹æ•°æ®\nconst WORLD_OPTIONS = [\n    {\n        id: 'fantasy',\n        name: 'è‰¾å°”åˆ©äºšå¤§é™†',\n        desc: 'ç»å…¸çš„å¥‡å¹»ä¸–ç•Œã€‚å®¢æºç¨³å®šï¼Œç‰¹äº§æ˜¯é­”æ³•è‰è¯å’Œé¾™è‚‰ã€‚é€‚åˆæ–°æ‰‹ã€‚',\n        difficulty: 'Easy',\n        tags: ['#å‰‘ä¸é­”æ³•', '#å†’é™©è€…', '#é­”å…½'],\n        previewImage: 'https://picsum.photos/800/600?random=fantasy',\n        initialGold: 500,\n        initialMaterials: 100,\n    },\n    {\n        id: 'cyberpunk',\n        name: 'éœ“è™¹åŸ 2099',\n        desc: 'é…¸é›¨ç»ˆå¹´ä¸ç»çš„é’¢é“ä¸›æ—ã€‚å®¢äººä»¬å¯Œæœ‰ä½†æš´èºï¼Œç‰¹äº§æ˜¯åˆæˆé£Ÿç‰©å’Œèƒ½é‡å—ã€‚',\n        difficulty: 'Medium',\n        tags: ['#é«˜ç§‘æŠ€', '#ä¹‰ä½“æ”¹é€ ', '#ä¼ä¸šæˆ˜äº‰'],\n        previewImage: 'https://picsum.photos/800/600?random=cyberpunk',\n        initialGold: 800,\n        initialMaterials: 150,\n    },\n    {\n        id: 'modern',\n        name: 'è‹è“å­¦å›­',\n        desc: 'å’Œå¹³çš„ç°ä»£ä¸–ç•ŒèƒŒé¢éšè—ç€å¼‚èƒ½ã€‚å®¢äººå¤§å¤šæ˜¯å­¦ç”Ÿå’Œé™¤çµå¸ˆï¼Œé€‚åˆå‘å±•â€œå¥½æœ‹å‹æ³•åˆ™â€ã€‚',\n        difficulty: 'Easy',\n        tags: ['#è½»æ¾', '#æ‹çˆ±', '#æ ¡å›­æ€ªè°ˆ'],\n        previewImage: 'https://picsum.photos/800/600?random=modern',\n        initialGold: 400,\n        initialMaterials: 80,\n    },\n    {\n        id: 'wasteland',\n        name: 'ç°çƒ¬åºŸåœŸ',\n        desc: 'æåº¦å±é™©ã€‚è¿™é‡Œçš„äººä¸ºäº†æ°´å’Œé£Ÿç‰©å¯ä»¥ä»˜å‡ºä¸€åˆ‡ã€‚é«˜é£é™©é«˜å›æŠ¥ã€‚',\n        difficulty: 'Hard',\n        tags: ['#ç”Ÿå­˜', '#è¾å°„', '#å˜å¼‚'],\n        previewImage: 'https://picsum.photos/800/600?random=wasteland',\n        initialGold: 300,\n        initialMaterials: 200,\n    },\n];\n// åˆå§‹æ—…åº—é£æ ¼é€‰é¡¹æ•°æ®\nconst INN_STYLE_OPTIONS = [\n    {\n        id: 'oak',\n        name: 'æ©¡æœ¨æ—…åº—',\n        nameEn: 'The Oak Inn',\n        desc: 'è¥¿å¼ç»å…¸ã€ç»“å®ã€ä¼ ç»Ÿã€æ ‡å‡†åŒ–ã€‚ä¸€æ ‹ç»´æŠ¤è‰¯å¥½çš„ä¸¤å±‚ç –æœ¨å»ºç­‘ï¼Œé—¨å£æŒ‚ç€æ“¦å¾—é”ƒäº®çš„é“œåˆ¶æ‹›ç‰Œã€‚',\n        keywords: 'è¥¿å¼ç»å…¸ã€ç»“å®ã€ä¼ ç»Ÿã€æ ‡å‡†åŒ–',\n        appearance: 'ä¸€æ ‹ç»´æŠ¤è‰¯å¥½çš„ä¸¤å±‚ç –æœ¨å»ºç­‘ï¼Œé—¨å£æŒ‚ç€æ“¦å¾—é”ƒäº®çš„é“œåˆ¶æ‹›ç‰Œã€‚çª—æˆ·ç»ç’ƒæ˜å‡€ï¼Œé€å‡ºæš–é»„è‰²çš„ç¯å…‰ã€‚æ¨é—¨è€Œå…¥ï¼Œå¤§å…é“ºç€æ•´é½çš„æœ¨åœ°æ¿ï¼Œè™½ç„¶æœ‰äº›æ—§ä½†æ‰“ç£¨å¾—å¾ˆå…‰æ»‘ï¼Œç»™äººä¸€ç§è¸å®ã€ç¨³é‡çš„æ„Ÿè§‰ã€‚',\n        cognitiveEffect: 'äººä»¬ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€å®¶\"å£ç¢‘ä¸é”™çš„è€ç‰Œæ—…åº—\"ï¼Œä»·æ ¼é€‚ä¸­ï¼ŒæœåŠ¡è§„çŸ©ï¼Œæ˜¯å¤§å¤šæ•°æ™®é€šæ—…å®¢çš„é¦–é€‰ã€‚',\n        initialBonus: 'å› ä¸ºå½¢è±¡æ­£è§„ä¸”äº²æ°‘ï¼Œæ—…åº—çš„åŸºç¡€å®¢æµé‡æå‡ 10%ï¼Œæ›´å®¹æ˜“å¸å¼•æ™®é€šå¸‚æ°‘å’Œè¿‡è·¯å•†é˜Ÿã€‚',\n        bonusName: 'å®¢æºç¨³å®š',\n        icon: 'oak',\n        facilities: {\n            å®¢æˆ¿: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'æ ‡å‡†çš„å•äººé—´ï¼Œé…æœ‰ä¸€å¼ ç»“å®çš„æœ¨åºŠå’Œå¹²å‡€çš„äºšéº»åºŠå•ï¼Œæœ‰ä¸€ä¸ªå°è¡£æŸœå’Œä¹¦æ¡Œï¼Œæ•´æ´èˆ’é€‚ã€‚',\n            },\n            é¤é¥®: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'æä¾›æ ‡å‡†çš„å®¶åº­å¼æ–™ç†ï¼Œå¦‚çƒ¤é¢åŒ…ã€çƒ­ç‚–èœå’Œçƒ¤è‚‰ï¼Œé£Ÿææ–°é²œï¼Œåˆ†é‡åè¶³ã€‚',\n            },\n            è°ƒé…’: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'å§å°ä¾›åº”å½“åœ°å¸¸è§çš„éº¦èŠ½å•¤é…’å’Œæ™®é€šè‘¡è„é…’ï¼Œå£æ„Ÿæ ‡å‡†ï¼Œä»·æ ¼å…¬é“ã€‚',\n            },\n        },\n    },\n    {\n        id: 'street',\n        name: 'è¡—è§’æ—…èˆ',\n        nameEn: 'The Street Corner Motel',\n        desc: 'ç°ä»£ç®€çº¦ã€é«˜æ•ˆã€æ•´æ´ã€åŠŸèƒ½ä¸»ä¹‰ã€‚å…¸å‹çš„ç°ä»£å¿«æ·é…’åº—é£æ ¼ï¼Œæ‹¥æœ‰æ˜äº®çš„ç»ç’ƒé—¨å’Œå¹²å‡€çš„ç™½è‰²å¤–å¢™ã€‚',\n        keywords: 'ç°ä»£ç®€çº¦ã€é«˜æ•ˆã€æ•´æ´ã€åŠŸèƒ½ä¸»ä¹‰',\n        appearance: 'å…¸å‹çš„ç°ä»£å¿«æ·é…’åº—é£æ ¼ï¼Œæ‹¥æœ‰æ˜äº®çš„ç»ç’ƒé—¨å’Œå¹²å‡€çš„ç™½è‰²å¤–å¢™ã€‚å¤§å…å†…è®¾æœ‰å‰å°æ¥å¾…å¤„å’Œå‡ å¼ ä¾›äººä¼‘æ¯çš„å¸ƒè‰ºæ²™å‘ã€‚ç…§æ˜å……è¶³ï¼Œæ¸©åº¦é€‚å®œï¼Œè™½ç„¶ç¼ºä¹è£…é¥°æ„Ÿï¼Œä½†èƒœåœ¨çœ‹èµ·æ¥éå¸¸å«ç”Ÿã€æ­£è§„ã€‚',\n        cognitiveEffect: 'äººä»¬ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€å®¶\"è¿é”å¿«æ·é…’åº—\"ï¼Œè™½ç„¶æ²¡æœ‰ç‰¹è‰²ï¼Œä½†èƒœåœ¨æ ‡å‡†ç»Ÿä¸€ï¼Œä¸ä¼šè¸©é›·ï¼Œè®©äººæ„Ÿåˆ°å®‰å¿ƒã€‚',\n        initialBonus: 'ç°ä»£åŒ–çš„è®¾æ–½å¸ƒå±€è®©æœåŠ¡æµç¨‹éå¸¸å¿«ï¼Œå‘˜å·¥çš„å·¥ä½œæ•ˆç‡æå‡ 10%ï¼ˆå¦‚æ¸…æ´æˆ¿é—´ã€åŠç†å…¥ä½çš„é€Ÿåº¦æ›´å¿«ï¼‰ã€‚',\n        bonusName: 'æ•ˆç‡è‡³ä¸Š',\n        icon: 'street',\n        facilities: {\n            å®¢æˆ¿: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'ç´§å‡‘çš„å•†åŠ¡æˆ¿ï¼Œé…æœ‰ä¸€å¼ æŸ”è½¯åº¦é€‚ä¸­çš„å¼¹ç°§åºŠã€åºŠå¤´æŸœå’Œç‹¬ç«‹å«æµ´ï¼ˆæ·‹æµ´ï¼‰ï¼Œæä¾›24å°æ—¶çƒ­æ°´ã€‚',\n            },\n            é¤é¥®: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'å¹²å‡€çš„ç”¨é¤åŒºï¼Œæä¾›ä¸‰æ˜æ²»ã€å’–å•¡ã€ç®€é¤å¥—é¤ï¼Œè™½ç„¶åƒæ˜¯åŠæˆå“åŠ çƒ­ï¼Œä½†å‘³é“ç¨³å®šä¸”å«ç”Ÿã€‚',\n            },\n            è°ƒé…’: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'ä¸€ä¸ªç»ç’ƒå†·æŸœï¼Œæ•´é½é™ˆåˆ—ç€å„ç§ç½è£…å•¤é…’ã€è‹æ‰“æ°´å’ŒåŠŸèƒ½é¥®æ–™ã€‚',\n            },\n        },\n    },\n    {\n        id: 'crimson',\n        name: 'ç»¯çº¢æ°‘å®¿',\n        nameEn: 'The Crimson B&B',\n        desc: 'å±…å®¶ã€æ¸©é¦¨ã€ç§å¯†ã€å°èµ„ã€‚ä¸€æ ‹çœ‹èµ·æ¥å¾ˆæ¸©é¦¨çš„çº¢ç –å°æ¥¼ï¼Œé—¨å£ç§ç€å‡ ç›†ä¿®å‰ªæ•´é½çš„èŠ±è‰ã€‚',\n        keywords: 'å±…å®¶ã€æ¸©é¦¨ã€ç§å¯†ã€å°èµ„',\n        appearance: 'ä¸€æ ‹çœ‹èµ·æ¥å¾ˆæ¸©é¦¨çš„çº¢ç –å°æ¥¼ï¼Œé—¨å£ç§ç€å‡ ç›†ä¿®å‰ªæ•´é½çš„èŠ±è‰ã€‚å†…éƒ¨é“ºç€åœ°æ¯¯ï¼Œå¢™ä¸ŠæŒ‚ç€å‡ å¹…é£æ™¯ç”»ã€‚å¤§å…é‡Œæœ‰ä¸€ä¸ªä¸å¤§çš„å£ç‚‰å’Œå‡ å¼ èˆ’é€‚çš„æ‰¶æ‰‹æ¤…ï¼Œæ°›å›´æ¯”è¾ƒå®‰é™ï¼Œåƒæ˜¯åœ¨æ‹œè®¿ä¸€ä½æœ‹å‹çš„å®¶ã€‚',\n        cognitiveEffect: 'äººä»¬ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€å®¶\"æ³¨é‡å£ç¢‘çš„å®¶åº­æ—…é¦†\"ï¼Œé€šå¸¸æ¥å¾…é‚£äº›ä¸å–œæ¬¢å–§é—¹ã€è¿½æ±‚å“è´¨çš„å®¢äººã€‚',\n        initialBonus: 'æ¸©é¦¨çš„æ°›å›´è®©å®¢äººæ›´å®¹æ˜“æ”¾æ¾é˜²å¤‡ï¼Œå…¥ä½å®¢äººå¯¹æ—…åº—çš„åˆå§‹å¥½æ„Ÿåº¦ +10ï¼Œæ›´å®¹æ˜“è§¦å‘æ”¯çº¿ä»»åŠ¡æˆ–æ‰“èµã€‚',\n        bonusName: 'å¥½æ„ŸåŠ æˆ',\n        icon: 'crimson',\n        facilities: {\n            å®¢æˆ¿: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'å……æ»¡å±…å®¶æ°”æ¯çš„å§å®¤ï¼ŒåºŠé“ºæŸ”è½¯è“¬æ¾ï¼Œçª—å¸˜é®å…‰æ€§å¾ˆå¥½ï¼Œç”šè‡³è¿˜æœ‰ä¸€ä¸ªå°æ¢³å¦†å°ã€‚',\n            },\n            é¤é¥®: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'æä¾›æ‰‹å·¥åˆ¶ä½œçš„å®¶å¸¸èœï¼Œæ¯”å¦‚è‚‰æ´¾ã€æµ“æ±¤å’Œåˆšå‡ºç‚‰çš„é¥¼å¹²ï¼Œå‘³é“å¾ˆæ¸©é¦¨ã€‚',\n            },\n            è°ƒé…’: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'åªæœ‰å‡ ç§åº—ä¸»ç§è—é£æ ¼çš„çº¢é…’å’ŒèŠ±æœèŒ¶ï¼Œè™½ç„¶ç§ç±»å°‘ï¼Œä½†å“è´¨å°šå¯ã€‚',\n            },\n        },\n    },\n    {\n        id: 'bamboo',\n        name: 'é’ç«¹å®¢æ ˆ',\n        nameEn: 'The Bamboo Inn',\n        desc: 'ä¸œæ–¹ã€æ¸…çˆ½ã€é›…è‡´ã€é€æ°”ã€‚ä¸€åº§å¹²å‡€æ¸…çˆ½çš„æœ¨è´¨å°æ¥¼ï¼Œå‘¨å›´æœ‰ä¸€åœˆç«¹ç¯±ç¬†ã€‚',\n        keywords: 'ä¸œæ–¹ã€æ¸…çˆ½ã€é›…è‡´ã€é€æ°”',\n        appearance: 'ä¸€åº§å¹²å‡€æ¸…çˆ½çš„æœ¨è´¨å°æ¥¼ï¼Œå‘¨å›´æœ‰ä¸€åœˆç«¹ç¯±ç¬†ã€‚å»ºç­‘é€šé£é‡‡å…‰å¾ˆå¥½ï¼Œå¤§å…æ‘†æ”¾ç€å‡ å¼ æ–¹æ¡Œå’Œé•¿å‡³ï¼Œæ“¦æ‹­å¾—ä¸€å°˜ä¸æŸ“ã€‚è§’è½é‡Œç‚¹ç€æ·¡æ·¡çš„ç†é¦™ï¼Œç¯å¢ƒæ¯”æ™®é€šé…’é¦†è¦å®‰é™é›…è‡´ä¸å°‘ã€‚',\n        cognitiveEffect: 'äººä»¬ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€å®¶\"æ ¼è°ƒä¸é”™çš„ä¼‘æ¯å¤„\"ï¼Œé€‚åˆé‚£äº›æƒ³è¦è¿œç¦»å–§åš£ã€é™ä¸‹å¿ƒæ¥åƒé¡¿é¥­ç¡ä¸ªè§‰çš„äººã€‚',\n        initialBonus: 'æ¸…å¹½çš„ç¯å¢ƒæœ‰åŠ©äºæ¢å¤ç²¾åŠ›ï¼Œå®¢äººåœ¨åº—å†…ä¼‘æ¯æ—¶ï¼Œä½“åŠ›å’Œç²¾åŠ›çš„æ¢å¤é€Ÿåº¦å¾®å¹…æå‡ï¼ˆ+5%ï¼‰ã€‚',\n        bonusName: 'ç–²åŠ³ç¼“è§£',\n        icon: 'bamboo',\n        facilities: {\n            å®¢æˆ¿: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'é“ºè®¾ç€æœ¨åœ°æ¿æˆ–æ¦»æ¦»ç±³çš„æˆ¿é—´ï¼Œè¢«è¤¥å¹²å‡€æ•´æ´ï¼Œçª—å¤–èƒ½çœ‹åˆ°ä¸€ç‚¹ç»¿æ¤ï¼Œä»¤äººå¿ƒæ—·ç¥æ€¡ã€‚',\n            },\n            é¤é¥®: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'æä¾›æ¸…æ·¡å¯å£çš„é¥­èœï¼Œå¦‚ç™½ç±³é¥­ã€ç‚’æ—¶è”¬ã€æ¸…è’¸é±¼å’Œçƒ­èŒ¶ï¼Œå¥åº·ä¸”è½èƒƒã€‚',\n            },\n            è°ƒé…’: {\n                ç­‰çº§: 1,\n                å½“å‰ç­‰çº§æè¿°: 'æä¾›æ¸…é…’ã€ç±³é…’å’Œé«˜å“è´¨çš„èŒ¶æ°´ï¼Œç”¨ç“·ç¢—æˆ–é™¶æ¯ç››è£…ã€‚',\n            },\n        },\n    },\n];\n// åˆå§‹ç¦åˆ©é€‰é¡¹æ•°æ®\nconst PERK_OPTIONS = [\n    {\n        id: 'wealth',\n        name: 'è£…ä¿®åŸºé‡‘',\n        desc: 'å¼€å±€æ›´å®¹æ˜“è·å¾—é«˜é¢çš„é‡‘å¸ã€‚',\n        icon: 'gem',\n    },\n    {\n        id: 'loyal-guard',\n        name: 'å¿ è¯šå«å£«',\n        desc: 'å¼€å±€è‡ªå¸¦ä¸€åå¼ºåŠ›å‘˜å·¥ï¼ˆé«˜ç­‰çº§ä¿é•–æˆ–å¥³ä»†ï¼‰ã€‚',\n        icon: 'shield',\n    },\n];\nconst ACCESS_MODE_OPTIONS = [\n    {\n        id: 'physical',\n        mode_name: 'å®ä½“æ˜¾ç°',\n        condition: 'æ— æ¡ä»¶å¼€æ”¾ã€‚æ—…åº—ä½œä¸ºå®ä½“å»ºç­‘å­˜åœ¨äºå½“åœ°ï¼ˆå¦‚é—¹å¸‚åŒºï¼‰ï¼Œä»»ä½•è·¯è¿‡çš„ç”Ÿç‰©éƒ½èƒ½çœ‹åˆ°æ‹›ç‰Œã€å¤§é—¨å¹¶æ¨é—¨è€Œå…¥ã€‚é€‚åˆå¹¿çº³å®¢æºã€‚',\n        icon: 'door',\n    },\n    {\n        id: 'desperation',\n        mode_name: 'ç»å¢ƒæ•‘èµ',\n        condition: 'å”¯å¿ƒè§¦å‘ã€‚æ—…åº—åœ¨ç‰©ç†å±‚é¢ä¸å¯è§ï¼ˆæˆ–å¤„äºæŠ˜å ç©ºé—´ï¼‰ã€‚åªæœ‰å½“æŸä¸€ä¸ªä½“é™·å…¥æåº¦ç»æœ›ã€æ¿’æ­»æˆ–å¼ºçƒˆç¥ˆæ±‚æ—¶ï¼Œæ—…åº—çš„å¤§é—¨æ‰ä¼šçªå…€åœ°å‡ºç°åœ¨å…¶é¢å‰ï¼ˆæ— è®ºæ˜¯åœ¨æ·±æµ·ã€å è½çš„åŠç©ºè¿˜æ˜¯ä¸‡å†›ä¸›ä¸­ï¼‰ã€‚',\n        icon: 'heart',\n    },\n    {\n        id: 'temporal',\n        mode_name: 'æŠ‰æ‹©æ—¶åˆ»',\n        condition: 'åªæœ‰ç”Ÿæ´»é¢ä¸´å·¨å¤§åˆ†å²”é“è·¯çš„æŠ‰æ‹©ä¹‹äººï¼Œæ‰ä¼šçœ‹è§æ—…é¦†çš„å¤§é—¨ã€‚',\n        icon: 'clock',\n    },\n    {\n        id: 'fated',\n        mode_name: 'å‘½è¿èŠ‚ç‚¹',\n        condition: 'å› æœå¾‹ç­›é€‰ã€‚æ—…åº—è‡ªåŠ¨æ‰«æä½é¢ï¼Œä»…å¯¹\"èº«è´Ÿå¤§æ°”è¿è€…\"ã€\"å³å°†æ”¹å˜ä¸–ç•Œçº¿è€…\"æˆ–\"å‰§æƒ…å…³é”®è§’è‰²\"å¼€æ”¾è§†é‡ã€‚æ™®é€šäººå³ä¾¿æ“¦è‚©è€Œè¿‡ä¹Ÿæ— æ³•å¯Ÿè§‰ã€‚',\n        icon: 'star',\n    },\n];\n// éšæœºæ—…åº—åç§°\nconst RANDOM_INN_NAMES = [\n    'å¤šæ¬¡å…ƒä¾¿æºæ—…åº—',\n    'æ— å°½å®¢æ ˆ',\n    'ä½é¢å°½å¤´',\n    'é»‘çŒ«æ—…ç¤¾',\n    'æ˜Ÿè¾°é©¿ç«™',\n    'æ—¶å…‰é…’é¦†',\n    'å‘½è¿ä¹‹é—¨',\n    'è™šç©ºä¹‹çœ¼',\n    'è·¨åŸŸåº‡æŠ¤æ‰€',\n    'å¤šå…ƒæ—…åº—',\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZS9zcmMvbWhqZy90eXBlcy9nYW1lQ29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOS4lueVjOexu+Wei+aemuS4vlxuZXhwb3J0IHR5cGUgV29ybGRUeXBlID0gJ2ZhbnRhc3knIHwgJ2N5YmVycHVuaycgfCAnbW9kZXJuJyB8ICd3YXN0ZWxhbmQnO1xuXG4vLyDliJ3lp4vml4Xlupfpo47moLznsbvlnotcbmV4cG9ydCB0eXBlIElublN0eWxlID0gJ29haycgfCAnc3RyZWV0JyB8ICdjcmltc29uJyB8ICdiYW1ib28nO1xuXG4vLyDliJ3lp4vnpo/liKnnsbvlnotcbmV4cG9ydCB0eXBlIFN0YXJ0aW5nUGVyayA9ICd3ZWFsdGgnIHwgJ2xveWFsLWd1YXJkJztcblxuLy8g5YeG5YWl5p2h5Lu257G75Z6LXG5leHBvcnQgdHlwZSBBY2Nlc3NNb2RlID0gJ3BoeXNpY2FsJyB8ICdkZXNwZXJhdGlvbicgfCAndGVtcG9yYWwnIHwgJ2ZhdGVkJztcblxuLy8g5ri45oiP6YWN572u5o6l5Y+jXG5leHBvcnQgaW50ZXJmYWNlIEdhbWVDb25maWcge1xuICBpbm5OYW1lOiBzdHJpbmc7XG4gIGlublN0eWxlOiBJbm5TdHlsZTtcbiAgc3RhcnRpbmdXb3JsZDogV29ybGRUeXBlO1xuICBzdGFydGluZ1Blcms6IFN0YXJ0aW5nUGVyaztcbiAgYWNjZXNzTW9kZTogQWNjZXNzTW9kZTtcbiAgc2VlZDogbnVtYmVyO1xufVxuXG4vLyDkuJbnlYzpgInpobnphY3nva5cbmV4cG9ydCBpbnRlcmZhY2UgV29ybGRPcHRpb24ge1xuICBpZDogV29ybGRUeXBlO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2M6IHN0cmluZztcbiAgZGlmZmljdWx0eTogJ0Vhc3knIHwgJ01lZGl1bScgfCAnSGFyZCc7XG4gIHRhZ3M6IHN0cmluZ1tdO1xuICBwcmV2aWV3SW1hZ2U6IHN0cmluZztcbiAgaW5pdGlhbEdvbGQ6IG51bWJlcjtcbiAgaW5pdGlhbE1hdGVyaWFsczogbnVtYmVyO1xufVxuXG4vLyDliJ3lp4vml4Xlupfpo47moLzpgInpoblcbmV4cG9ydCBpbnRlcmZhY2UgSW5uU3R5bGVPcHRpb24ge1xuICBpZDogSW5uU3R5bGU7XG4gIG5hbWU6IHN0cmluZztcbiAgbmFtZUVuOiBzdHJpbmc7XG4gIGRlc2M6IHN0cmluZztcbiAga2V5d29yZHM6IHN0cmluZztcbiAgYXBwZWFyYW5jZTogc3RyaW5nO1xuICBjb2duaXRpdmVFZmZlY3Q6IHN0cmluZztcbiAgaW5pdGlhbEJvbnVzOiBzdHJpbmc7XG4gIGJvbnVzTmFtZTogc3RyaW5nO1xuICBpY29uOiBzdHJpbmc7XG4gIGZhY2lsaXRpZXM6IHtcbiAgICDlrqLmiL86IHsg562J57qnOiBudW1iZXI7IOW9k+WJjeetiee6p+aPj+i/sDogc3RyaW5nIH07XG4gICAg6aSQ6aWuOiB7IOetiee6pzogbnVtYmVyOyDlvZPliY3nrYnnuqfmj4/ov7A6IHN0cmluZyB9O1xuICAgIOiwg+mFkjogeyDnrYnnuqc6IG51bWJlcjsg5b2T5YmN562J57qn5o+P6L+wOiBzdHJpbmcgfTtcbiAgfTtcbn1cblxuLy8g5Yid5aeL56aP5Yip6YCJ6aG5XG5leHBvcnQgaW50ZXJmYWNlIFBlcmtPcHRpb24ge1xuICBpZDogU3RhcnRpbmdQZXJrO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2M6IHN0cmluZztcbiAgaWNvbjogc3RyaW5nO1xufVxuXG4vLyDkuJbnlYzpgInpobnmlbDmja5cbmV4cG9ydCBjb25zdCBXT1JMRF9PUFRJT05TOiBXb3JsZE9wdGlvbltdID0gW1xuICB7XG4gICAgaWQ6ICdmYW50YXN5JyxcbiAgICBuYW1lOiAn6Im+5bCU5Yip5Lqa5aSn6ZmGJyxcbiAgICBkZXNjOiAn57uP5YW455qE5aWH5bm75LiW55WM44CC5a6i5rqQ56iz5a6a77yM54m55Lqn5piv6a2U5rOV6I2J6I2v5ZKM6b6Z6IKJ44CC6YCC5ZCI5paw5omL44CCJyxcbiAgICBkaWZmaWN1bHR5OiAnRWFzeScsXG4gICAgdGFnczogWycj5YmR5LiO6a2U5rOVJywgJyPlhpLpmanogIUnLCAnI+mtlOWFvSddLFxuICAgIHByZXZpZXdJbWFnZTogJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy84MDAvNjAwP3JhbmRvbT1mYW50YXN5JyxcbiAgICBpbml0aWFsR29sZDogNTAwLFxuICAgIGluaXRpYWxNYXRlcmlhbHM6IDEwMCxcbiAgfSxcbiAge1xuICAgIGlkOiAnY3liZXJwdW5rJyxcbiAgICBuYW1lOiAn6ZyT6Jm55Z+OIDIwOTknLFxuICAgIGRlc2M6ICfphbjpm6jnu4jlubTkuI3nu53nmoTpkqLpk4HkuJvmnpfjgILlrqLkurrku6zlr4zmnInkvYbmmrTouoHvvIznibnkuqfmmK/lkIjmiJDpo5/nianlkozog73ph4/lnZfjgIInLFxuICAgIGRpZmZpY3VsdHk6ICdNZWRpdW0nLFxuICAgIHRhZ3M6IFsnI+mrmOenkeaKgCcsICcj5LmJ5L2T5pS56YCgJywgJyPkvIHkuJrmiJjkuoknXSxcbiAgICBwcmV2aWV3SW1hZ2U6ICdodHRwczovL3BpY3N1bS5waG90b3MvODAwLzYwMD9yYW5kb209Y3liZXJwdW5rJyxcbiAgICBpbml0aWFsR29sZDogODAwLFxuICAgIGluaXRpYWxNYXRlcmlhbHM6IDE1MCxcbiAgfSxcbiAge1xuICAgIGlkOiAnbW9kZXJuJyxcbiAgICBuYW1lOiAn6IuN6JOd5a2m5ZutJyxcbiAgICBkZXNjOiAn5ZKM5bmz55qE546w5Luj5LiW55WM6IOM6Z2i6ZqQ6JeP552A5byC6IO944CC5a6i5Lq65aSn5aSa5piv5a2m55Sf5ZKM6Zmk54G15biI77yM6YCC5ZCI5Y+R5bGV4oCc5aW95pyL5Y+L5rOV5YiZ4oCd44CCJyxcbiAgICBkaWZmaWN1bHR5OiAnRWFzeScsXG4gICAgdGFnczogWycj6L275p2+JywgJyPmgYvniLEnLCAnI+agoeWbreaAquiwiCddLFxuICAgIHByZXZpZXdJbWFnZTogJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy84MDAvNjAwP3JhbmRvbT1tb2Rlcm4nLFxuICAgIGluaXRpYWxHb2xkOiA0MDAsXG4gICAgaW5pdGlhbE1hdGVyaWFsczogODAsXG4gIH0sXG4gIHtcbiAgICBpZDogJ3dhc3RlbGFuZCcsXG4gICAgbmFtZTogJ+eBsOeDrOW6n+WcnycsXG4gICAgZGVzYzogJ+aegeW6puWNsemZqeOAgui/memHjOeahOS6uuS4uuS6huawtOWSjOmjn+eJqeWPr+S7peS7mOWHuuS4gOWIh+OAgumrmOmjjumZqemrmOWbnuaKpeOAgicsXG4gICAgZGlmZmljdWx0eTogJ0hhcmQnLFxuICAgIHRhZ3M6IFsnI+eUn+WtmCcsICcj6L6Q5bCEJywgJyPlj5jlvIInXSxcbiAgICBwcmV2aWV3SW1hZ2U6ICdodHRwczovL3BpY3N1bS5waG90b3MvODAwLzYwMD9yYW5kb209d2FzdGVsYW5kJyxcbiAgICBpbml0aWFsR29sZDogMzAwLFxuICAgIGluaXRpYWxNYXRlcmlhbHM6IDIwMCxcbiAgfSxcbl07XG5cbi8vIOWIneWni+aXheW6l+mjjuagvOmAiemhueaVsOaNrlxuZXhwb3J0IGNvbnN0IElOTl9TVFlMRV9PUFRJT05TOiBJbm5TdHlsZU9wdGlvbltdID0gW1xuICB7XG4gICAgaWQ6ICdvYWsnLFxuICAgIG5hbWU6ICfmqaHmnKjml4XlupcnLFxuICAgIG5hbWVFbjogJ1RoZSBPYWsgSW5uJyxcbiAgICBkZXNjOiAn6KW/5byP57uP5YW444CB57uT5a6e44CB5Lyg57uf44CB5qCH5YeG5YyW44CC5LiA5qCL57u05oqk6Imv5aW955qE5Lik5bGC56CW5pyo5bu6562R77yM6Zeo5Y+j5oyC552A5pOm5b6X6ZSD5Lqu55qE6ZOc5Yi25oub54mM44CCJyxcbiAgICBrZXl3b3JkczogJ+ilv+W8j+e7j+WFuOOAgee7k+WunuOAgeS8oOe7n+OAgeagh+WHhuWMlicsXG4gICAgYXBwZWFyYW5jZTpcbiAgICAgICfkuIDmoIvnu7TmiqToia/lpb3nmoTkuKTlsYLnoJbmnKjlu7rnrZHvvIzpl6jlj6PmjILnnYDmk6blvpfplIPkuq7nmoTpk5zliLbmi5vniYzjgILnqpfmiLfnjrvnkoPmmI7lh4DvvIzpgI/lh7rmmpbpu4ToibLnmoTnga/lhYnjgILmjqjpl6jogIzlhaXvvIzlpKfljoXpk7rnnYDmlbTpvZDnmoTmnKjlnLDmnb/vvIzomb3nhLbmnInkupvml6fkvYbmiZPno6jlvpflvojlhYnmu5HvvIznu5nkurrkuIDnp43ouI/lrp7jgIHnqLPph43nmoTmhJ/op4njgIInLFxuICAgIGNvZ25pdGl2ZUVmZmVjdDogJ+S6uuS7rOS8muiupOS4uui/meaYr+S4gOWutlwi5Y+j56KR5LiN6ZSZ55qE6ICB54mM5peF5bqXXCLvvIzku7fmoLzpgILkuK3vvIzmnI3liqHop4Tnn6nvvIzmmK/lpKflpJrmlbDmma7pgJrml4XlrqLnmoTpppbpgInjgIInLFxuICAgIGluaXRpYWxCb251czogJ+WboOS4uuW9ouixoeato+inhOS4lOS6suawke+8jOaXheW6l+eahOWfuuehgOWuoua1gemHj+aPkOWNhyAxMCXvvIzmm7TlrrnmmJPlkLjlvJXmma7pgJrluILmsJHlkozov4fot6/llYbpmJ/jgIInLFxuICAgIGJvbnVzTmFtZTogJ+Wuoua6kOeos+WumicsXG4gICAgaWNvbjogJ29haycsXG4gICAgZmFjaWxpdGllczoge1xuICAgICAg5a6i5oi/OiB7XG4gICAgICAgIOetiee6pzogMSxcbiAgICAgICAg5b2T5YmN562J57qn5o+P6L+wOiAn5qCH5YeG55qE5Y2V5Lq66Ze077yM6YWN5pyJ5LiA5byg57uT5a6e55qE5pyo5bqK5ZKM5bmy5YeA55qE5Lqa6bq75bqK5Y2V77yM5pyJ5LiA5Liq5bCP6KGj5p+c5ZKM5Lmm5qGM77yM5pW05rSB6IiS6YCC44CCJyxcbiAgICAgIH0sXG4gICAgICDppJDppa46IHtcbiAgICAgICAg562J57qnOiAxLFxuICAgICAgICDlvZPliY3nrYnnuqfmj4/ov7A6ICfmj5DkvpvmoIflh4bnmoTlrrbluq3lvI/mlpnnkIbvvIzlpoLng6TpnaLljIXjgIHng63ngpboj5zlkozng6TogonvvIzpo5/mnZDmlrDpspzvvIzliIbph4/ljYHotrPjgIInLFxuICAgICAgfSxcbiAgICAgIOiwg+mFkjoge1xuICAgICAgICDnrYnnuqc6IDEsXG4gICAgICAgIOW9k+WJjeetiee6p+aPj+i/sDogJ+WQp+WPsOS+m+W6lOW9k+WcsOW4uOingeeahOm6puiKveWVpOmFkuWSjOaZrumAmuiRoeiQhOmFku+8jOWPo+aEn+agh+WHhu+8jOS7t+agvOWFrOmBk+OAgicsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpZDogJ3N0cmVldCcsXG4gICAgbmFtZTogJ+ihl+inkuaXheiIjScsXG4gICAgbmFtZUVuOiAnVGhlIFN0cmVldCBDb3JuZXIgTW90ZWwnLFxuICAgIGRlc2M6ICfnjrDku6PnroDnuqbjgIHpq5jmlYjjgIHmlbTmtIHjgIHlip/og73kuLvkuYnjgILlhbjlnovnmoTnjrDku6Plv6vmjbfphZLlupfpo47moLzvvIzmi6XmnInmmI7kuq7nmoTnjrvnkoPpl6jlkozlubLlh4DnmoTnmb3oibLlpJblopnjgIInLFxuICAgIGtleXdvcmRzOiAn546w5Luj566A57qm44CB6auY5pWI44CB5pW05rSB44CB5Yqf6IO95Li75LmJJyxcbiAgICBhcHBlYXJhbmNlOlxuICAgICAgJ+WFuOWei+eahOeOsOS7o+W/q+aNt+mFkuW6l+mjjuagvO+8jOaLpeacieaYjuS6rueahOeOu+eSg+mXqOWSjOW5suWHgOeahOeZveiJsuWkluWimeOAguWkp+WOheWGheiuvuacieWJjeWPsOaOpeW+heWkhOWSjOWHoOW8oOS+m+S6uuS8keaBr+eahOW4g+iJuuaymeWPkeOAgueFp+aYjuWFhei2s++8jOa4qeW6pumAguWunO+8jOiZveeEtue8uuS5j+ijhemlsOaEn++8jOS9huiDnOWcqOeci+i1t+adpemdnuW4uOWNq+eUn+OAgeato+inhOOAgicsXG4gICAgY29nbml0aXZlRWZmZWN0OiAn5Lq65Lus5Lya6K6k5Li66L+Z5piv5LiA5a62XCLov57plIHlv6vmjbfphZLlupdcIu+8jOiZveeEtuayoeacieeJueiJsu+8jOS9huiDnOWcqOagh+WHhue7n+S4gO+8jOS4jeS8mui4qembt++8jOiuqeS6uuaEn+WIsOWuieW/g+OAgicsXG4gICAgaW5pdGlhbEJvbnVzOiAn546w5Luj5YyW55qE6K6+5pa95biD5bGA6K6p5pyN5Yqh5rWB56iL6Z2e5bi45b+r77yM5ZGY5bel55qE5bel5L2c5pWI546H5o+Q5Y2HIDEwJe+8iOWmgua4hea0geaIv+mXtOOAgeWKnueQhuWFpeS9j+eahOmAn+W6puabtOW/q++8ieOAgicsXG4gICAgYm9udXNOYW1lOiAn5pWI546H6Iez5LiKJyxcbiAgICBpY29uOiAnc3RyZWV0JyxcbiAgICBmYWNpbGl0aWVzOiB7XG4gICAgICDlrqLmiL86IHtcbiAgICAgICAg562J57qnOiAxLFxuICAgICAgICDlvZPliY3nrYnnuqfmj4/ov7A6ICfntKflh5HnmoTllYbliqHmiL/vvIzphY3mnInkuIDlvKDmn5Tova/luqbpgILkuK3nmoTlvLnnsKfluorjgIHluorlpLTmn5zlkozni6znq4vljavmtbTvvIjmt4vmtbTvvInvvIzmj5DkvpsyNOWwj+aXtueDreawtOOAgicsXG4gICAgICB9LFxuICAgICAg6aSQ6aWuOiB7XG4gICAgICAgIOetiee6pzogMSxcbiAgICAgICAg5b2T5YmN562J57qn5o+P6L+wOiAn5bmy5YeA55qE55So6aSQ5Yy677yM5o+Q5L6b5LiJ5piO5rK744CB5ZKW5ZWh44CB566A6aSQ5aWX6aSQ77yM6Jm954S25YOP5piv5Y2K5oiQ5ZOB5Yqg54Ot77yM5L2G5ZGz6YGT56iz5a6a5LiU5Y2r55Sf44CCJyxcbiAgICAgIH0sXG4gICAgICDosIPphZI6IHtcbiAgICAgICAg562J57qnOiAxLFxuICAgICAgICDlvZPliY3nrYnnuqfmj4/ov7A6ICfkuIDkuKrnjrvnkoPlhrfmn5zvvIzmlbTpvZDpmYjliJfnnYDlkITnp43nvZDoo4XllaTphZLjgIHoi4/miZPmsLTlkozlip/og73ppa7mlpnjgIInLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgaWQ6ICdjcmltc29uJyxcbiAgICBuYW1lOiAn57uv57qi5rCR5a6/JyxcbiAgICBuYW1lRW46ICdUaGUgQ3JpbXNvbiBCJkInLFxuICAgIGRlc2M6ICflsYXlrrbjgIHmuKnppqjjgIHnp4Hlr4bjgIHlsI/otYTjgILkuIDmoIvnnIvotbfmnaXlvojmuKnppqjnmoTnuqLnoJblsI/mpbzvvIzpl6jlj6Pnp43nnYDlh6Dnm4bkv67liarmlbTpvZDnmoToirHojYnjgIInLFxuICAgIGtleXdvcmRzOiAn5bGF5a6244CB5rip6aao44CB56eB5a+G44CB5bCP6LWEJyxcbiAgICBhcHBlYXJhbmNlOlxuICAgICAgJ+S4gOagi+eci+i1t+adpeW+iOa4qemmqOeahOe6ouegluWwj+alvO+8jOmXqOWPo+enjeedgOWHoOebhuS/ruWJquaVtOm9kOeahOiKseiNieOAguWGhemDqOmTuuedgOWcsOavr++8jOWimeS4iuaMguedgOWHoOW5hemjjuaZr+eUu+OAguWkp+WOhemHjOacieS4gOS4quS4jeWkp+eahOWjgeeCieWSjOWHoOW8oOiIkumAgueahOaJtuaJi+akhe+8jOawm+WbtOavlOi+g+Wuiemdme+8jOWDj+aYr+WcqOaLnOiuv+S4gOS9jeaci+WPi+eahOWutuOAgicsXG4gICAgY29nbml0aXZlRWZmZWN0OiAn5Lq65Lus5Lya6K6k5Li66L+Z5piv5LiA5a62XCLms6jph43lj6PnopHnmoTlrrbluq3ml4XppoZcIu+8jOmAmuW4uOaOpeW+hemCo+S6m+S4jeWWnOasouWWp+mXueOAgei/veaxguWTgei0qOeahOWuouS6uuOAgicsXG4gICAgaW5pdGlhbEJvbnVzOiAn5rip6aao55qE5rCb5Zu06K6p5a6i5Lq65pu05a655piT5pS+5p2+6Ziy5aSH77yM5YWl5L2P5a6i5Lq65a+55peF5bqX55qE5Yid5aeL5aW95oSf5bqmICsxMO+8jOabtOWuueaYk+inpuWPkeaUr+e6v+S7u+WKoeaIluaJk+i1j+OAgicsXG4gICAgYm9udXNOYW1lOiAn5aW95oSf5Yqg5oiQJyxcbiAgICBpY29uOiAnY3JpbXNvbicsXG4gICAgZmFjaWxpdGllczoge1xuICAgICAg5a6i5oi/OiB7XG4gICAgICAgIOetiee6pzogMSxcbiAgICAgICAg5b2T5YmN562J57qn5o+P6L+wOiAn5YWF5ruh5bGF5a625rCU5oGv55qE5Y2n5a6k77yM5bqK6ZO65p+U6L2v6JOs5p2+77yM56qX5biY6YGu5YWJ5oCn5b6I5aW977yM55Sa6Iez6L+Y5pyJ5LiA5Liq5bCP5qKz5aaG5Y+w44CCJyxcbiAgICAgIH0sXG4gICAgICDppJDppa46IHtcbiAgICAgICAg562J57qnOiAxLFxuICAgICAgICDlvZPliY3nrYnnuqfmj4/ov7A6ICfmj5DkvpvmiYvlt6XliLbkvZznmoTlrrbluLjoj5zvvIzmr5TlpoLogonmtL7jgIHmtZPmsaTlkozliJrlh7rngonnmoTppbzlubLvvIzlkbPpgZPlvojmuKnppqjjgIInLFxuICAgICAgfSxcbiAgICAgIOiwg+mFkjoge1xuICAgICAgICDnrYnnuqc6IDEsXG4gICAgICAgIOW9k+WJjeetiee6p+aPj+i/sDogJ+WPquacieWHoOenjeW6l+S4u+engeiXj+mjjuagvOeahOe6oumFkuWSjOiKseaenOiMtu+8jOiZveeEtuenjeexu+Wwke+8jOS9huWTgei0qOWwmuWPr+OAgicsXG4gICAgICB9LFxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpZDogJ2JhbWJvbycsXG4gICAgbmFtZTogJ+mdkuerueWuouagiCcsXG4gICAgbmFtZUVuOiAnVGhlIEJhbWJvbyBJbm4nLFxuICAgIGRlc2M6ICfkuJzmlrnjgIHmuIXniL3jgIHpm4Xoh7TjgIHpgI/msJTjgILkuIDluqflubLlh4DmuIXniL3nmoTmnKjotKjlsI/mpbzvvIzlkajlm7TmnInkuIDlnIjnq7nnr7HnrIbjgIInLFxuICAgIGtleXdvcmRzOiAn5Lic5pa544CB5riF54i944CB6ZuF6Ie044CB6YCP5rCUJyxcbiAgICBhcHBlYXJhbmNlOlxuICAgICAgJ+S4gOW6p+W5suWHgOa4heeIveeahOacqOi0qOWwj+alvO+8jOWRqOWbtOacieS4gOWciOerueevseeshuOAguW7uuetkemAmumjjumHh+WFieW+iOWlve+8jOWkp+WOheaRhuaUvuedgOWHoOW8oOaWueahjOWSjOmVv+WHs++8jOaTpuaLreW+l+S4gOWwmOS4jeafk+OAguinkuiQvemHjOeCueedgOa3oea3oeeahOeGj+mmme+8jOeOr+Wig+avlOaZrumAmumFkummhuimgeWuiemdmembheiHtOS4jeWwkeOAgicsXG4gICAgY29nbml0aXZlRWZmZWN0OiAn5Lq65Lus5Lya6K6k5Li66L+Z5piv5LiA5a62XCLmoLzosIPkuI3plJnnmoTkvJHmga/lpIRcIu+8jOmAguWQiOmCo+S6m+aDs+imgei/nOemu+WWp+Wao+OAgemdmeS4i+W/g+adpeWQg+mhv+mlreedoeS4quinieeahOS6uuOAgicsXG4gICAgaW5pdGlhbEJvbnVzOiAn5riF5bm955qE546v5aKD5pyJ5Yqp5LqO5oGi5aSN57K+5Yqb77yM5a6i5Lq65Zyo5bqX5YaF5LyR5oGv5pe277yM5L2T5Yqb5ZKM57K+5Yqb55qE5oGi5aSN6YCf5bqm5b6u5bmF5o+Q5Y2H77yIKzUl77yJ44CCJyxcbiAgICBib251c05hbWU6ICfnlrLlirPnvJPop6MnLFxuICAgIGljb246ICdiYW1ib28nLFxuICAgIGZhY2lsaXRpZXM6IHtcbiAgICAgIOWuouaIvzoge1xuICAgICAgICDnrYnnuqc6IDEsXG4gICAgICAgIOW9k+WJjeetiee6p+aPj+i/sDogJ+mTuuiuvuedgOacqOWcsOadv+aIluamu+amu+exs+eahOaIv+mXtO+8jOiiq+ikpeW5suWHgOaVtOa0ge+8jOeql+WkluiDveeci+WIsOS4gOeCuee7v+akje+8jOS7pOS6uuW/g+aXt+elnuaAoeOAgicsXG4gICAgICB9LFxuICAgICAg6aSQ6aWuOiB7XG4gICAgICAgIOetiee6pzogMSxcbiAgICAgICAg5b2T5YmN562J57qn5o+P6L+wOiAn5o+Q5L6b5riF5reh5Y+v5Y+j55qE6aWt6I+c77yM5aaC55m957Gz6aWt44CB54KS5pe26JSs44CB5riF6JK46bG85ZKM54Ot6Iy277yM5YGl5bq35LiU6JC96IOD44CCJyxcbiAgICAgIH0sXG4gICAgICDosIPphZI6IHtcbiAgICAgICAg562J57qnOiAxLFxuICAgICAgICDlvZPliY3nrYnnuqfmj4/ov7A6ICfmj5DkvpvmuIXphZLjgIHnsbPphZLlkozpq5jlk4HotKjnmoTojLbmsLTvvIznlKjnk7fnopfmiJbpmbbmna/nm5voo4XjgIInLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxuXTtcblxuLy8g5Yid5aeL56aP5Yip6YCJ6aG55pWw5o2uXG5leHBvcnQgY29uc3QgUEVSS19PUFRJT05TOiBQZXJrT3B0aW9uW10gPSBbXG4gIHtcbiAgICBpZDogJ3dlYWx0aCcsXG4gICAgbmFtZTogJ+ijheS/ruWfuumHkScsXG4gICAgZGVzYzogJ+W8gOWxgOabtOWuueaYk+iOt+W+l+mrmOmineeahOmHkeW4geOAgicsXG4gICAgaWNvbjogJ2dlbScsXG4gIH0sXG4gIHtcbiAgICBpZDogJ2xveWFsLWd1YXJkJyxcbiAgICBuYW1lOiAn5b+g6K+a5Y2r5aOrJyxcbiAgICBkZXNjOiAn5byA5bGA6Ieq5bim5LiA5ZCN5by65Yqb5ZGY5bel77yI6auY562J57qn5L+d6ZWW5oiW5aWz5LuG77yJ44CCJyxcbiAgICBpY29uOiAnc2hpZWxkJyxcbiAgfSxcbl07XG5cbi8vIOWHhuWFpeadoeS7tumAiemhuVxuZXhwb3J0IGludGVyZmFjZSBBY2Nlc3NNb2RlT3B0aW9uIHtcbiAgaWQ6IEFjY2Vzc01vZGU7XG4gIG1vZGVfbmFtZTogc3RyaW5nO1xuICBjb25kaXRpb246IHN0cmluZztcbiAgaWNvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgQUNDRVNTX01PREVfT1BUSU9OUzogQWNjZXNzTW9kZU9wdGlvbltdID0gW1xuICB7XG4gICAgaWQ6ICdwaHlzaWNhbCcsXG4gICAgbW9kZV9uYW1lOiAn5a6e5L2T5pi+546wJyxcbiAgICBjb25kaXRpb246XG4gICAgICAn5peg5p2h5Lu25byA5pS+44CC5peF5bqX5L2c5Li65a6e5L2T5bu6562R5a2Y5Zyo5LqO5b2T5Zyw77yI5aaC6Ze55biC5Yy677yJ77yM5Lu75L2V6Lev6L+H55qE55Sf54mp6YO96IO955yL5Yiw5oub54mM44CB5aSn6Zeo5bm25o6o6Zeo6ICM5YWl44CC6YCC5ZCI5bm/57qz5a6i5rqQ44CCJyxcbiAgICBpY29uOiAnZG9vcicsXG4gIH0sXG4gIHtcbiAgICBpZDogJ2Rlc3BlcmF0aW9uJyxcbiAgICBtb2RlX25hbWU6ICfnu53looPmlZHotY4nLFxuICAgIGNvbmRpdGlvbjpcbiAgICAgICfllK/lv4Pop6blj5HjgILml4XlupflnKjniannkIblsYLpnaLkuI3lj6/op4HvvIjmiJblpITkuo7mipjlj6Dnqbrpl7TvvInjgILlj6rmnInlvZPmn5DkuIDkuKrkvZPpmbflhaXmnoHluqbnu53mnJvjgIHmv5LmrbvmiJblvLrng4jnpYjmsYLml7bvvIzml4XlupfnmoTlpKfpl6jmiY3kvJrnqoHlhYDlnLDlh7rnjrDlnKjlhbbpnaLliY3vvIjml6DorrrmmK/lnKjmt7HmtbfjgIHlnaDokL3nmoTljYrnqbrov5jmmK/kuIflhpvkuJvkuK3vvInjgIInLFxuICAgIGljb246ICdoZWFydCcsXG4gIH0sXG4gIHtcbiAgICBpZDogJ3RlbXBvcmFsJyxcbiAgICBtb2RlX25hbWU6ICfmionmi6nml7bliLsnLFxuICAgIGNvbmRpdGlvbjogJ+WPquacieeUn+a0u+mdouS4tOW3qOWkp+WIhuWylOmBk+i3r+eahOaKieaLqeS5i+S6uu+8jOaJjeS8mueci+ingeaXhemmhueahOWkp+mXqOOAgicsXG4gICAgaWNvbjogJ2Nsb2NrJyxcbiAgfSxcbiAge1xuICAgIGlkOiAnZmF0ZWQnLFxuICAgIG1vZGVfbmFtZTogJ+WRvei/kOiKgueCuScsXG4gICAgY29uZGl0aW9uOlxuICAgICAgJ+WboOaenOW+i+etm+mAieOAguaXheW6l+iHquWKqOaJq+aPj+S9jemdou+8jOS7heWvuVwi6Lqr6LSf5aSn5rCU6L+Q6ICFXCLjgIFcIuWNs+WwhuaUueWPmOS4lueVjOe6v+iAhVwi5oiWXCLliafmg4XlhbPplK7op5LoibJcIuW8gOaUvuinhumHjuOAguaZrumAmuS6uuWNs+S+v+aTpuiCqeiAjOi/h+S5n+aXoOazleWvn+inieOAgicsXG4gICAgaWNvbjogJ3N0YXInLFxuICB9LFxuXTtcblxuLy8g6ZqP5py65peF5bqX5ZCN56ewXG5leHBvcnQgY29uc3QgUkFORE9NX0lOTl9OQU1FUzogc3RyaW5nW10gPSBbXG4gICflpJrmrKHlhYPkvr/mkLrml4XlupcnLFxuICAn5peg5bC95a6i5qCIJyxcbiAgJ+S9jemdouWwveWktCcsXG4gICfpu5HnjKvml4XnpL4nLFxuICAn5pif6L6w6am/56uZJyxcbiAgJ+aXtuWFiemFkummhicsXG4gICflkb3ov5DkuYvpl6gnLFxuICAn6Jma56m65LmL55y8JyxcbiAgJ+i3qOWfn+W6h+aKpOaJgCcsXG4gICflpJrlhYPml4XlupcnLFxuXTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/types/gameConfig.ts\n\n}");
  },
  "./src/mhjg/utils/appState.ts": 
  /*!************************************!*\
  !*** ./src/mhjg/utils/appState.ts ***!
  \************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveTab: () => (/* binding */ getActiveTab),\n/* harmony export */   getStoryModal: () => (/* binding */ getStoryModal),\n/* harmony export */   setActiveTab: () => (/* binding */ setActiveTab),\n/* harmony export */   setStoryModal: () => (/* binding */ setStoryModal)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/mhjg/types.ts");\n/**\n * åº”ç”¨çŠ¶æ€ç®¡ç†\n * ç”¨äºé¿å…å¾ªç¯ä¾èµ–\n */\n\n// å…¨å±€çŠ¶æ€\nlet activeTab = _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.DASHBOARD;\nlet storyModalInstance = null;\n/**\n * è®¾ç½®å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ\n */\nfunction setActiveTab(tab) {\n    activeTab = tab;\n}\n/**\n * è·å–å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ\n */\nfunction getActiveTab() {\n    return activeTab;\n}\n/**\n * è®¾ç½® StoryModal å®ä¾‹\n */\nfunction setStoryModal(modal) {\n    storyModalInstance = modal;\n}\n/**\n * è·å– StoryModal å®ä¾‹\n */\nfunction getStoryModal() {\n    return storyModalInstance;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy91dGlscy9hcHBTdGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOzs7R0FHRztBQUdnQztBQUVuQyxPQUFPO0FBQ1AsSUFBSSxTQUFTLEdBQVksMkNBQU8sQ0FBQyxTQUFTLENBQUM7QUFDM0MsSUFBSSxrQkFBa0IsR0FBc0IsSUFBSSxDQUFDO0FBRWpEOztHQUVHO0FBQ0ksU0FBUyxZQUFZLENBQUMsR0FBWTtJQUN2QyxTQUFTLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLENBQUM7QUFFRDs7R0FFRztBQUNJLFNBQVMsWUFBWTtJQUMxQixPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLGFBQWEsQ0FBQyxLQUF3QjtJQUNwRCxrQkFBa0IsR0FBRyxLQUFLLENBQUM7QUFDN0IsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxhQUFhO0lBQzNCLE9BQU8sa0JBQWtCLENBQUM7QUFDNUIsQ0FBQyIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy91dGlscy9hcHBTdGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog5bqU55So54q25oCB566h55CGXHJcbiAqIOeUqOS6jumBv+WFjeW+queOr+S+nei1llxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFN0b3J5TW9kYWwgfSBmcm9tICcuLi9jb21wb25lbnRzL21vZGFscy9TdG9yeU1vZGFsJztcclxuaW1wb3J0IHsgR2FtZVRhYiB9IGZyb20gJy4uL3R5cGVzJztcclxuXHJcbi8vIOWFqOWxgOeKtuaAgVxyXG5sZXQgYWN0aXZlVGFiOiBHYW1lVGFiID0gR2FtZVRhYi5EQVNIQk9BUkQ7XHJcbmxldCBzdG9yeU1vZGFsSW5zdGFuY2U6IFN0b3J5TW9kYWwgfCBudWxsID0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiDorr7nva7lvZPliY3mtLvliqjmoIfnrb7pobVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRBY3RpdmVUYWIodGFiOiBHYW1lVGFiKTogdm9pZCB7XHJcbiAgYWN0aXZlVGFiID0gdGFiO1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5b2T5YmN5rS75Yqo5qCH562+6aG1XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlVGFiKCk6IEdhbWVUYWIge1xyXG4gIHJldHVybiBhY3RpdmVUYWI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDorr7nva4gU3RvcnlNb2RhbCDlrp7kvotcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yeU1vZGFsKG1vZGFsOiBTdG9yeU1vZGFsIHwgbnVsbCk6IHZvaWQge1xyXG4gIHN0b3J5TW9kYWxJbnN0YW5jZSA9IG1vZGFsO1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+WIFN0b3J5TW9kYWwg5a6e5L6LXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcnlNb2RhbCgpOiBTdG9yeU1vZGFsIHwgbnVsbCB7XHJcbiAgcmV0dXJuIHN0b3J5TW9kYWxJbnN0YW5jZTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/utils/appState.ts\n\n}');
  },
  "./src/mhjg/utils/chronicleUpdater.ts": 
  /*!********************************************!*\
  !*** ./src/mhjg/utils/chronicleUpdater.ts ***!
  \********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkAndUpdateChronicle: () => (/* binding */ checkAndUpdateChronicle)\n/* harmony export */ });\n/**\n * ç¼–å¹´å²æ›´æ–°å·¥å…·\n * è´Ÿè´£ä»æ¶ˆæ¯ä¸­æå–<sum>æ ‡ç­¾å¹¶æ›´æ–°ä¸–ç•Œä¹¦ä¸­çš„ç¼–å¹´å²æ¡ç›®\n */\n/**\n * è§£ææ¶ˆæ¯ä¸­çš„<sum>æ ‡ç­¾\n */\nfunction parseSum(message) {\n    const sumMatch = message.match(/<sum>([\\s\\S]*?)<\\/sum>/i);\n    if (!sumMatch) {\n        return '';\n    }\n    return sumMatch[1].trim();\n}\n/**\n * ä»æŒ‡å®šæ¥¼å±‚å¼€å§‹å‘ä¸ŠæŸ¥æ‰¾åŒ…å«<sum>æ ‡ç­¾çš„æ¶ˆæ¯\n * @param startMessageId èµ·å§‹æ¥¼å±‚å·ï¼ˆä»è¯¥æ¥¼å±‚å¼€å§‹å‘ä¸ŠæŸ¥æ‰¾ï¼‰\n * @returns æ‰¾åˆ°çš„æ¥¼å±‚å·å’Œ<sum>å†…å®¹ï¼Œå¦‚æœæ²¡æ‰¾åˆ°è¿”å›null\n */\nfunction findLatestSumMessage(startMessageId) {\n    for (let messageId = startMessageId; messageId >= 0; messageId--) {\n        try {\n            const messages = getChatMessages(messageId);\n            if (messages && messages.length > 0) {\n                const message = messages[0];\n                if (message && message.message) {\n                    const sumText = parseSum(message.message);\n                    if (sumText) {\n                        return { messageId, sumText };\n                    }\n                }\n            }\n        }\n        catch (err) {\n            // æ¥¼å±‚ä¸å­˜åœ¨ï¼Œç»§ç»­å‘ä¸ŠæŸ¥æ‰¾\n            continue;\n        }\n    }\n    return null;\n}\n/**\n * è§£æç¼–å¹´å²å†…å®¹ï¼Œæå–æ‰€æœ‰æ¡ç›®\n * @param content ç¼–å¹´å²å†…å®¹\n * @returns æ¡ç›®æ•°ç»„ï¼Œæ¯ä¸ªæ¡ç›®åŒ…å«ç¼–å·å’Œæ–‡æœ¬\n */\nfunction parseChronicleContent(content) {\n    const entries = [];\n    const lines = content.split('\\n').map(line => line.trim()).filter(line => line.length > 0);\n    for (const line of lines) {\n        // åŒ¹é…æ ¼å¼ï¼šæ•°å­—.æ–‡æœ¬\n        const match = line.match(/^(\\d+)\\.(.+)$/);\n        if (match) {\n            const number = parseInt(match[1], 10);\n            const text = match[2].trim();\n            if (!isNaN(number) && text) {\n                entries.push({ number, text });\n            }\n        }\n    }\n    return entries;\n}\n/**\n * æ ¼å¼åŒ–ç¼–å¹´å²å†…å®¹\n * @param entries æ¡ç›®æ•°ç»„\n * @returns æ ¼å¼åŒ–åçš„ç¼–å¹´å²å†…å®¹\n */\nfunction formatChronicleContent(entries) {\n    // æŒ‰ç¼–å·å€’åºæ’åˆ—ï¼ˆæœ€æ–°çš„åœ¨ä¸Šï¼‰\n    entries.sort((a, b) => b.number - a.number);\n    return entries.map(entry => `${entry.number}.${entry.text}`).join('\\n\\n');\n}\n/**\n * æ›´æ–°ç¼–å¹´å²æ¡ç›®\n * @param content å½“å‰ç¼–å¹´å²å†…å®¹\n * @param entryNumber è¦æ›´æ–°/æ·»åŠ çš„æ¡ç›®ç¼–å·\n * @param entryText æ¡ç›®æ–‡æœ¬\n * @returns æ›´æ–°åçš„ç¼–å¹´å²å†…å®¹\n */\nfunction updateChronicleEntry(content, entryNumber, entryText) {\n    const entries = parseChronicleContent(content);\n    // æŸ¥æ‰¾æ˜¯å¦å·²å­˜åœ¨è¯¥ç¼–å·çš„æ¡ç›®\n    const existingIndex = entries.findIndex(e => e.number === entryNumber);\n    if (existingIndex >= 0) {\n        // æ›¿æ¢ç°æœ‰æ¡ç›®\n        entries[existingIndex].text = entryText;\n    }\n    else {\n        // æ·»åŠ æ–°æ¡ç›®\n        entries.push({ number: entryNumber, text: entryText });\n    }\n    // æ ¹æ®ç”¨æˆ·ç¤ºä¾‹ï¼Œåªä¿ç•™ç¼–å·å°äºç­‰äºentryNumberçš„æ¡ç›®\n    // è¿‡æ»¤æ‰ç¼–å·å¤§äºentryNumberçš„æ¡ç›®\n    const filteredEntries = entries.filter(e => e.number <= entryNumber);\n    return formatChronicleContent(filteredEntries);\n}\n/**\n * æ›´æ–°ä¸–ç•Œä¹¦ä¸­çš„ç¼–å¹´å²æ¡ç›®\n * @param messageId LLMè¿”å›æ¶ˆæ¯çš„æ¥¼å±‚å·\n * @param sumText <sum>æ ‡ç­¾å†…çš„æ–‡æœ¬\n */\nasync function updateChronicleInWorldbook(messageId, sumText) {\n    const WORLDBOOK_NAME = '0è¯¸å¤©ä¾¿æºæ—…åº—';\n    const ENTRY_NAME = 'ç¼–å¹´å²';\n    try {\n        // è®¡ç®—æ¡ç›®ç¼–å·ï¼šä½¿ç”¨ Math.ceil ç¡®ä¿1å±‚æ˜¾ç¤ºä¸ºæ¡ç›®1\n        // 1å±‚ â†’ æ¡ç›®1, 3å±‚ â†’ æ¡ç›®2, 5å±‚ â†’ æ¡ç›®3, ...\n        const entryNumber = Math.ceil(messageId / 2);\n        if (entryNumber <= 0) {\n            console.warn(`âš ï¸ æ¥¼å±‚${messageId}çš„æ¡ç›®ç¼–å·${entryNumber}æ— æ•ˆï¼Œè·³è¿‡æ›´æ–°`);\n            return;\n        }\n        // è·å–ä¸–ç•Œä¹¦\n        let worldbook;\n        try {\n            worldbook = await getWorldbook(WORLDBOOK_NAME);\n        }\n        catch (err) {\n            console.warn(`âš ï¸ ä¸–ç•Œä¹¦\"${WORLDBOOK_NAME}\"ä¸å­˜åœ¨ï¼Œè·³è¿‡æ›´æ–°:`, err);\n            return;\n        }\n        // æŸ¥æ‰¾ç¼–å¹´å²æ¡ç›®\n        let chronicleEntry = worldbook.find(entry => entry.name === ENTRY_NAME);\n        if (!chronicleEntry) {\n            console.warn(`âš ï¸ ä¸–ç•Œä¹¦\"${WORLDBOOK_NAME}\"ä¸­æœªæ‰¾åˆ°æ¡ç›®\"${ENTRY_NAME}\"ï¼Œè·³è¿‡æ›´æ–°`);\n            return;\n        }\n        // æ›´æ–°ç¼–å¹´å²å†…å®¹\n        const currentContent = chronicleEntry.content || '';\n        const updatedContent = updateChronicleEntry(currentContent, entryNumber, sumText);\n        // æ›´æ–°æ¡ç›®\n        chronicleEntry = {\n            ...chronicleEntry,\n            content: updatedContent,\n        };\n        // æ›´æ–°ä¸–ç•Œä¹¦\n        const updatedWorldbook = worldbook.map(entry => entry.name === ENTRY_NAME ? chronicleEntry : entry);\n        await replaceWorldbook(WORLDBOOK_NAME, updatedWorldbook, { render: 'debounced' });\n        console.log(`âœ… æˆåŠŸæ›´æ–°ç¼–å¹´å²ï¼š${entryNumber}.${sumText}`);\n    }\n    catch (error) {\n        console.error('âŒ æ›´æ–°ç¼–å¹´å²å¤±è´¥:', error);\n    }\n}\n/**\n * æ£€æŸ¥å¹¶æ›´æ–°ç¼–å¹´å²\n * ä»æœ€æ–°æ¥¼å±‚å¼€å§‹å‘ä¸ŠæŸ¥æ‰¾åŒ…å«<sum>çš„æ¶ˆæ¯ï¼Œç„¶åæ›´æ–°ç¼–å¹´å²\n */\nasync function checkAndUpdateChronicle() {\n    try {\n        // è·å–æœ€æ–°æ¥¼å±‚å·\n        const latestMessageId = getLastMessageId();\n        if (latestMessageId < 0) {\n            console.warn('âš ï¸ æ²¡æœ‰æ¶ˆæ¯æ¥¼å±‚ï¼Œè·³è¿‡ç¼–å¹´å²æ›´æ–°');\n            return;\n        }\n        // ä»æœ€æ–°æ¥¼å±‚å¼€å§‹å‘ä¸ŠæŸ¥æ‰¾åŒ…å«<sum>çš„æ¶ˆæ¯\n        const sumInfo = findLatestSumMessage(latestMessageId);\n        if (!sumInfo) {\n            console.log('ğŸ“ æœªæ‰¾åˆ°åŒ…å«<sum>æ ‡ç­¾çš„æ¶ˆæ¯ï¼Œè·³è¿‡ç¼–å¹´å²æ›´æ–°');\n            return;\n        }\n        console.log(`ğŸ“– æ‰¾åˆ°<sum>æ ‡ç­¾ï¼Œæ¥¼å±‚${sumInfo.messageId}ï¼Œå†…å®¹ï¼š${sumInfo.sumText}`);\n        // æ›´æ–°ç¼–å¹´å²\n        await updateChronicleInWorldbook(sumInfo.messageId, sumInfo.sumText);\n    }\n    catch (error) {\n        console.error('âŒ æ£€æŸ¥å¹¶æ›´æ–°ç¼–å¹´å²å¤±è´¥:', error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL3V0aWxzL2Nocm9uaWNsZVVwZGF0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDnvJblubTlj7Lmm7TmlrDlt6XlhbdcbiAqIOi0n+i0o+S7jua2iOaBr+S4reaPkOWPljxzdW0+5qCH562+5bm25pu05paw5LiW55WM5Lmm5Lit55qE57yW5bm05Y+y5p2h55uuXG4gKi9cblxuLy8g5YWo5bGA5Ye95pWw5aOw5piO77yI55Sx6YWS6aaG5Yqp5omL5o+Q5L6b77yJXG5kZWNsYXJlIGZ1bmN0aW9uIGdldENoYXRNZXNzYWdlcyhcbiAgcmFuZ2U6IHN0cmluZyB8IG51bWJlcixcbiAgb3B0aW9ucz86IHsgcm9sZT86ICdhbGwnIHwgJ3N5c3RlbScgfCAnYXNzaXN0YW50JyB8ICd1c2VyJyB9LFxuKTogQXJyYXk8eyBtZXNzYWdlOiBzdHJpbmc7IG1lc3NhZ2VfaWQ6IG51bWJlcjsgcm9sZTogc3RyaW5nIH0+O1xuXG5kZWNsYXJlIGZ1bmN0aW9uIGdldExhc3RNZXNzYWdlSWQoKTogbnVtYmVyO1xuXG5kZWNsYXJlIGZ1bmN0aW9uIGdldFdvcmxkYm9vayh3b3JsZGJvb2tfbmFtZTogc3RyaW5nKTogUHJvbWlzZTxXb3JsZGJvb2tFbnRyeVtdPjtcblxuZGVjbGFyZSBmdW5jdGlvbiByZXBsYWNlV29ybGRib29rKFxuICB3b3JsZGJvb2tfbmFtZTogc3RyaW5nLFxuICB3b3JsZGJvb2s6IFBhcnRpYWxEZWVwPFdvcmxkYm9va0VudHJ5PltdLFxuICBvcHRpb25zPzogeyByZW5kZXI/OiAnZGVib3VuY2VkJyB8ICdpbW1lZGlhdGUnIH0sXG4pOiBQcm9taXNlPHZvaWQ+O1xuXG50eXBlIFdvcmxkYm9va0VudHJ5ID0ge1xuICB1aWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBlbmFibGVkOiBib29sZWFuO1xuICBzdHJhdGVneToge1xuICAgIHR5cGU6ICdjb25zdGFudCcgfCAnc2VsZWN0aXZlJyB8ICd2ZWN0b3JpemVkJztcbiAgICBrZXlzOiAoc3RyaW5nIHwgUmVnRXhwKVtdO1xuICAgIGtleXNfc2Vjb25kYXJ5OiB7IGxvZ2ljOiAnYW5kX2FueScgfCAnYW5kX2FsbCcgfCAnbm90X2FsbCcgfCAnbm90X2FueSc7IGtleXM6IChzdHJpbmcgfCBSZWdFeHApW10gfTtcbiAgICBzY2FuX2RlcHRoOiAnc2FtZV9hc19nbG9iYWwnIHwgbnVtYmVyO1xuICB9O1xuICBwb3NpdGlvbjoge1xuICAgIHR5cGU6XG4gICAgICB8ICdiZWZvcmVfY2hhcmFjdGVyX2RlZmluaXRpb24nXG4gICAgICB8ICdhZnRlcl9jaGFyYWN0ZXJfZGVmaW5pdGlvbidcbiAgICAgIHwgJ2JlZm9yZV9leGFtcGxlX21lc3NhZ2VzJ1xuICAgICAgfCAnYWZ0ZXJfZXhhbXBsZV9tZXNzYWdlcydcbiAgICAgIHwgJ2JlZm9yZV9hdXRob3Jfbm90ZSdcbiAgICAgIHwgJ2FmdGVyX2F1dGhvcl9ub3RlJ1xuICAgICAgfCAnYXRfZGVwdGgnO1xuICAgIHJvbGU6ICdzeXN0ZW0nIHwgJ2Fzc2lzdGFudCcgfCAndXNlcic7XG4gICAgZGVwdGg6IG51bWJlcjtcbiAgICBvcmRlcjogbnVtYmVyO1xuICB9O1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHByb2JhYmlsaXR5OiBudW1iZXI7XG4gIHJlY3Vyc2lvbjoge1xuICAgIHByZXZlbnRfaW5jb21pbmc6IGJvb2xlYW47XG4gICAgcHJldmVudF9vdXRnb2luZzogYm9vbGVhbjtcbiAgICBkZWxheV91bnRpbDogbnVsbCB8IG51bWJlcjtcbiAgfTtcbiAgZWZmZWN0OiB7XG4gICAgc3RpY2t5OiBudWxsIHwgbnVtYmVyO1xuICAgIGNvb2xkb3duOiBudWxsIHwgbnVtYmVyO1xuICAgIGRlbGF5OiBudWxsIHwgbnVtYmVyO1xuICB9O1xuICBleHRyYT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59O1xuXG50eXBlIFBhcnRpYWxEZWVwPFQ+ID0ge1xuICBbUCBpbiBrZXlvZiBUXT86IFRbUF0gZXh0ZW5kcyBvYmplY3QgPyBQYXJ0aWFsRGVlcDxUW1BdPiA6IFRbUF07XG59O1xuXG4vKipcbiAqIOino+aekOa2iOaBr+S4reeahDxzdW0+5qCH562+XG4gKi9cbmZ1bmN0aW9uIHBhcnNlU3VtKG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHN1bU1hdGNoID0gbWVzc2FnZS5tYXRjaCgvPHN1bT4oW1xcc1xcU10qPyk8XFwvc3VtPi9pKTtcbiAgaWYgKCFzdW1NYXRjaCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICByZXR1cm4gc3VtTWF0Y2hbMV0udHJpbSgpO1xufVxuXG4vKipcbiAqIOS7juaMh+WumualvOWxguW8gOWni+WQkeS4iuafpeaJvuWMheWQqzxzdW0+5qCH562+55qE5raI5oGvXG4gKiBAcGFyYW0gc3RhcnRNZXNzYWdlSWQg6LW35aeL5qW85bGC5Y+377yI5LuO6K+l5qW85bGC5byA5aeL5ZCR5LiK5p+l5om+77yJXG4gKiBAcmV0dXJucyDmib7liLDnmoTmpbzlsYLlj7flkow8c3VtPuWGheWuue+8jOWmguaenOayoeaJvuWIsOi/lOWbnm51bGxcbiAqL1xuZnVuY3Rpb24gZmluZExhdGVzdFN1bU1lc3NhZ2Uoc3RhcnRNZXNzYWdlSWQ6IG51bWJlcik6IHsgbWVzc2FnZUlkOiBudW1iZXI7IHN1bVRleHQ6IHN0cmluZyB9IHwgbnVsbCB7XG4gIGZvciAobGV0IG1lc3NhZ2VJZCA9IHN0YXJ0TWVzc2FnZUlkOyBtZXNzYWdlSWQgPj0gMDsgbWVzc2FnZUlkLS0pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRDaGF0TWVzc2FnZXMobWVzc2FnZUlkKTtcbiAgICAgIGlmIChtZXNzYWdlcyAmJiBtZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1swXTtcbiAgICAgICAgaWYgKG1lc3NhZ2UgJiYgbWVzc2FnZS5tZXNzYWdlKSB7XG4gICAgICAgICAgY29uc3Qgc3VtVGV4dCA9IHBhcnNlU3VtKG1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgaWYgKHN1bVRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2VJZCwgc3VtVGV4dCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgLy8g5qW85bGC5LiN5a2Y5Zyo77yM57un57ut5ZCR5LiK5p+l5om+XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICog6Kej5p6Q57yW5bm05Y+y5YaF5a6577yM5o+Q5Y+W5omA5pyJ5p2h55uuXG4gKiBAcGFyYW0gY29udGVudCDnvJblubTlj7LlhoXlrrlcbiAqIEByZXR1cm5zIOadoeebruaVsOe7hO+8jOavj+S4quadoeebruWMheWQq+e8luWPt+WSjOaWh+acrFxuICovXG5mdW5jdGlvbiBwYXJzZUNocm9uaWNsZUNvbnRlbnQoY29udGVudDogc3RyaW5nKTogQXJyYXk8eyBudW1iZXI6IG51bWJlcjsgdGV4dDogc3RyaW5nIH0+IHtcbiAgY29uc3QgZW50cmllczogQXJyYXk8eyBudW1iZXI6IG51bWJlcjsgdGV4dDogc3RyaW5nIH0+ID0gW107XG4gIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJykubWFwKGxpbmUgPT4gbGluZS50cmltKCkpLmZpbHRlcihsaW5lID0+IGxpbmUubGVuZ3RoID4gMCk7XG4gIFxuICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAvLyDljLnphY3moLzlvI/vvJrmlbDlrZcu5paH5pysXG4gICAgY29uc3QgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxcZCspXFwuKC4rKSQvKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IG51bWJlciA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgICBjb25zdCB0ZXh0ID0gbWF0Y2hbMl0udHJpbSgpO1xuICAgICAgaWYgKCFpc05hTihudW1iZXIpICYmIHRleHQpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKHsgbnVtYmVyLCB0ZXh0IH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgcmV0dXJuIGVudHJpZXM7XG59XG5cbi8qKlxuICog5qC85byP5YyW57yW5bm05Y+y5YaF5a65XG4gKiBAcGFyYW0gZW50cmllcyDmnaHnm67mlbDnu4RcbiAqIEByZXR1cm5zIOagvOW8j+WMluWQjueahOe8luW5tOWPsuWGheWuuVxuICovXG5mdW5jdGlvbiBmb3JtYXRDaHJvbmljbGVDb250ZW50KGVudHJpZXM6IEFycmF5PHsgbnVtYmVyOiBudW1iZXI7IHRleHQ6IHN0cmluZyB9Pik6IHN0cmluZyB7XG4gIC8vIOaMiee8luWPt+WAkuW6j+aOkuWIl++8iOacgOaWsOeahOWcqOS4iu+8iVxuICBlbnRyaWVzLnNvcnQoKGEsIGIpID0+IGIubnVtYmVyIC0gYS5udW1iZXIpO1xuICByZXR1cm4gZW50cmllcy5tYXAoZW50cnkgPT4gYCR7ZW50cnkubnVtYmVyfS4ke2VudHJ5LnRleHR9YCkuam9pbignXFxuXFxuJyk7XG59XG5cbi8qKlxuICog5pu05paw57yW5bm05Y+y5p2h55uuXG4gKiBAcGFyYW0gY29udGVudCDlvZPliY3nvJblubTlj7LlhoXlrrlcbiAqIEBwYXJhbSBlbnRyeU51bWJlciDopoHmm7TmlrAv5re75Yqg55qE5p2h55uu57yW5Y+3XG4gKiBAcGFyYW0gZW50cnlUZXh0IOadoeebruaWh+acrFxuICogQHJldHVybnMg5pu05paw5ZCO55qE57yW5bm05Y+y5YaF5a65XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUNocm9uaWNsZUVudHJ5KGNvbnRlbnQ6IHN0cmluZywgZW50cnlOdW1iZXI6IG51bWJlciwgZW50cnlUZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBlbnRyaWVzID0gcGFyc2VDaHJvbmljbGVDb250ZW50KGNvbnRlbnQpO1xuICBcbiAgLy8g5p+l5om+5piv5ZCm5bey5a2Y5Zyo6K+l57yW5Y+355qE5p2h55uuXG4gIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBlbnRyaWVzLmZpbmRJbmRleChlID0+IGUubnVtYmVyID09PSBlbnRyeU51bWJlcik7XG4gIFxuICBpZiAoZXhpc3RpbmdJbmRleCA+PSAwKSB7XG4gICAgLy8g5pu/5o2i546w5pyJ5p2h55uuXG4gICAgZW50cmllc1tleGlzdGluZ0luZGV4XS50ZXh0ID0gZW50cnlUZXh0O1xuICB9IGVsc2Uge1xuICAgIC8vIOa3u+WKoOaWsOadoeebrlxuICAgIGVudHJpZXMucHVzaCh7IG51bWJlcjogZW50cnlOdW1iZXIsIHRleHQ6IGVudHJ5VGV4dCB9KTtcbiAgfVxuICBcbiAgLy8g5qC55o2u55So5oi356S65L6L77yM5Y+q5L+d55WZ57yW5Y+35bCP5LqO562J5LqOZW50cnlOdW1iZXLnmoTmnaHnm65cbiAgLy8g6L+H5ruk5o6J57yW5Y+35aSn5LqOZW50cnlOdW1iZXLnmoTmnaHnm65cbiAgY29uc3QgZmlsdGVyZWRFbnRyaWVzID0gZW50cmllcy5maWx0ZXIoZSA9PiBlLm51bWJlciA8PSBlbnRyeU51bWJlcik7XG4gIFxuICByZXR1cm4gZm9ybWF0Q2hyb25pY2xlQ29udGVudChmaWx0ZXJlZEVudHJpZXMpO1xufVxuXG4vKipcbiAqIOabtOaWsOS4lueVjOS5puS4reeahOe8luW5tOWPsuadoeebrlxuICogQHBhcmFtIG1lc3NhZ2VJZCBMTE3ov5Tlm57mtojmga/nmoTmpbzlsYLlj7dcbiAqIEBwYXJhbSBzdW1UZXh0IDxzdW0+5qCH562+5YaF55qE5paH5pysXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNocm9uaWNsZUluV29ybGRib29rKG1lc3NhZ2VJZDogbnVtYmVyLCBzdW1UZXh0OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgV09STERCT09LX05BTUUgPSAnMOivuOWkqeS+v+aQuuaXheW6lyc7XG4gIGNvbnN0IEVOVFJZX05BTUUgPSAn57yW5bm05Y+yJztcbiAgXG4gIHRyeSB7XG4gICAgLy8g6K6h566X5p2h55uu57yW5Y+377ya5L2/55SoIE1hdGguY2VpbCDnoa7kv50x5bGC5pi+56S65Li65p2h55uuMVxuICAgIC8vIDHlsYIg4oaSIOadoeebrjEsIDPlsYIg4oaSIOadoeebrjIsIDXlsYIg4oaSIOadoeebrjMsIC4uLlxuICAgIGNvbnN0IGVudHJ5TnVtYmVyID0gTWF0aC5jZWlsKG1lc3NhZ2VJZCAvIDIpO1xuICAgIFxuICAgIGlmIChlbnRyeU51bWJlciA8PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyDmpbzlsYIke21lc3NhZ2VJZH3nmoTmnaHnm67nvJblj7cke2VudHJ5TnVtYmVyfeaXoOaViO+8jOi3s+i/h+abtOaWsGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyDojrflj5bkuJbnlYzkuaZcbiAgICBsZXQgd29ybGRib29rOiBXb3JsZGJvb2tFbnRyeVtdO1xuICAgIHRyeSB7XG4gICAgICB3b3JsZGJvb2sgPSBhd2FpdCBnZXRXb3JsZGJvb2soV09STERCT09LX05BTUUpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKGDimqDvuI8g5LiW55WM5LmmXCIke1dPUkxEQk9PS19OQU1FfVwi5LiN5a2Y5Zyo77yM6Lez6L+H5pu05pawOmAsIGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIOafpeaJvue8luW5tOWPsuadoeebrlxuICAgIGxldCBjaHJvbmljbGVFbnRyeSA9IHdvcmxkYm9vay5maW5kKGVudHJ5ID0+IGVudHJ5Lm5hbWUgPT09IEVOVFJZX05BTUUpO1xuICAgIFxuICAgIGlmICghY2hyb25pY2xlRW50cnkpIHtcbiAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIOS4lueVjOS5plwiJHtXT1JMREJPT0tfTkFNRX1cIuS4reacquaJvuWIsOadoeebrlwiJHtFTlRSWV9OQU1FfVwi77yM6Lez6L+H5pu05pawYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIOabtOaWsOe8luW5tOWPsuWGheWuuVxuICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gY2hyb25pY2xlRW50cnkuY29udGVudCB8fCAnJztcbiAgICBjb25zdCB1cGRhdGVkQ29udGVudCA9IHVwZGF0ZUNocm9uaWNsZUVudHJ5KGN1cnJlbnRDb250ZW50LCBlbnRyeU51bWJlciwgc3VtVGV4dCk7XG4gICAgXG4gICAgLy8g5pu05paw5p2h55uuXG4gICAgY2hyb25pY2xlRW50cnkgPSB7XG4gICAgICAuLi5jaHJvbmljbGVFbnRyeSxcbiAgICAgIGNvbnRlbnQ6IHVwZGF0ZWRDb250ZW50LFxuICAgIH07XG4gICAgXG4gICAgLy8g5pu05paw5LiW55WM5LmmXG4gICAgY29uc3QgdXBkYXRlZFdvcmxkYm9vayA9IHdvcmxkYm9vay5tYXAoZW50cnkgPT5cbiAgICAgIGVudHJ5Lm5hbWUgPT09IEVOVFJZX05BTUUgPyBjaHJvbmljbGVFbnRyeSA6IGVudHJ5XG4gICAgKTtcbiAgICBcbiAgICBhd2FpdCByZXBsYWNlV29ybGRib29rKFdPUkxEQk9PS19OQU1FLCB1cGRhdGVkV29ybGRib29rLCB7IHJlbmRlcjogJ2RlYm91bmNlZCcgfSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYOKchSDmiJDlip/mm7TmlrDnvJblubTlj7LvvJoke2VudHJ5TnVtYmVyfS4ke3N1bVRleHR9YCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIOabtOaWsOe8luW5tOWPsuWksei0pTonLCBlcnJvcik7XG4gIH1cbn1cblxuLyoqXG4gKiDmo4Dmn6Xlubbmm7TmlrDnvJblubTlj7JcbiAqIOS7juacgOaWsOalvOWxguW8gOWni+WQkeS4iuafpeaJvuWMheWQqzxzdW0+55qE5raI5oGv77yM54S25ZCO5pu05paw57yW5bm05Y+yXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0FuZFVwZGF0ZUNocm9uaWNsZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgdHJ5IHtcbiAgICAvLyDojrflj5bmnIDmlrDmpbzlsYLlj7dcbiAgICBjb25zdCBsYXRlc3RNZXNzYWdlSWQgPSBnZXRMYXN0TWVzc2FnZUlkKCk7XG4gICAgXG4gICAgaWYgKGxhdGVzdE1lc3NhZ2VJZCA8IDApIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOayoeaciea2iOaBr+alvOWxgu+8jOi3s+i/h+e8luW5tOWPsuabtOaWsCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyDku47mnIDmlrDmpbzlsYLlvIDlp4vlkJHkuIrmn6Xmib7ljIXlkKs8c3VtPueahOa2iOaBr1xuICAgIGNvbnN0IHN1bUluZm8gPSBmaW5kTGF0ZXN0U3VtTWVzc2FnZShsYXRlc3RNZXNzYWdlSWQpO1xuICAgIFxuICAgIGlmICghc3VtSW5mbykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk50g5pyq5om+5Yiw5YyF5ZCrPHN1bT7moIfnrb7nmoTmtojmga/vvIzot7Pov4fnvJblubTlj7Lmm7TmlrAnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coYPCfk5Yg5om+5YiwPHN1bT7moIfnrb7vvIzmpbzlsYIke3N1bUluZm8ubWVzc2FnZUlkfe+8jOWGheWuue+8miR7c3VtSW5mby5zdW1UZXh0fWApO1xuICAgIFxuICAgIC8vIOabtOaWsOe8luW5tOWPslxuICAgIGF3YWl0IHVwZGF0ZUNocm9uaWNsZUluV29ybGRib29rKHN1bUluZm8ubWVzc2FnZUlkLCBzdW1JbmZvLnN1bVRleHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDmo4Dmn6Xlubbmm7TmlrDnvJblubTlj7LlpLHotKU6JywgZXJyb3IpO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/utils/chronicleUpdater.ts\n\n}");
  },
  "./src/mhjg/utils/gameInitializer.ts": 
  /*!*******************************************!*\
  !*** ./src/mhjg/utils/gameInitializer.ts ***!
  \*******************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOpeningStoryMessage: () => (/* binding */ createOpeningStoryMessage),\n/* harmony export */   generateOpeningStory: () => (/* binding */ generateOpeningStory),\n/* harmony export */   initializeGameState: () => (/* binding */ initializeGameState),\n/* harmony export */   initializeGameVariables: () => (/* binding */ initializeGameVariables)\n/* harmony export */ });\n/* harmony import */ var _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/gameConfig */ \"./src/mhjg/types/gameConfig.ts\");\n/**\n * æ¸¸æˆåˆå§‹åŒ–å·¥å…·\n */\n\n/**\n * æ ¹æ®æ¸¸æˆé…ç½®ç”Ÿæˆå¼€å±€æ–‡æœ¬\n */\nfunction generateOpeningStory(config) {\n    const world = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS.find(w => w.id === config.startingWorld) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS[0];\n    const style = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS.find(s => s.id === config.innStyle) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS[0];\n    const perk = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS.find(p => p.id === config.startingPerk) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS[0];\n    // æ ¹æ®ä¸–ç•Œè§‚ç”Ÿæˆä¸åŒçš„å¼€å±€æè¿°\n    const worldDescriptions = {\n        fantasy: `åœ¨è‰¾å°”åˆ©äºšå¤§é™†çš„æŸä¸ªè§’è½ï¼Œé­”æ³•ä¸å‰‘äº¤ç»‡çš„å¤è€åœŸåœ°ä¸Šï¼Œ${config.innName}æ‚„ç„¶å‡ºç°åœ¨ä¸€ç‰‡å®é™çš„æ£®æ—è¾¹ç¼˜ã€‚`,\n        cyberpunk: `éœ“è™¹åŸ 2099ï¼Œé…¸é›¨ç»ˆå¹´ä¸ç»çš„é’¢é“ä¸›æ—ä¸­ï¼Œ${config.innName}çš„æ‹›ç‰Œåœ¨éœ“è™¹ç¯æµ·ä¸­é—ªçƒç€æ¸©æš–çš„å…‰èŠ’ã€‚`,\n        modern: `è‹è“å­¦å›­çš„æ ¡å›­ä¸€è§’ï¼Œå’Œå¹³çš„ç°ä»£ä¸–ç•ŒèƒŒé¢éšè—ç€å¼‚èƒ½ï¼Œ${config.innName}é™é™åœ°ä¼«ç«‹åœ¨é‚£é‡Œï¼Œç­‰å¾…ç€ç‰¹æ®Šçš„å®¢äººã€‚`,\n        wasteland: `ç°çƒ¬åºŸåœŸï¼Œæåº¦å±é™©çš„åœŸåœ°ä¸Šï¼Œ${config.innName}å¦‚åŒä¸€åº§å­¤å²›ï¼Œä¸ºé‚£äº›åœ¨ç»æœ›ä¸­å¯»æ‰¾å¸Œæœ›çš„äººæä¾›åº‡æŠ¤ã€‚`,\n    };\n    const styleDescriptions = {\n        oak: `${config.innName}é‡‡ç”¨äº†${style.name}çš„é£æ ¼ã€‚${style.appearance}`,\n        street: `${config.innName}é‡‡ç”¨äº†${style.name}çš„é£æ ¼ã€‚${style.appearance}`,\n        crimson: `${config.innName}é‡‡ç”¨äº†${style.name}çš„é£æ ¼ã€‚${style.appearance}`,\n        bamboo: `${config.innName}é‡‡ç”¨äº†${style.name}çš„é£æ ¼ã€‚${style.appearance}`,\n    };\n    const perkDescriptions = {\n        wealth: `è™šç©ºèµäºˆä½ \"è£…ä¿®åŸºé‡‘\"çš„æ©èµï¼Œä½ å¼€å±€æ›´å®¹æ˜“è·å¾—é«˜é¢çš„é‡‘å¸ã€‚`,\n        'loyal-guard': `è™šç©ºèµäºˆä½ \"å¿ è¯šå«å£«\"çš„æ©èµï¼Œä¸€åå¼ºåŠ›çš„å‘˜å·¥å·²ç»åœ¨è¿™é‡Œç­‰å¾…ä½ çš„åˆ°æ¥ã€‚`,\n    };\n    const story = `\n${worldDescriptions[config.startingWorld] || worldDescriptions.fantasy}\n\n${styleDescriptions[config.innStyle] || styleDescriptions.oak}\n\n${perkDescriptions[config.startingPerk] || perkDescriptions.wealth}\n\nä½ ç«™åœ¨${config.innName}çš„é—¨å‰ï¼Œæ„Ÿå—ç€æ¥è‡ªè™šç©ºçš„å¥‘çº¦ä¹‹åŠ›ã€‚ç‚‰ç«å·²ç»ç‚¹ç‡ƒï¼Œç¬¬ä¸€ç°‡ç«ç„°åœ¨å£ç‚‰ä¸­è·³è·ƒï¼Œå‘å‡ºæ¸©æš–è€Œç¥ç§˜çš„å…‰èŠ’ã€‚\n\n\"æ¬¢è¿æ¥åˆ°${config.innName}ã€‚\"ä½ å¯¹è‡ªå·±è¯´é“ï¼Œ\"è¿™é‡Œæ˜¯è¿·å¤±è€…çš„åº‡æŠ¤æ‰€ï¼Œæ˜¯è·¨è¶Šä½é¢çš„é©¿ç«™ã€‚ä»ä»Šå¤©èµ·ï¼Œè¿™é‡Œå°±æ˜¯ä½ çš„å®¶ï¼Œä¹Ÿæ˜¯æ‰€æœ‰æ—…äººçš„å®¶ã€‚\"\n\nä½ æ¨å¼€é—¨ï¼Œèµ°è¿›äº†æ—…åº—ã€‚ç©ºæ°”ä¸­å¼¥æ¼«ç€çƒ¤è‚‰çš„é¦™å‘³å’Œæ·¡æ·¡çš„é­”æ³•æ°”æ¯ã€‚è™½ç„¶ç°åœ¨è¿™é‡Œè¿˜å¾ˆç®€é™‹ï¼Œä½†ä½ çŸ¥é“ï¼Œåªè¦ç”¨å¿ƒç»è¥ï¼Œè¿™é‡Œå°†æˆä¸ºè¯¸å¤©ä¸‡ç•Œä¸­æœ€è‘—åçš„æ—…åº—ä¹‹ä¸€ã€‚\n\nç¬¬ä¸€å¤©çš„ç»è¥å³å°†å¼€å§‹ã€‚ä½ å‡†å¤‡å¥½äº†å—ï¼Œåº—ä¸»ï¼Ÿ\n`.trim();\n    return story;\n}\n/**\n * æ ¹æ®æ¸¸æˆé…ç½®åˆå§‹åŒ–æ¸¸æˆçŠ¶æ€ï¼ˆå·²åºŸå¼ƒï¼Œä½¿ç”¨ initializeGameVariables ä»£æ›¿ï¼‰\n * @deprecated ä½¿ç”¨ initializeGameVariables ä»£æ›¿\n */\nfunction initializeGameState(config) {\n    const world = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS.find(w => w.id === config.startingWorld) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS[0];\n    const perk = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS.find(p => p.id === config.startingPerk) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS[0];\n    // è®¡ç®—åˆå§‹é‡‘å¸ï¼ˆæ ¹æ®ä¸–ç•Œå’Œç¦åˆ©ï¼‰\n    let initialGold = world.initialGold;\n    if (perk.id === 'wealth') {\n        initialGold = Math.floor(initialGold * 3); // 200% é¢å¤– = 300% æ€»é¢\n    }\n    // è®¡ç®—åˆå§‹å»ºæ\n    let initialMaterials = world.initialMaterials;\n    if (perk.id === 'wealth') {\n        initialMaterials = Math.floor(initialMaterials * 3);\n    }\n    return {\n        gold: initialGold,\n        reputation: 0,\n        currentWorld: world.name,\n        day: 1,\n        innName: config.innName,\n        innStyle: config.innStyle,\n        startingPerk: config.startingPerk,\n    };\n}\n/**\n * å°†æ¸¸æˆé…ç½®å†™å…¥0å±‚æ¶ˆæ¯æ¥¼å±‚å˜é‡\n * åœ¨å¼€å±€åˆ›å»ºå®Œæˆåè°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–æ¸¸æˆå˜é‡\n */\nasync function initializeGameVariables(config) {\n    try {\n        const world = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS.find(w => w.id === config.startingWorld) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS[0];\n        const style = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS.find(s => s.id === config.innStyle) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS[0];\n        const perk = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS.find(p => p.id === config.startingPerk) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS[0];\n        // è®¡ç®—åˆå§‹èµ„æºï¼ˆæ ¹æ®ä¸–ç•Œå’Œç¦åˆ©ï¼‰\n        let initialGold = world.initialGold;\n        let initialMaterials = world.initialMaterials;\n        if (perk.id === 'wealth') {\n            initialGold = Math.floor(initialGold * 3); // 200% é¢å¤– = 300% æ€»é¢\n            initialMaterials = Math.floor(initialMaterials * 3);\n        }\n        // è·å–0å±‚å˜é‡è¡¨ï¼ˆå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰\n        let variables;\n        try {\n            variables = getVariables({ type: 'message', message_id: 0 });\n        }\n        catch (err) {\n            // å¦‚æœ0å±‚æ¶ˆæ¯ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„å˜é‡ç»“æ„\n            console.warn('âš ï¸ 0å±‚æ¶ˆæ¯ä¸å­˜åœ¨ï¼Œå°†åœ¨æ›´æ–°æ—¶åˆ›å»º', err);\n            variables = { stat_data: {} };\n        }\n        // ä½¿ç”¨ updateVariablesWith æ›´æ–°0å±‚å˜é‡\n        await updateVariablesWith(vars => {\n            // ç¡®ä¿ stat_data å­˜åœ¨\n            if (!vars) {\n                vars = { stat_data: {} };\n            }\n            if (!vars.stat_data) {\n                vars.stat_data = {};\n            }\n            // æ›´æ–°æ—…åº—åç§°ï¼ˆæ ¹æ®ç”¨æˆ·é…ç½®åŠ¨æ€è®¾ç½®ï¼‰\n            if (!vars.stat_data.æ—…åº—)\n                vars.stat_data.æ—…åº— = {};\n            vars.stat_data.æ—…åº—.åç§° = config.innName;\n            // æ›´æ–°å½“å‰ä¸–ç•Œ\n            if (!vars.stat_data.æ—…åº—.å½“å‰ä¸–ç•Œ)\n                vars.stat_data.æ—…åº—.å½“å‰ä¸–ç•Œ = {};\n            vars.stat_data.æ—…åº—.å½“å‰ä¸–ç•Œ.ä¸–ç•Œå = world.name;\n            vars.stat_data.æ—…åº—.å½“å‰ä¸–ç•Œ.ä¸–ç•Œä»‹ç» = world.desc;\n            // æ›´æ–°æ—…åº—é£æ ¼ä¿¡æ¯ï¼ˆå¦‚æœå­˜åœ¨åˆå§‹é£æ ¼å­—æ®µï¼‰\n            if (!vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼)\n                vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼ = {};\n            vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼.é£æ ¼åç§° = style.name;\n            vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼.é£æ ¼å…³é”®è¯ = style.keywords;\n            vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼.å¤–è§‚æè¿° = style.appearance;\n            vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼.è®¤çŸ¥ä¿®æ­£æ•ˆæœ = style.cognitiveEffect;\n            vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼.åˆå§‹å¢ç›Šåç§° = style.bonusName;\n            vars.stat_data.æ—…åº—.åˆå§‹é£æ ¼.åˆå§‹å¢ç›Šæè¿° = style.initialBonus;\n            // æ ¹æ®é€‰æ‹©çš„é£æ ¼è®¾ç½®åˆå§‹è®¾æ–½\n            if (!vars.stat_data.è®¾æ–½)\n                vars.stat_data.è®¾æ–½ = {};\n            if (!vars.stat_data.è®¾æ–½.è®¾æ–½åˆ—è¡¨) {\n                vars.stat_data.è®¾æ–½.è®¾æ–½åˆ—è¡¨ = {};\n            }\n            // è·å–å½“å‰è®¾æ–½åˆ—è¡¨ï¼ˆå¯¹è±¡æ ¼å¼ï¼‰\n            const facilityList = vars.stat_data.è®¾æ–½.è®¾æ–½åˆ—è¡¨ || {};\n            // æ ¹æ®é£æ ¼è®¾ç½®è®¾æ–½\n            const facilities = style.facilities;\n            // æ›´æ–°æˆ–æ·»åŠ è®¾æ–½ï¼ˆä½¿ç”¨å¯¹è±¡æ ¼å¼ï¼Œä»¥è®¾æ–½åç§°ä¸º keyï¼‰\n            facilityList['å®¢æˆ¿'] = {\n                åç§°: 'å®¢æˆ¿',\n                ç­‰çº§: facilities.å®¢æˆ¿.ç­‰çº§,\n                å½“å‰ç­‰çº§æè¿°: facilities.å®¢æˆ¿.å½“å‰ç­‰çº§æè¿°,\n            };\n            facilityList['é¤é¥®'] = {\n                åç§°: 'é¤é¥®',\n                ç­‰çº§: facilities.é¤é¥®.ç­‰çº§,\n                å½“å‰ç­‰çº§æè¿°: facilities.é¤é¥®.å½“å‰ç­‰çº§æè¿°,\n            };\n            facilityList['è°ƒé…’'] = {\n                åç§°: 'è°ƒé…’',\n                ç­‰çº§: facilities.è°ƒé…’.ç­‰çº§,\n                å½“å‰ç­‰çº§æè¿°: facilities.è°ƒé…’.å½“å‰ç­‰çº§æè¿°,\n            };\n            vars.stat_data.è®¾æ–½.è®¾æ–½åˆ—è¡¨ = facilityList;\n            // æ›´æ–°åº—ä¸»åˆå§‹ç¦åˆ©ï¼ˆæ ¹æ®ç”¨æˆ·é…ç½®åŠ¨æ€è®¾ç½®ï¼‰\n            if (!vars.stat_data.åº—ä¸»)\n                vars.stat_data.åº—ä¸» = {};\n            vars.stat_data.åº—ä¸».åˆå§‹ç¦åˆ© = perk.name;\n            // æ›´æ–°å‡†å…¥æ¡ä»¶\n            if (!vars.stat_data.æ—…åº—.å‡†å…¥æ¡ä»¶)\n                vars.stat_data.æ—…åº—.å‡†å…¥æ¡ä»¶ = {};\n            const accessMode = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS.find(m => m.id === config.accessMode) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS[0];\n            // è®¾ç½®å½“å‰å‡†å…¥æ¡ä»¶å¯¹è±¡\n            vars.stat_data.æ—…åº—.å‡†å…¥æ¡ä»¶.å½“å‰å‡†å…¥æ¡ä»¶ = {\n                æ¨¡å¼åç§°: accessMode.mode_name,\n                æ¡ä»¶æè¿°: accessMode.condition,\n            };\n            // å¦‚æœå‡†å…¥æ¡ä»¶åˆ—è¡¨ä¸å­˜åœ¨ï¼Œåˆå§‹åŒ–å®ƒï¼ˆåŒ…å«æ‰€æœ‰å¯ç”¨çš„å‡†å…¥æ¡ä»¶ï¼Œä½¿ç”¨å¯¹è±¡æ ¼å¼ï¼‰\n            if (!vars.stat_data.æ—…åº—.å‡†å…¥æ¡ä»¶.å‡†å…¥æ¡ä»¶åˆ—è¡¨) {\n                const accessModeList = {};\n                for (const mode of _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS) {\n                    accessModeList[mode.mode_name] = {\n                        æ¡ä»¶æè¿°: mode.condition,\n                    };\n                }\n                vars.stat_data.æ—…åº—.å‡†å…¥æ¡ä»¶.å‡†å…¥æ¡ä»¶åˆ—è¡¨ = accessModeList;\n            }\n            // æ›´æ–°åˆå§‹èµ„æºï¼ˆæ ¹æ®ä¸–ç•Œå’Œç¦åˆ©è®¡ç®—çš„å€¼ï¼‰\n            if (!vars.stat_data.èµ„æº)\n                vars.stat_data.èµ„æº = {};\n            vars.stat_data.èµ„æº.é‡‘å¸ = initialGold;\n            vars.stat_data.èµ„æº.å»ºæ = initialMaterials;\n            return vars;\n        }, { type: 'message', message_id: 0 });\n        console.log('âœ… æˆåŠŸåˆå§‹åŒ–0å±‚æ¸¸æˆå˜é‡:', {\n            innName: config.innName,\n            world: world.name,\n            style: style.name,\n            perk: perk.name,\n            initialGold,\n            initialMaterials,\n        });\n        return true;\n    }\n    catch (error) {\n        console.error('âŒ åˆå§‹åŒ–0å±‚æ¸¸æˆå˜é‡å¤±è´¥:', error);\n        return false;\n    }\n}\n/**\n * åˆ›å»ºå¼€å±€ä»‹ç»æ¥¼å±‚\n * åœ¨å¼€å±€é…ç½®å®Œæˆåè°ƒç”¨ï¼Œåˆ›å»ºåŒ…å« <maintext> å’Œ <option> çš„ä»‹ç»æ¥¼å±‚\n */\nasync function createOpeningStoryMessage(config) {\n    try {\n        const world = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS.find(w => w.id === config.startingWorld) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.WORLD_OPTIONS[0];\n        const style = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS.find(s => s.id === config.innStyle) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.INN_STYLE_OPTIONS[0];\n        const perk = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS.find(p => p.id === config.startingPerk) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.PERK_OPTIONS[0];\n        const accessMode = _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS.find(m => m.id === config.accessMode) || _types_gameConfig__WEBPACK_IMPORTED_MODULE_0__.ACCESS_MODE_OPTIONS[0];\n        // æ„å»º maintext å†…å®¹\n        const maintext = `<maintext>\nä½ æ˜¯${config.innName}çš„åº—ä¸»ã€‚é‚£äº›è¿‡å¾€å·²ç»ä¸é‡è¦ï¼Œä½ å·²ç»ç­¾è®¢äº†çµé­‚å¥‘çº¦ï¼Œ${config.innName}å°†é™ªä¼´ä½ æ­¤åçš„äººç”Ÿã€‚\n\n${config.innName}é‡‡ç”¨äº†${style.name}çš„é£æ ¼ã€‚${style.appearance}\n\n${config.innName}æ˜¯ä¸€åº§ç‰¹æ®Šçš„æ—…åº—ï¼Œå®ƒæ‹¥æœ‰ä¸‰ä¸ªä¸å¯æ”¹å˜çš„ç‰¹æ€§ï¼š\n\nç¬¬ä¸€ï¼Œ${config.innName}ä¸å¯è¢«æ¯ç­ã€‚æ— è®ºé­é‡æ€æ ·çš„ç¾éš¾ã€æˆ˜äº‰æˆ–é­”æ³•å†²å‡»ï¼Œè¿™åº§æ—…åº—ä¸ä¼šè¢«ç ´åã€‚å½“ç„¶ï¼Œé¤å…·ã€é£Ÿç‰©ã€æ°´æ¯ç­‰å™¨å…·å’Œæ¶ˆè€—å“å¹¶æ²¡æœ‰è¿™ä¸ªæ€§è´¨ï¼Œå…·å¤‡è¶…å‡¡ç‰¹æ€§çš„åªæœ‰æ—…åº—çš„å»ºç­‘éƒ¨åˆ†ã€‚\n\nç¬¬äºŒï¼Œ${config.innName}å¯ä»¥ç©¿è¶Šè¯¸å¤©ä¸‡ç•Œã€‚é€šè¿‡ä¼Ÿå¤§ä¹‹åŠ›ï¼Œæ—…åº—å¯ä»¥åœ¨ä¸åŒçš„ä¸–ç•Œä½é¢ä¹‹é—´ç©¿æ¢­ï¼Œä»å¥‡å¹»å¤§é™†åˆ°èµ›åšéƒ½å¸‚ï¼Œä»ç°ä»£æ ¡å›­åˆ°åºŸåœŸè’é‡ï¼Œæ—…åº—èƒ½å¤Ÿå‡ºç°åœ¨ä»»ä½•éœ€è¦å®ƒçš„åœ°æ–¹ã€‚\n\nç¬¬ä¸‰ï¼Œ${config.innName}å†…è‡ªå¸¦æ³•åˆ™ã€‚æ‰€æœ‰çš„å®¢äººå’Œå‘˜å·¥ï¼Œæ— è®ºæ˜¯ç¥ç¥‡è¿˜æ˜¯å‡¡å¤«ï¼Œéƒ½ä¼šè¢«æ—…åº—å†…åˆ¶å®šçš„æ³•åˆ™æš‚æ—¶æ€§åœ°å½±å“ï¼Œè¿™äº›å½±å“å°†åœ¨ä»–ä»¬ç¦»å¼€æ—…é¦†åå¤±æ•ˆã€‚æ³•åˆ™ç”±ä½ æŒæ§ï¼Œå¯ä»¥æ˜¯ç¦é­”æ³•åˆ™ã€é«˜é­”æ³•åˆ™ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç‰¹æ®Šçš„è§„åˆ™ï¼Œä¾‹å¦‚æ‰€æœ‰äººéƒ½æ— æ³•å¿ƒç”Ÿæ¶æ„æˆ–è€…æ­¹å¿µï¼Œå³ä½¿æ˜¯ä»‡æ•Œä¹Ÿå¿…é¡»å¥½å¥½ç›¸å¤„çš„\"å¥½æœ‹å‹æ³•åˆ™\"ã€‚åº—ä¸»ä¸å—æ³•åˆ™å½±å“ã€‚\n\nå…³äº${config.innName}çš„å‡†å…¥æ¡ä»¶ï¼Œä½ é€‰æ‹©äº†\"${accessMode.mode_name}\"ã€‚${accessMode.condition}\n\nç›®å‰ï¼Œ${config.innName}ä½äº${world.name}ã€‚${world.desc}\n\nè™½ç„¶æ—…åº—ç›®å‰ä¸€åˆ‡éƒ½æ‰åˆšåˆšèµ·æ­¥ï¼Œä½†å¥½åœ¨ä½ æ‹¥æœ‰ä¸€ä¸ªå¼€å±€ç¦åˆ©ï¼š${perk.name}ã€‚${perk.desc}è¿™å°†å¸®åŠ©ä½ æ›´å¥½åœ°åº¦è¿‡å‰æœŸï¼Œåœ¨è¯¸å¤©ä¸‡ç•Œä¸­å»ºç«‹å±äºä½ çš„ä¼ å¥‡ã€‚\n</maintext>`;\n        // æ„å»º option å†…å®¹\n        const option = `<option>\nA. å¼€å§‹è¿™åœºæœ‰è¶£çš„å†ç¨‹å§ã€‚\n</option>`;\n        // æ·»åŠ <sum>æ ‡ç­¾\n        const sum = `<sum>ä½ æˆä¸ºäº†${config.innName}çš„ä¸»äººã€‚å‡†å¤‡å¥½è¥ä¸šå§ï¼</sum>`;\n        // ç»„åˆå®Œæ•´æ¶ˆæ¯\n        const message = `${maintext}\\n\\n${sum}\\n\\n${option}`;\n        // è·å–0å±‚çš„dataï¼ˆæºå¸¦å˜é‡ï¼‰\n        let layer0Data = { stat_data: {}, display_data: {}, delta_data: {} };\n        try {\n            const mvuData = Mvu.getMvuData({ type: 'message', message_id: 0 });\n            // ç¡®ä¿è¿”å›çš„æ•°æ®ç»“æ„å®Œæ•´\n            if (mvuData && mvuData.stat_data) {\n                layer0Data = mvuData;\n            }\n            else {\n                console.warn('âš ï¸ 0å±‚MVUæ•°æ®çš„ stat_data ä¸å­˜åœ¨ï¼Œä½¿ç”¨ç©ºå¯¹è±¡');\n            }\n        }\n        catch (err) {\n            console.warn('âš ï¸ è·å–0å±‚MVUæ•°æ®å¤±è´¥ï¼Œå°è¯•ä»getVariablesè¯»å–', err);\n            try {\n                const vars = getVariables({ type: 'message', message_id: 0 });\n                if (vars && vars.stat_data) {\n                    layer0Data = {\n                        stat_data: vars.stat_data || {},\n                        display_data: vars.display_data || {},\n                        delta_data: vars.delta_data || {},\n                    };\n                }\n                else {\n                    console.warn('âš ï¸ 0å±‚å˜é‡çš„ stat_data ä¸å­˜åœ¨ï¼Œä½¿ç”¨ç©ºå¯¹è±¡');\n                }\n            }\n            catch (err2) {\n                console.warn('âš ï¸ è·å–0å±‚å˜é‡å¤±è´¥ï¼Œä½¿ç”¨ç©ºå¯¹è±¡', err2);\n            }\n        }\n        // åˆ›å»º1å±‚assistantæ¶ˆæ¯ï¼Œæºå¸¦0å±‚çš„data\n        await createChatMessages([\n            {\n                role: 'assistant',\n                message: message,\n                data: layer0Data, // æºå¸¦0å±‚çš„data\n            },\n        ], {\n            refresh: 'none', // ä¸åˆ·æ–°æ˜¾ç¤ºï¼Œç”±é­”å…¸è‡ªå·±è¯»å–\n        });\n        console.log('âœ… æˆåŠŸåˆ›å»ºå¼€å±€ä»‹ç»æ¥¼å±‚ï¼ˆ1å±‚ï¼‰');\n        // åˆ›å»ºå®Œæˆåï¼Œæ›´æ–°ç¼–å¹´å²\n        const { checkAndUpdateChronicle } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./chronicleUpdater */ \"./src/mhjg/utils/chronicleUpdater.ts\"));\n        await checkAndUpdateChronicle();\n        return true;\n    }\n    catch (error) {\n        console.error('âŒ åˆ›å»ºå¼€å±€ä»‹ç»æ¥¼å±‚å¤±è´¥:', error);\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsVUFBVSxJQUFJLEVBQUU7cUJBQ2xDLENBQUM7Z0JBQ0osQ0FBQztxQkFBTSxDQUFDO29CQUNOLE9BQU8sQ0FBQyxJQUFJLENBQUMsOEJBQThCLENBQUMsQ0FBQztnQkFDL0MsQ0FBQztZQUNILENBQUM7WUFBQyxPQUFPLElBQUksRUFBRSxDQUFDO2dCQUNkLE9BQU8sQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDMUMsQ0FBQztRQUNILENBQUM7UUFFRCw0QkFBNEI7UUFDNUIsTUFBTSxrQkFBa0IsQ0FDdEI7WUFDRTtnQkFDRSxJQUFJLEVBQUUsV0FBVztnQkFDakIsT0FBTyxFQUFFLE9BQU87Z0JBQ2hCLElBQUksRUFBRSxVQUFVLEVBQUUsWUFBWTthQUMvQjtTQUNGLEVBQ0Q7WUFDRSxPQUFPLEVBQUUsTUFBTSxFQUFFLGdCQUFnQjtTQUNsQyxDQUNGLENBQUM7UUFFRixPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFFaEMsY0FBYztRQUNkLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxHQUFHLE1BQU0sc0pBQTRCLENBQUM7UUFDdkUsTUFBTSx1QkFBdUIsRUFBRSxDQUFDO1FBRWhDLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDZixPQUFPLENBQUMsS0FBSyxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN0QyxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL3V0aWxzL2dhbWVJbml0aWFsaXplci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOa4uOaIj+WIneWni+WMluW3peWFt1xuICovXG5pbXBvcnQgeyBBQ0NFU1NfTU9ERV9PUFRJT05TLCBHYW1lQ29uZmlnLCBJTk5fU1RZTEVfT1BUSU9OUywgUEVSS19PUFRJT05TLCBXT1JMRF9PUFRJT05TIH0gZnJvbSAnLi4vdHlwZXMvZ2FtZUNvbmZpZyc7XG5cbi8vIOWFqOWxgOWHveaVsOWjsOaYju+8iOeUsemFkummhuWKqeaJi+aPkOS+m++8iVxuZGVjbGFyZSBmdW5jdGlvbiBnZXRWYXJpYWJsZXMob3B0aW9uOiB7IHR5cGU6ICdtZXNzYWdlJzsgbWVzc2FnZV9pZDogbnVtYmVyIHwgJ2xhdGVzdCcgfSk6IFJlY29yZDxzdHJpbmcsIGFueT47XG5kZWNsYXJlIGZ1bmN0aW9uIHVwZGF0ZVZhcmlhYmxlc1dpdGgoXG4gIHVwZGF0ZXI6ICh2YXJpYWJsZXM6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IFJlY29yZDxzdHJpbmcsIGFueT4gfCBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+LFxuICBvcHRpb246IHsgdHlwZTogJ21lc3NhZ2UnOyBtZXNzYWdlX2lkOiBudW1iZXIgfCAnbGF0ZXN0JyB9LFxuKTogUmVjb3JkPHN0cmluZywgYW55PiB8IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj47XG5kZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZUNoYXRNZXNzYWdlcyhcbiAgbWVzc2FnZXM6IEFycmF5PHsgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJzsgbWVzc2FnZTogc3RyaW5nOyBkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PiB9PixcbiAgb3B0aW9ucz86IHsgcmVmcmVzaD86ICdub25lJyB8ICdhZmZlY3RlZCcgfCAnYWxsJyB9LFxuKTogUHJvbWlzZTx2b2lkPjtcbmRlY2xhcmUgY29uc3QgTXZ1OiB7XG4gIGdldE12dURhdGE6IChvcHRpb25zOiB7IHR5cGU6ICdtZXNzYWdlJyB8ICdjaGF0JyB8ICdjaGFyYWN0ZXInIHwgJ2dsb2JhbCc7IG1lc3NhZ2VfaWQ/OiBudW1iZXIgfCAnbGF0ZXN0JyB9KSA9PiB7XG4gICAgc3RhdF9kYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIGRpc3BsYXlfZGF0YTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICBkZWx0YV9kYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICB9O1xuICBwYXJzZU1lc3NhZ2U/OiAobWVzc2FnZTogc3RyaW5nLCBvbGRfZGF0YTogYW55KSA9PiBQcm9taXNlPGFueSB8IHVuZGVmaW5lZD47XG59O1xuXG4vKipcbiAqIOagueaNrua4uOaIj+mFjee9rueUn+aIkOW8gOWxgOaWh+acrFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVPcGVuaW5nU3RvcnkoY29uZmlnOiBHYW1lQ29uZmlnKTogc3RyaW5nIHtcbiAgY29uc3Qgd29ybGQgPSBXT1JMRF9PUFRJT05TLmZpbmQodyA9PiB3LmlkID09PSBjb25maWcuc3RhcnRpbmdXb3JsZCkgfHwgV09STERfT1BUSU9OU1swXTtcbiAgY29uc3Qgc3R5bGUgPSBJTk5fU1RZTEVfT1BUSU9OUy5maW5kKHMgPT4gcy5pZCA9PT0gY29uZmlnLmlublN0eWxlKSB8fCBJTk5fU1RZTEVfT1BUSU9OU1swXTtcbiAgY29uc3QgcGVyayA9IFBFUktfT1BUSU9OUy5maW5kKHAgPT4gcC5pZCA9PT0gY29uZmlnLnN0YXJ0aW5nUGVyaykgfHwgUEVSS19PUFRJT05TWzBdO1xuXG4gIC8vIOagueaNruS4lueVjOingueUn+aIkOS4jeWQjOeahOW8gOWxgOaPj+i/sFxuICBjb25zdCB3b3JsZERlc2NyaXB0aW9uczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBmYW50YXN5OiBg5Zyo6Im+5bCU5Yip5Lqa5aSn6ZmG55qE5p+Q5Liq6KeS6JC977yM6a2U5rOV5LiO5YmR5Lqk57uH55qE5Y+k6ICB5Zyf5Zyw5LiK77yMJHtjb25maWcuaW5uTmFtZX3mgoTnhLblh7rnjrDlnKjkuIDniYflroHpnZnnmoTmo67mnpfovrnnvJjjgIJgLFxuICAgIGN5YmVycHVuazogYOmck+iZueWfjiAyMDk577yM6YW46Zuo57uI5bm05LiN57ud55qE6ZKi6ZOB5Lib5p6X5Lit77yMJHtjb25maWcuaW5uTmFtZX3nmoTmi5vniYzlnKjpnJPombnnga/mtbfkuK3pl6rng4HnnYDmuKnmmpbnmoTlhYnoipLjgIJgLFxuICAgIG1vZGVybjogYOiLjeiTneWtpuWbreeahOagoeWbreS4gOinku+8jOWSjOW5s+eahOeOsOS7o+S4lueVjOiDjOmdoumakOiXj+edgOW8guiDve+8jCR7Y29uZmlnLmlubk5hbWV96Z2Z6Z2Z5Zyw5Lyr56uL5Zyo6YKj6YeM77yM562J5b6F552A54m55q6K55qE5a6i5Lq644CCYCxcbiAgICB3YXN0ZWxhbmQ6IGDngbDng6zlup/lnJ/vvIzmnoHluqbljbHpmannmoTlnJ/lnLDkuIrvvIwke2NvbmZpZy5pbm5OYW1lfeWmguWQjOS4gOW6p+WtpOWym++8jOS4uumCo+S6m+WcqOe7neacm+S4reWvu+aJvuW4jOacm+eahOS6uuaPkOS+m+W6h+aKpOOAgmAsXG4gIH07XG5cbiAgY29uc3Qgc3R5bGVEZXNjcmlwdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgb2FrOiBgJHtjb25maWcuaW5uTmFtZX3ph4fnlKjkuoYke3N0eWxlLm5hbWV955qE6aOO5qC844CCJHtzdHlsZS5hcHBlYXJhbmNlfWAsXG4gICAgc3RyZWV0OiBgJHtjb25maWcuaW5uTmFtZX3ph4fnlKjkuoYke3N0eWxlLm5hbWV955qE6aOO5qC844CCJHtzdHlsZS5hcHBlYXJhbmNlfWAsXG4gICAgY3JpbXNvbjogYCR7Y29uZmlnLmlubk5hbWV96YeH55So5LqGJHtzdHlsZS5uYW1lfeeahOmjjuagvOOAgiR7c3R5bGUuYXBwZWFyYW5jZX1gLFxuICAgIGJhbWJvbzogYCR7Y29uZmlnLmlubk5hbWV96YeH55So5LqGJHtzdHlsZS5uYW1lfeeahOmjjuagvOOAgiR7c3R5bGUuYXBwZWFyYW5jZX1gLFxuICB9O1xuXG4gIGNvbnN0IHBlcmtEZXNjcmlwdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgd2VhbHRoOiBg6Jma56m66LWQ5LqI5L2gXCLoo4Xkv67ln7rph5FcIueahOaBqei1kO+8jOS9oOW8gOWxgOabtOWuueaYk+iOt+W+l+mrmOmineeahOmHkeW4geOAgmAsXG4gICAgJ2xveWFsLWd1YXJkJzogYOiZmuepuui1kOS6iOS9oFwi5b+g6K+a5Y2r5aOrXCLnmoTmganotZDvvIzkuIDlkI3lvLrlipvnmoTlkZjlt6Xlt7Lnu4/lnKjov5nph4znrYnlvoXkvaDnmoTliLDmnaXjgIJgLFxuICB9O1xuXG4gIGNvbnN0IHN0b3J5ID0gYFxuJHt3b3JsZERlc2NyaXB0aW9uc1tjb25maWcuc3RhcnRpbmdXb3JsZF0gfHwgd29ybGREZXNjcmlwdGlvbnMuZmFudGFzeX1cblxuJHtzdHlsZURlc2NyaXB0aW9uc1tjb25maWcuaW5uU3R5bGVdIHx8IHN0eWxlRGVzY3JpcHRpb25zLm9ha31cblxuJHtwZXJrRGVzY3JpcHRpb25zW2NvbmZpZy5zdGFydGluZ1BlcmtdIHx8IHBlcmtEZXNjcmlwdGlvbnMud2VhbHRofVxuXG7kvaDnq5nlnKgke2NvbmZpZy5pbm5OYW1lfeeahOmXqOWJje+8jOaEn+WPl+edgOadpeiHquiZmuepuueahOWlkee6puS5i+WKm+OAgueCieeBq+W3sue7j+eCueeHg++8jOesrOS4gOewh+eBq+eEsOWcqOWjgeeCieS4rei3s+i3g++8jOWPkeWHuua4qeaaluiAjOelnuenmOeahOWFieiKkuOAglxuXG5cIuasoui/juadpeWIsCR7Y29uZmlnLmlubk5hbWV944CCXCLkvaDlr7noh6rlt7Hor7TpgZPvvIxcIui/memHjOaYr+i/t+WkseiAheeahOW6h+aKpOaJgO+8jOaYr+i3qOi2iuS9jemdoueahOmpv+ermeOAguS7juS7iuWkqei1t++8jOi/memHjOWwseaYr+S9oOeahOWutu+8jOS5n+aYr+aJgOacieaXheS6uueahOWutuOAglwiXG5cbuS9oOaOqOW8gOmXqO+8jOi1sOi/m+S6huaXheW6l+OAguepuuawlOS4reW8pea8q+edgOeDpOiCieeahOmmmeWRs+WSjOa3oea3oeeahOmtlOazleawlOaBr+OAguiZveeEtueOsOWcqOi/memHjOi/mOW+iOeugOmZi++8jOS9huS9oOefpemBk++8jOWPquimgeeUqOW/g+e7j+iQpe+8jOi/memHjOWwhuaIkOS4uuivuOWkqeS4h+eVjOS4reacgOiRl+WQjeeahOaXheW6l+S5i+S4gOOAglxuXG7nrKzkuIDlpKnnmoTnu4/okKXljbPlsIblvIDlp4vjgILkvaDlh4blpIflpb3kuoblkJfvvIzlupfkuLvvvJ9cbmAudHJpbSgpO1xuXG4gIHJldHVybiBzdG9yeTtcbn1cblxuLyoqXG4gKiDmoLnmja7muLjmiI/phY3nva7liJ3lp4vljJbmuLjmiI/nirbmgIHvvIjlt7Llup/lvIPvvIzkvb/nlKggaW5pdGlhbGl6ZUdhbWVWYXJpYWJsZXMg5Luj5pu/77yJXG4gKiBAZGVwcmVjYXRlZCDkvb/nlKggaW5pdGlhbGl6ZUdhbWVWYXJpYWJsZXMg5Luj5pu/XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplR2FtZVN0YXRlKGNvbmZpZzogR2FtZUNvbmZpZykge1xuICBjb25zdCB3b3JsZCA9IFdPUkxEX09QVElPTlMuZmluZCh3ID0+IHcuaWQgPT09IGNvbmZpZy5zdGFydGluZ1dvcmxkKSB8fCBXT1JMRF9PUFRJT05TWzBdO1xuICBjb25zdCBwZXJrID0gUEVSS19PUFRJT05TLmZpbmQocCA9PiBwLmlkID09PSBjb25maWcuc3RhcnRpbmdQZXJrKSB8fCBQRVJLX09QVElPTlNbMF07XG5cbiAgLy8g6K6h566X5Yid5aeL6YeR5biB77yI5qC55o2u5LiW55WM5ZKM56aP5Yip77yJXG4gIGxldCBpbml0aWFsR29sZCA9IHdvcmxkLmluaXRpYWxHb2xkO1xuICBpZiAocGVyay5pZCA9PT0gJ3dlYWx0aCcpIHtcbiAgICBpbml0aWFsR29sZCA9IE1hdGguZmxvb3IoaW5pdGlhbEdvbGQgKiAzKTsgLy8gMjAwJSDpop3lpJYgPSAzMDAlIOaAu+minVxuICB9XG5cbiAgLy8g6K6h566X5Yid5aeL5bu65p2QXG4gIGxldCBpbml0aWFsTWF0ZXJpYWxzID0gd29ybGQuaW5pdGlhbE1hdGVyaWFscztcbiAgaWYgKHBlcmsuaWQgPT09ICd3ZWFsdGgnKSB7XG4gICAgaW5pdGlhbE1hdGVyaWFscyA9IE1hdGguZmxvb3IoaW5pdGlhbE1hdGVyaWFscyAqIDMpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnb2xkOiBpbml0aWFsR29sZCxcbiAgICByZXB1dGF0aW9uOiAwLFxuICAgIGN1cnJlbnRXb3JsZDogd29ybGQubmFtZSxcbiAgICBkYXk6IDEsXG4gICAgaW5uTmFtZTogY29uZmlnLmlubk5hbWUsXG4gICAgaW5uU3R5bGU6IGNvbmZpZy5pbm5TdHlsZSxcbiAgICBzdGFydGluZ1Blcms6IGNvbmZpZy5zdGFydGluZ1BlcmssXG4gIH07XG59XG5cbi8qKlxuICog5bCG5ri45oiP6YWN572u5YaZ5YWlMOWxgua2iOaBr+alvOWxguWPmOmHj1xuICog5Zyo5byA5bGA5Yib5bu65a6M5oiQ5ZCO6LCD55So77yM55So5LqO5Yid5aeL5YyW5ri45oiP5Y+Y6YePXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplR2FtZVZhcmlhYmxlcyhjb25maWc6IEdhbWVDb25maWcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB3b3JsZCA9IFdPUkxEX09QVElPTlMuZmluZCh3ID0+IHcuaWQgPT09IGNvbmZpZy5zdGFydGluZ1dvcmxkKSB8fCBXT1JMRF9PUFRJT05TWzBdO1xuICAgIGNvbnN0IHN0eWxlID0gSU5OX1NUWUxFX09QVElPTlMuZmluZChzID0+IHMuaWQgPT09IGNvbmZpZy5pbm5TdHlsZSkgfHwgSU5OX1NUWUxFX09QVElPTlNbMF07XG4gICAgY29uc3QgcGVyayA9IFBFUktfT1BUSU9OUy5maW5kKHAgPT4gcC5pZCA9PT0gY29uZmlnLnN0YXJ0aW5nUGVyaykgfHwgUEVSS19PUFRJT05TWzBdO1xuXG4gICAgLy8g6K6h566X5Yid5aeL6LWE5rqQ77yI5qC55o2u5LiW55WM5ZKM56aP5Yip77yJXG4gICAgbGV0IGluaXRpYWxHb2xkID0gd29ybGQuaW5pdGlhbEdvbGQ7XG4gICAgbGV0IGluaXRpYWxNYXRlcmlhbHMgPSB3b3JsZC5pbml0aWFsTWF0ZXJpYWxzO1xuICAgIGlmIChwZXJrLmlkID09PSAnd2VhbHRoJykge1xuICAgICAgaW5pdGlhbEdvbGQgPSBNYXRoLmZsb29yKGluaXRpYWxHb2xkICogMyk7IC8vIDIwMCUg6aKd5aSWID0gMzAwJSDmgLvpop1cbiAgICAgIGluaXRpYWxNYXRlcmlhbHMgPSBNYXRoLmZsb29yKGluaXRpYWxNYXRlcmlhbHMgKiAzKTtcbiAgICB9XG5cbiAgICAvLyDojrflj5Yw5bGC5Y+Y6YeP6KGo77yI5aaC5p6c5LiN5a2Y5Zyo5YiZ5Yib5bu677yJXG4gICAgbGV0IHZhcmlhYmxlczogYW55O1xuICAgIHRyeSB7XG4gICAgICB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IDAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyDlpoLmnpww5bGC5raI5oGv5LiN5a2Y5Zyo77yM5Yib5bu65LiA5Liq56m655qE5Y+Y6YeP57uT5p6EXG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyAw5bGC5raI5oGv5LiN5a2Y5Zyo77yM5bCG5Zyo5pu05paw5pe25Yib5bu6JywgZXJyKTtcbiAgICAgIHZhcmlhYmxlcyA9IHsgc3RhdF9kYXRhOiB7fSB9O1xuICAgIH1cblxuICAgIC8vIOS9v+eUqCB1cGRhdGVWYXJpYWJsZXNXaXRoIOabtOaWsDDlsYLlj5jph49cbiAgICBhd2FpdCB1cGRhdGVWYXJpYWJsZXNXaXRoKFxuICAgICAgdmFycyA9PiB7XG4gICAgICAgIC8vIOehruS/nSBzdGF0X2RhdGEg5a2Y5ZyoXG4gICAgICAgIGlmICghdmFycykge1xuICAgICAgICAgIHZhcnMgPSB7IHN0YXRfZGF0YToge30gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhcnMuc3RhdF9kYXRhKSB7XG4gICAgICAgICAgdmFycy5zdGF0X2RhdGEgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOabtOaWsOaXheW6l+WQjeensO+8iOagueaNrueUqOaIt+mFjee9ruWKqOaAgeiuvue9ru+8iVxuICAgICAgICBpZiAoIXZhcnMuc3RhdF9kYXRhLuaXheW6lykgdmFycy5zdGF0X2RhdGEu5peF5bqXID0ge307XG4gICAgICAgIHZhcnMuc3RhdF9kYXRhLuaXheW6ly7lkI3np7AgPSBjb25maWcuaW5uTmFtZTtcblxuICAgICAgICAvLyDmm7TmlrDlvZPliY3kuJbnlYxcbiAgICAgICAgaWYgKCF2YXJzLnN0YXRfZGF0YS7ml4Xlupcu5b2T5YmN5LiW55WMKSB2YXJzLnN0YXRfZGF0YS7ml4Xlupcu5b2T5YmN5LiW55WMID0ge307XG4gICAgICAgIHZhcnMuc3RhdF9kYXRhLuaXheW6ly7lvZPliY3kuJbnlYwu5LiW55WM5ZCNID0gd29ybGQubmFtZTtcbiAgICAgICAgdmFycy5zdGF0X2RhdGEu5peF5bqXLuW9k+WJjeS4lueVjC7kuJbnlYzku4vnu40gPSB3b3JsZC5kZXNjO1xuXG4gICAgICAgIC8vIOabtOaWsOaXheW6l+mjjuagvOS/oeaBr++8iOWmguaenOWtmOWcqOWIneWni+mjjuagvOWtl+aute+8iVxuICAgICAgICBpZiAoIXZhcnMuc3RhdF9kYXRhLuaXheW6ly7liJ3lp4vpo47moLwpIHZhcnMuc3RhdF9kYXRhLuaXheW6ly7liJ3lp4vpo47moLwgPSB7fTtcbiAgICAgICAgdmFycy5zdGF0X2RhdGEu5peF5bqXLuWIneWni+mjjuagvC7po47moLzlkI3np7AgPSBzdHlsZS5uYW1lO1xuICAgICAgICB2YXJzLnN0YXRfZGF0YS7ml4Xlupcu5Yid5aeL6aOO5qC8LumjjuagvOWFs+mUruivjSA9IHN0eWxlLmtleXdvcmRzO1xuICAgICAgICB2YXJzLnN0YXRfZGF0YS7ml4Xlupcu5Yid5aeL6aOO5qC8LuWkluinguaPj+i/sCA9IHN0eWxlLmFwcGVhcmFuY2U7XG4gICAgICAgIHZhcnMuc3RhdF9kYXRhLuaXheW6ly7liJ3lp4vpo47moLwu6K6k55+l5L+u5q2j5pWI5p6cID0gc3R5bGUuY29nbml0aXZlRWZmZWN0O1xuICAgICAgICB2YXJzLnN0YXRfZGF0YS7ml4Xlupcu5Yid5aeL6aOO5qC8LuWIneWni+WinuebiuWQjeensCA9IHN0eWxlLmJvbnVzTmFtZTtcbiAgICAgICAgdmFycy5zdGF0X2RhdGEu5peF5bqXLuWIneWni+mjjuagvC7liJ3lp4vlop7nm4rmj4/ov7AgPSBzdHlsZS5pbml0aWFsQm9udXM7XG5cbiAgICAgICAgLy8g5qC55o2u6YCJ5oup55qE6aOO5qC86K6+572u5Yid5aeL6K6+5pa9XG4gICAgICAgIGlmICghdmFycy5zdGF0X2RhdGEu6K6+5pa9KSB2YXJzLnN0YXRfZGF0YS7orr7mlr0gPSB7fTtcbiAgICAgICAgaWYgKCF2YXJzLnN0YXRfZGF0YS7orr7mlr0u6K6+5pa95YiX6KGoKSB7XG4gICAgICAgICAgdmFycy5zdGF0X2RhdGEu6K6+5pa9LuiuvuaWveWIl+ihqCA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g6I635Y+W5b2T5YmN6K6+5pa95YiX6KGo77yI5a+56LGh5qC85byP77yJXG4gICAgICAgIGNvbnN0IGZhY2lsaXR5TGlzdDogUmVjb3JkPHN0cmluZywgYW55PiA9IHZhcnMuc3RhdF9kYXRhLuiuvuaWvS7orr7mlr3liJfooaggfHwge307XG5cbiAgICAgICAgLy8g5qC55o2u6aOO5qC86K6+572u6K6+5pa9XG4gICAgICAgIGNvbnN0IGZhY2lsaXRpZXMgPSBzdHlsZS5mYWNpbGl0aWVzO1xuXG4gICAgICAgIC8vIOabtOaWsOaIlua3u+WKoOiuvuaWve+8iOS9v+eUqOWvueixoeagvOW8j++8jOS7peiuvuaWveWQjeensOS4uiBrZXnvvIlcbiAgICAgICAgZmFjaWxpdHlMaXN0WyflrqLmiL8nXSA9IHtcbiAgICAgICAgICDlkI3np7A6ICflrqLmiL8nLFxuICAgICAgICAgIOetiee6pzogZmFjaWxpdGllcy7lrqLmiL8u562J57qnLFxuICAgICAgICAgIOW9k+WJjeetiee6p+aPj+i/sDogZmFjaWxpdGllcy7lrqLmiL8u5b2T5YmN562J57qn5o+P6L+wLFxuICAgICAgICB9O1xuXG4gICAgICAgIGZhY2lsaXR5TGlzdFsn6aSQ6aWuJ10gPSB7XG4gICAgICAgICAg5ZCN56ewOiAn6aSQ6aWuJyxcbiAgICAgICAgICDnrYnnuqc6IGZhY2lsaXRpZXMu6aSQ6aWuLuetiee6pyxcbiAgICAgICAgICDlvZPliY3nrYnnuqfmj4/ov7A6IGZhY2lsaXRpZXMu6aSQ6aWuLuW9k+WJjeetiee6p+aPj+i/sCxcbiAgICAgICAgfTtcblxuICAgICAgICBmYWNpbGl0eUxpc3RbJ+iwg+mFkiddID0ge1xuICAgICAgICAgIOWQjeensDogJ+iwg+mFkicsXG4gICAgICAgICAg562J57qnOiBmYWNpbGl0aWVzLuiwg+mFki7nrYnnuqcsXG4gICAgICAgICAg5b2T5YmN562J57qn5o+P6L+wOiBmYWNpbGl0aWVzLuiwg+mFki7lvZPliY3nrYnnuqfmj4/ov7AsXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFycy5zdGF0X2RhdGEu6K6+5pa9LuiuvuaWveWIl+ihqCA9IGZhY2lsaXR5TGlzdDtcbiAgICAgICAgLy8g5pu05paw5bqX5Li75Yid5aeL56aP5Yip77yI5qC55o2u55So5oi36YWN572u5Yqo5oCB6K6+572u77yJXG4gICAgICAgIGlmICghdmFycy5zdGF0X2RhdGEu5bqX5Li7KSB2YXJzLnN0YXRfZGF0YS7lupfkuLsgPSB7fTtcbiAgICAgICAgdmFycy5zdGF0X2RhdGEu5bqX5Li7LuWIneWni+emj+WIqSA9IHBlcmsubmFtZTtcblxuICAgICAgICAvLyDmm7TmlrDlh4blhaXmnaHku7ZcbiAgICAgICAgaWYgKCF2YXJzLnN0YXRfZGF0YS7ml4Xlupcu5YeG5YWl5p2h5Lu2KSB2YXJzLnN0YXRfZGF0YS7ml4Xlupcu5YeG5YWl5p2h5Lu2ID0ge307XG4gICAgICAgIGNvbnN0IGFjY2Vzc01vZGUgPSBBQ0NFU1NfTU9ERV9PUFRJT05TLmZpbmQobSA9PiBtLmlkID09PSBjb25maWcuYWNjZXNzTW9kZSkgfHwgQUNDRVNTX01PREVfT1BUSU9OU1swXTtcblxuICAgICAgICAvLyDorr7nva7lvZPliY3lh4blhaXmnaHku7blr7nosaFcbiAgICAgICAgdmFycy5zdGF0X2RhdGEu5peF5bqXLuWHhuWFpeadoeS7ti7lvZPliY3lh4blhaXmnaHku7YgPSB7XG4gICAgICAgICAg5qih5byP5ZCN56ewOiBhY2Nlc3NNb2RlLm1vZGVfbmFtZSxcbiAgICAgICAgICDmnaHku7bmj4/ov7A6IGFjY2Vzc01vZGUuY29uZGl0aW9uLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIOWmguaenOWHhuWFpeadoeS7tuWIl+ihqOS4jeWtmOWcqO+8jOWIneWni+WMluWug++8iOWMheWQq+aJgOacieWPr+eUqOeahOWHhuWFpeadoeS7tu+8jOS9v+eUqOWvueixoeagvOW8j++8iVxuICAgICAgICBpZiAoIXZhcnMuc3RhdF9kYXRhLuaXheW6ly7lh4blhaXmnaHku7Yu5YeG5YWl5p2h5Lu25YiX6KGoKSB7XG4gICAgICAgICAgY29uc3QgYWNjZXNzTW9kZUxpc3Q6IFJlY29yZDxzdHJpbmcsIHsg5p2h5Lu25o+P6L+wOiBzdHJpbmcgfT4gPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IG1vZGUgb2YgQUNDRVNTX01PREVfT1BUSU9OUykge1xuICAgICAgICAgICAgYWNjZXNzTW9kZUxpc3RbbW9kZS5tb2RlX25hbWVdID0ge1xuICAgICAgICAgICAgICDmnaHku7bmj4/ov7A6IG1vZGUuY29uZGl0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFycy5zdGF0X2RhdGEu5peF5bqXLuWHhuWFpeadoeS7ti7lh4blhaXmnaHku7bliJfooaggPSBhY2Nlc3NNb2RlTGlzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOabtOaWsOWIneWni+i1hOa6kO+8iOagueaNruS4lueVjOWSjOemj+WIqeiuoeeul+eahOWAvO+8iVxuICAgICAgICBpZiAoIXZhcnMuc3RhdF9kYXRhLui1hOa6kCkgdmFycy5zdGF0X2RhdGEu6LWE5rqQID0ge307XG4gICAgICAgIHZhcnMuc3RhdF9kYXRhLui1hOa6kC7ph5HluIEgPSBpbml0aWFsR29sZDtcbiAgICAgICAgdmFycy5zdGF0X2RhdGEu6LWE5rqQLuW7uuadkCA9IGluaXRpYWxNYXRlcmlhbHM7XG5cbiAgICAgICAgcmV0dXJuIHZhcnM7XG4gICAgICB9LFxuICAgICAgeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IDAgfSxcbiAgICApO1xuXG4gICAgY29uc29sZS5sb2coJ+KchSDmiJDlip/liJ3lp4vljJYw5bGC5ri45oiP5Y+Y6YePOicsIHtcbiAgICAgIGlubk5hbWU6IGNvbmZpZy5pbm5OYW1lLFxuICAgICAgd29ybGQ6IHdvcmxkLm5hbWUsXG4gICAgICBzdHlsZTogc3R5bGUubmFtZSxcbiAgICAgIHBlcms6IHBlcmsubmFtZSxcbiAgICAgIGluaXRpYWxHb2xkLFxuICAgICAgaW5pdGlhbE1hdGVyaWFscyxcbiAgICB9KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDliJ3lp4vljJYw5bGC5ri45oiP5Y+Y6YeP5aSx6LSlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiDliJvlu7rlvIDlsYDku4vnu43mpbzlsYJcbiAqIOWcqOW8gOWxgOmFjee9ruWujOaIkOWQjuiwg+eUqO+8jOWIm+W7uuWMheWQqyA8bWFpbnRleHQ+IOWSjCA8b3B0aW9uPiDnmoTku4vnu43mpbzlsYJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9wZW5pbmdTdG9yeU1lc3NhZ2UoY29uZmlnOiBHYW1lQ29uZmlnKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgd29ybGQgPSBXT1JMRF9PUFRJT05TLmZpbmQodyA9PiB3LmlkID09PSBjb25maWcuc3RhcnRpbmdXb3JsZCkgfHwgV09STERfT1BUSU9OU1swXTtcbiAgICBjb25zdCBzdHlsZSA9IElOTl9TVFlMRV9PUFRJT05TLmZpbmQocyA9PiBzLmlkID09PSBjb25maWcuaW5uU3R5bGUpIHx8IElOTl9TVFlMRV9PUFRJT05TWzBdO1xuICAgIGNvbnN0IHBlcmsgPSBQRVJLX09QVElPTlMuZmluZChwID0+IHAuaWQgPT09IGNvbmZpZy5zdGFydGluZ1BlcmspIHx8IFBFUktfT1BUSU9OU1swXTtcbiAgICBjb25zdCBhY2Nlc3NNb2RlID0gQUNDRVNTX01PREVfT1BUSU9OUy5maW5kKG0gPT4gbS5pZCA9PT0gY29uZmlnLmFjY2Vzc01vZGUpIHx8IEFDQ0VTU19NT0RFX09QVElPTlNbMF07XG5cbiAgICAvLyDmnoTlu7ogbWFpbnRleHQg5YaF5a65XG4gICAgY29uc3QgbWFpbnRleHQgPSBgPG1haW50ZXh0Plxu5L2g5pivJHtjb25maWcuaW5uTmFtZX3nmoTlupfkuLvjgILpgqPkupvov4flvoDlt7Lnu4/kuI3ph43opoHvvIzkvaDlt7Lnu4/nrb7orqLkuobngbXprYLlpZHnuqbvvIwke2NvbmZpZy5pbm5OYW1lfeWwhumZquS8tOS9oOatpOWQjueahOS6uueUn+OAglxuXG4ke2NvbmZpZy5pbm5OYW1lfemHh+eUqOS6hiR7c3R5bGUubmFtZX3nmoTpo47moLzjgIIke3N0eWxlLmFwcGVhcmFuY2V9XG5cbiR7Y29uZmlnLmlubk5hbWV95piv5LiA5bqn54m55q6K55qE5peF5bqX77yM5a6D5oul5pyJ5LiJ5Liq5LiN5Y+v5pS55Y+Y55qE54m55oCn77yaXG5cbuesrOS4gO+8jCR7Y29uZmlnLmlubk5hbWV95LiN5Y+v6KKr5q+B54Gt44CC5peg6K666YGt6YGH5oCO5qC355qE54G+6Zq+44CB5oiY5LqJ5oiW6a2U5rOV5Yay5Ye777yM6L+Z5bqn5peF5bqX5LiN5Lya6KKr56C05Z2P44CC5b2T54S277yM6aSQ5YW344CB6aOf54mp44CB5rC05p2v562J5Zmo5YW35ZKM5raI6ICX5ZOB5bm25rKh5pyJ6L+Z5Liq5oCn6LSo77yM5YW35aSH6LaF5Yeh54m55oCn55qE5Y+q5pyJ5peF5bqX55qE5bu6562R6YOo5YiG44CCXG5cbuesrOS6jO+8jCR7Y29uZmlnLmlubk5hbWV95Y+v5Lul56m/6LaK6K+45aSp5LiH55WM44CC6YCa6L+H5Lyf5aSn5LmL5Yqb77yM5peF5bqX5Y+v5Lul5Zyo5LiN5ZCM55qE5LiW55WM5L2N6Z2i5LmL6Ze056m/5qKt77yM5LuO5aWH5bm75aSn6ZmG5Yiw6LWb5Y2a6YO95biC77yM5LuO546w5Luj5qCh5Zut5Yiw5bqf5Zyf6I2S6YeO77yM5peF5bqX6IO95aSf5Ye6546w5Zyo5Lu75L2V6ZyA6KaB5a6D55qE5Zyw5pa544CCXG5cbuesrOS4ie+8jCR7Y29uZmlnLmlubk5hbWV95YaF6Ieq5bim5rOV5YiZ44CC5omA5pyJ55qE5a6i5Lq65ZKM5ZGY5bel77yM5peg6K665piv56We56WH6L+Y5piv5Yeh5aSr77yM6YO95Lya6KKr5peF5bqX5YaF5Yi25a6a55qE5rOV5YiZ5pqC5pe25oCn5Zyw5b2x5ZON77yM6L+Z5Lqb5b2x5ZON5bCG5Zyo5LuW5Lus56a75byA5peF6aaG5ZCO5aSx5pWI44CC5rOV5YiZ55Sx5L2g5o6M5o6n77yM5Y+v5Lul5piv56aB6a2U5rOV5YiZ44CB6auY6a2U5rOV5YiZ77yM5Lmf5Y+v5Lul5piv5YW25LuW54m55q6K55qE6KeE5YiZ77yM5L6L5aaC5omA5pyJ5Lq66YO95peg5rOV5b+D55Sf5oG25oSP5oiW6ICF5q255b+177yM5Y2z5L2/5piv5LuH5pWM5Lmf5b+F6aG75aW95aW955u45aSE55qEXCLlpb3mnIvlj4vms5XliJlcIuOAguW6l+S4u+S4jeWPl+azleWImeW9seWTjeOAglxuXG7lhbPkuo4ke2NvbmZpZy5pbm5OYW1lfeeahOWHhuWFpeadoeS7tu+8jOS9oOmAieaLqeS6hlwiJHthY2Nlc3NNb2RlLm1vZGVfbmFtZX1cIuOAgiR7YWNjZXNzTW9kZS5jb25kaXRpb259XG5cbuebruWJje+8jCR7Y29uZmlnLmlubk5hbWV95L2N5LqOJHt3b3JsZC5uYW1lfeOAgiR7d29ybGQuZGVzY31cblxu6Jm954S25peF5bqX55uu5YmN5LiA5YiH6YO95omN5Yia5Yia6LW35q2l77yM5L2G5aW95Zyo5L2g5oul5pyJ5LiA5Liq5byA5bGA56aP5Yip77yaJHtwZXJrLm5hbWV944CCJHtwZXJrLmRlc2N96L+Z5bCG5biu5Yqp5L2g5pu05aW95Zyw5bqm6L+H5YmN5pyf77yM5Zyo6K+45aSp5LiH55WM5Lit5bu656uL5bGe5LqO5L2g55qE5Lyg5aWH44CCXG48L21haW50ZXh0PmA7XG5cbiAgICAvLyDmnoTlu7ogb3B0aW9uIOWGheWuuVxuICAgIGNvbnN0IG9wdGlvbiA9IGA8b3B0aW9uPlxuQS4g5byA5aeL6L+Z5Zy65pyJ6Laj55qE5Y6G56iL5ZCn44CCXG48L29wdGlvbj5gO1xuXG4gICAgLy8g5re75YqgPHN1bT7moIfnrb5cbiAgICBjb25zdCBzdW0gPSBgPHN1bT7kvaDmiJDkuLrkuoYke2NvbmZpZy5pbm5OYW1lfeeahOS4u+S6uuOAguWHhuWkh+WlveiQpeS4muWQp++8gTwvc3VtPmA7XG5cbiAgICAvLyDnu4TlkIjlrozmlbTmtojmga9cbiAgICBjb25zdCBtZXNzYWdlID0gYCR7bWFpbnRleHR9XFxuXFxuJHtzdW19XFxuXFxuJHtvcHRpb259YDtcblxuICAgIC8vIOiOt+WPljDlsYLnmoRkYXRh77yI5pC65bim5Y+Y6YeP77yJXG4gICAgbGV0IGxheWVyMERhdGE6IGFueSA9IHsgc3RhdF9kYXRhOiB7fSwgZGlzcGxheV9kYXRhOiB7fSwgZGVsdGFfZGF0YToge30gfTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbXZ1RGF0YSA9IE12dS5nZXRNdnVEYXRhKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiAwIH0pO1xuICAgICAgLy8g56Gu5L+d6L+U5Zue55qE5pWw5o2u57uT5p6E5a6M5pW0XG4gICAgICBpZiAobXZ1RGF0YSAmJiBtdnVEYXRhLnN0YXRfZGF0YSkge1xuICAgICAgICBsYXllcjBEYXRhID0gbXZ1RGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIDDlsYJNVlXmlbDmja7nmoQgc3RhdF9kYXRhIOS4jeWtmOWcqO+8jOS9v+eUqOepuuWvueixoScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8g6I635Y+WMOWxgk1WVeaVsOaNruWksei0pe+8jOWwneivleS7jmdldFZhcmlhYmxlc+ivu+WPlicsIGVycik7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB2YXJzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiAwIH0pO1xuICAgICAgICBpZiAodmFycyAmJiB2YXJzLnN0YXRfZGF0YSkge1xuICAgICAgICAgIGxheWVyMERhdGEgPSB7XG4gICAgICAgICAgICBzdGF0X2RhdGE6IHZhcnMuc3RhdF9kYXRhIHx8IHt9LFxuICAgICAgICAgICAgZGlzcGxheV9kYXRhOiB2YXJzLmRpc3BsYXlfZGF0YSB8fCB7fSxcbiAgICAgICAgICAgIGRlbHRhX2RhdGE6IHZhcnMuZGVsdGFfZGF0YSB8fCB7fSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIDDlsYLlj5jph4/nmoQgc3RhdF9kYXRhIOS4jeWtmOWcqO+8jOS9v+eUqOepuuWvueixoScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIyKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOiOt+WPljDlsYLlj5jph4/lpLHotKXvvIzkvb/nlKjnqbrlr7nosaEnLCBlcnIyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDliJvlu7ox5bGCYXNzaXN0YW505raI5oGv77yM5pC65bimMOWxgueahGRhdGFcbiAgICBhd2FpdCBjcmVhdGVDaGF0TWVzc2FnZXMoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgIGRhdGE6IGxheWVyMERhdGEsIC8vIOaQuuW4pjDlsYLnmoRkYXRhXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAge1xuICAgICAgICByZWZyZXNoOiAnbm9uZScsIC8vIOS4jeWIt+aWsOaYvuekuu+8jOeUsemtlOWFuOiHquW3seivu+WPllxuICAgICAgfSxcbiAgICApO1xuXG4gICAgY29uc29sZS5sb2coJ+KchSDmiJDlip/liJvlu7rlvIDlsYDku4vnu43mpbzlsYLvvIgx5bGC77yJJyk7XG5cbiAgICAvLyDliJvlu7rlrozmiJDlkI7vvIzmm7TmlrDnvJblubTlj7JcbiAgICBjb25zdCB7IGNoZWNrQW5kVXBkYXRlQ2hyb25pY2xlIH0gPSBhd2FpdCBpbXBvcnQoJy4vY2hyb25pY2xlVXBkYXRlcicpO1xuICAgIGF3YWl0IGNoZWNrQW5kVXBkYXRlQ2hyb25pY2xlKCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwg5Yib5bu65byA5bGA5LuL57uN5qW85bGC5aSx6LSlOicsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/utils/gameInitializer.ts\n\n}");
  },
  "./src/mhjg/utils/storyInteraction.ts": 
  /*!********************************************!*\
  !*** ./src/mhjg/utils/storyInteraction.ts ***!
  \********************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMvuOnlyMessage: () => (/* binding */ createMvuOnlyMessage),\n/* harmony export */   parseMaintext: () => (/* binding */ parseMaintext),\n/* harmony export */   parseOptions: () => (/* binding */ parseOptions),\n/* harmony export */   parseSum: () => (/* binding */ parseSum),\n/* harmony export */   parseUpdateVariable: () => (/* binding */ parseUpdateVariable),\n/* harmony export */   validateMessage: () => (/* binding */ validateMessage)\n/* harmony export */ });\n/**\n * æ¸¸æˆå‰§æƒ…äº¤äº’ç®¡ç†å™¨\n * è´Ÿè´£å¤„ç†å¼€å±€å‰§æƒ…åˆ›å»ºå’Œç©å®¶é€‰æ‹©åçš„äº¤äº’\n */\nfunction getLatestMessageData() {\n    try {\n        return Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n    }\n    catch (err) {\n        console.warn('âš ï¸ Mvu.getMvuData å¤±è´¥ï¼Œé€€åŒ–åˆ°ä¸Šä¸€æ¥¼ data:', err);\n    }\n    try {\n        const last = getChatMessages(-1)?.[0];\n        if (last?.data)\n            return last.data;\n    }\n    catch (err) {\n        console.error('âŒ æ— æ³•è·å–æ¥¼å±‚å˜é‡ï¼Œè¿”å›ç©ºå¯¹è±¡', err);\n    }\n    return { stat_data: {}, display_data: {}, delta_data: {} };\n}\n/**\n * éªŒè¯æ¶ˆæ¯æ˜¯å¦ç¬¦åˆè§„èŒƒ\n * è‡³å°‘åŒ…å«å®Œæ•´é—­åˆçš„ <maintext> å’Œ <option> æ ‡ç­¾\n * @param messageContent æ¶ˆæ¯å†…å®¹\n * @returns æ˜¯å¦ç¬¦åˆè§„èŒƒ\n */\nfunction validateMessage(messageContent) {\n    if (!messageContent || typeof messageContent !== 'string') {\n        return false;\n    }\n    // æ£€æŸ¥æ˜¯å¦åŒ…å«å®Œæ•´é—­åˆçš„ <maintext> æ ‡ç­¾\n    const maintextMatch = messageContent.match(/<maintext>([\\s\\S]*?)<\\/maintext>/i);\n    if (!maintextMatch) {\n        console.warn('âš ï¸ æ¶ˆæ¯ç¼ºå°‘ <maintext> æ ‡ç­¾');\n        return false;\n    }\n    // æ£€æŸ¥æ˜¯å¦åŒ…å«å®Œæ•´é—­åˆçš„ <option> æ ‡ç­¾\n    const optionMatch = messageContent.match(/<option>([\\s\\S]*?)<\\/option>/i);\n    if (!optionMatch) {\n        console.warn('âš ï¸ æ¶ˆæ¯ç¼ºå°‘ <option> æ ‡ç­¾');\n        return false;\n    }\n    // æ£€æŸ¥ maintext å†…å®¹æ˜¯å¦ä¸ºç©º\n    const maintextContent = maintextMatch[1].trim();\n    if (!maintextContent) {\n        console.warn('âš ï¸ <maintext> æ ‡ç­¾å†…å®¹ä¸ºç©º');\n        return false;\n    }\n    // æ£€æŸ¥ option å†…å®¹æ˜¯å¦ä¸ºç©º\n    const optionContent = optionMatch[1].trim();\n    if (!optionContent) {\n        console.warn('âš ï¸ <option> æ ‡ç­¾å†…å®¹ä¸ºç©º');\n        return false;\n    }\n    return true;\n}\n/**\n * è§£ææ¶ˆæ¯ä¸­çš„é€‰é¡¹\n * ä» assistant æ¶ˆæ¯ä¸­æå– <option> æ ‡ç­¾å†…çš„é€‰é¡¹\n * æŒ‰ A.ã€B.ã€C. ç­‰å­—æ¯å¼€å¤´æ¥åˆ†å‰²é€‰é¡¹\n * @param messageContent æ¶ˆæ¯å†…å®¹\n * @returns é€‰é¡¹æ•°ç»„\n */\nfunction parseOptions(messageContent) {\n    const optionMatch = messageContent.match(/<option>([\\s\\S]*?)<\\/option>/i);\n    if (!optionMatch) {\n        return [];\n    }\n    const optionText = optionMatch[1].trim();\n    // æŒ‰ A.ã€B.ã€C. ç­‰å­—æ¯å¼€å¤´æ¥åˆ†å‰²é€‰é¡¹\n    // åŒ¹é…æ¨¡å¼ï¼šå­—æ¯. å¼€å¤´ï¼ˆå¦‚ A.ã€B.ã€C. ç­‰ï¼‰\n    const optionPattern = /^[A-Z]\\./m;\n    const lines = optionText.split('\\n');\n    const options = [];\n    let currentOption = [];\n    for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim();\n        // å¦‚æœå½“å‰è¡ŒåŒ¹é…é€‰é¡¹æ¨¡å¼ï¼ˆA.ã€B.ç­‰å¼€å¤´ï¼‰\n        if (optionPattern.test(line)) {\n            // å¦‚æœä¹‹å‰æœ‰æ”¶é›†çš„é€‰é¡¹ï¼Œå…ˆä¿å­˜\n            if (currentOption.length > 0) {\n                options.push(currentOption.join('\\n').trim());\n                currentOption = [];\n            }\n            // å¼€å§‹æ–°çš„é€‰é¡¹\n            currentOption.push(line);\n        }\n        else if (line.length > 0) {\n            // å¦‚æœå½“å‰è¡Œä¸ä¸ºç©ºï¼Œä¸”ä¸æ˜¯æ–°é€‰é¡¹å¼€å¤´ï¼Œåˆ™å±äºå½“å‰é€‰é¡¹çš„ä¸€éƒ¨åˆ†\n            if (currentOption.length > 0) {\n                currentOption.push(line);\n            }\n        }\n    }\n    // ä¿å­˜æœ€åä¸€ä¸ªé€‰é¡¹\n    if (currentOption.length > 0) {\n        options.push(currentOption.join('\\n').trim());\n    }\n    return options;\n}\n/**\n * è§£ææ¶ˆæ¯ä¸­çš„å‰§æƒ…æ–‡æœ¬\n * ä» assistant æ¶ˆæ¯ä¸­æå– <maintext> æ ‡ç­¾å†…çš„æ–‡æœ¬\n * @param messageContent æ¶ˆæ¯å†…å®¹\n * @returns å‰§æƒ…æ–‡æœ¬\n */\nfunction parseMaintext(messageContent) {\n    const maintextMatch = messageContent.match(/<maintext>([\\s\\S]*?)<\\/maintext>/i);\n    if (!maintextMatch) {\n        return '';\n    }\n    return maintextMatch[1].trim();\n}\n/**\n * è§£ææ¶ˆæ¯ä¸­çš„æ€»ç»“\n * ä» assistant æ¶ˆæ¯ä¸­æå– <sum> æ ‡ç­¾å†…çš„æ–‡æœ¬\n * @param messageContent æ¶ˆæ¯å†…å®¹\n * @returns æ€»ç»“æ–‡æœ¬\n */\nfunction parseSum(messageContent) {\n    const sumMatch = messageContent.match(/<sum>([\\s\\S]*?)<\\/sum>/i);\n    if (!sumMatch) {\n        return '';\n    }\n    return sumMatch[1].trim();\n}\n/**\n * è§£ææ¶ˆæ¯ä¸­çš„å˜é‡æ›´æ–°\n * ä» assistant æ¶ˆæ¯ä¸­æå– <UpdateVariable> æ ‡ç­¾å†…çš„å†…å®¹\n * @param messageContent æ¶ˆæ¯å†…å®¹\n * @returns å˜é‡æ›´æ–°æ–‡æœ¬\n */\nfunction parseUpdateVariable(messageContent) {\n    const updateMatch = messageContent.match(/<UpdateVariable>([\\s\\S]*?)<\\/UpdateVariable>/i);\n    if (!updateMatch) {\n        return '';\n    }\n    return updateMatch[1].trim();\n}\n/**\n * ä»…é€šè¿‡ MVU å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°æ¥¼å±‚ï¼Œå¹¶æºå¸¦å˜é‡æ›´æ–°\n * ç”¨äºä¸æƒ³è¾“å‡ºæ–‡æœ¬ã€åªæƒ³è®©å˜é‡è½ç›˜çš„åœºæ™¯\n * @param command ä¾‹å¦‚ `_.set(\"å¥½æ„Ÿåº¦\", 100)`\n */\nasync function createMvuOnlyMessage(command) {\n    // ç¡®ä¿ Mvu å·²åˆå§‹åŒ–\n    if (typeof waitGlobalInitialized === 'function') {\n        await waitGlobalInitialized('Mvu');\n    }\n    const current = getLatestMessageData();\n    const parsed = await Mvu.parseMessage(command, current);\n    const data = parsed ?? current;\n    // åˆ›å»ºä¸€ä¸ªå†…å®¹ä¸ºç©ºæ ¼çš„ assistant æ¥¼å±‚ï¼ŒæŠŠå˜é‡é™„åœ¨ data\n    await createChatMessages([\n        {\n            role: 'assistant',\n            message: ' ', // é¿å…ç©ºå­—ç¬¦ä¸²å¯¼è‡´çš„å…¼å®¹æ€§é—®é¢˜\n            data,\n        },\n    ], { refresh: 'none' });\n    // é¢å¤–æ­¥éª¤ï¼šå°†ä¸Šä¸€æ¥¼å±‚çš„ data å†™å…¥åˆšåˆ›å»ºçš„æ–°æ¥¼å±‚\n    try {\n        const lastId = getLastMessageId();\n        if (typeof lastId === 'number' && lastId > 0) {\n            const prevData = getChatMessages(lastId - 1)?.[0]?.data ?? data;\n            if (prevData) {\n                await setChatMessages([{ message_id: lastId, data: prevData }], { refresh: 'none' });\n            }\n        }\n    }\n    catch (err) {\n        console.warn('âš ï¸ è®¾ç½®æ–°æ¥¼å±‚ data å¤±è´¥', err);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy91dGlscy9zdG9yeUludGVyYWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOzs7R0FHRztBQTBCSCxTQUFTLG9CQUFvQjtJQUMzQixJQUFJLENBQUM7UUFDSCxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsT0FBTyxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBRUQsSUFBSSxDQUFDO1FBQ0gsTUFBTSxJQUFJLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLElBQUksRUFBRSxJQUFJO1lBQUUsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ25DLENBQUM7SUFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsT0FBTyxDQUFDLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxVQUFVLEVBQUUsRUFBRSxFQUFFLENBQUM7QUFDN0QsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0ksU0FBUyxlQUFlLENBQUMsY0FBc0I7SUFDcEQsSUFBSSxDQUFDLGNBQWMsSUFBSSxPQUFPLGNBQWMsS0FBSyxRQUFRLEVBQUUsQ0FBQztRQUMxRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCw0QkFBNEI7SUFDNUIsTUFBTSxhQUFhLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDO0lBQ2hGLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDdEMsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsMEJBQTBCO0lBQzFCLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsK0JBQStCLENBQUMsQ0FBQztJQUMxRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDakIsT0FBTyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3BDLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVELHFCQUFxQjtJQUNyQixNQUFNLGVBQWUsR0FBRyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEQsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1FBQ3JCLE9BQU8sQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUNyQyxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxtQkFBbUI7SUFDbkIsTUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzVDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUNuQixPQUFPLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDbkMsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRUQ7Ozs7OztHQU1HO0FBQ0ksU0FBUyxZQUFZLENBQUMsY0FBc0I7SUFDakQsTUFBTSxXQUFXLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0lBQzFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNqQixPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFekMsd0JBQXdCO0lBQ3hCLDRCQUE0QjtJQUM1QixNQUFNLGFBQWEsR0FBRyxXQUFXLENBQUM7SUFDbEMsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQyxNQUFNLE9BQU8sR0FBYSxFQUFFLENBQUM7SUFDN0IsSUFBSSxhQUFhLEdBQWEsRUFBRSxDQUFDO0lBRWpDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDdEMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBRTdCLHdCQUF3QjtRQUN4QixJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUM3QixpQkFBaUI7WUFDakIsSUFBSSxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUM3QixPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztnQkFDOUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztZQUNyQixDQUFDO1lBQ0QsU0FBUztZQUNULGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0IsQ0FBQzthQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUMzQixnQ0FBZ0M7WUFDaEMsSUFBSSxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUM3QixhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzNCLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUVELFdBQVc7SUFDWCxJQUFJLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7UUFDN0IsT0FBTyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUM7QUFFRDs7Ozs7R0FLRztBQUNJLFNBQVMsYUFBYSxDQUFDLGNBQXNCO0lBQ2xELE1BQU0sYUFBYSxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztJQUNoRixJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDbkIsT0FBTyxFQUFFLENBQUM7SUFDWixDQUFDO0lBRUQsT0FBTyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDakMsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0ksU0FBUyxRQUFRLENBQUMsY0FBc0I7SUFDN0MsTUFBTSxRQUFRLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ2pFLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNkLE9BQU8sRUFBRSxDQUFDO0lBQ1osQ0FBQztJQUVELE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQzVCLENBQUM7QUFFRDs7Ozs7R0FLRztBQUNJLFNBQVMsbUJBQW1CLENBQUMsY0FBc0I7SUFDeEQsTUFBTSxXQUFXLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO0lBQzFGLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNqQixPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFRCxPQUFPLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMvQixDQUFDO0FBRUQ7Ozs7R0FJRztBQUNJLEtBQUssVUFBVSxvQkFBb0IsQ0FBQyxPQUFlO0lBQ3hELGNBQWM7SUFDZCxJQUFJLE9BQU8scUJBQXFCLEtBQUssVUFBVSxFQUFFLENBQUM7UUFDaEQsTUFBTSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsTUFBTSxPQUFPLEdBQUcsb0JBQW9CLEVBQUUsQ0FBQztJQUN2QyxNQUFNLE1BQU0sR0FBRyxNQUFNLEdBQUcsQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hELE1BQU0sSUFBSSxHQUFHLE1BQU0sSUFBSSxPQUFPLENBQUM7SUFFL0IscUNBQXFDO0lBQ3JDLE1BQU0sa0JBQWtCLENBQ3RCO1FBQ0U7WUFDRSxJQUFJLEVBQUUsV0FBVztZQUNqQixPQUFPLEVBQUUsR0FBRyxFQUFFLGlCQUFpQjtZQUMvQixJQUFJO1NBQ0w7S0FDRixFQUNELEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUNwQixDQUFDO0lBRUYsNkJBQTZCO0lBQzdCLElBQUksQ0FBQztRQUNILE1BQU0sTUFBTSxHQUFHLGdCQUFnQixFQUFFLENBQUM7UUFDbEMsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzdDLE1BQU0sUUFBUSxHQUFHLGVBQWUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLElBQUksSUFBSSxDQUFDO1lBQ2hFLElBQUksUUFBUSxFQUFFLENBQUM7Z0JBQ2IsTUFBTSxlQUFlLENBQUMsQ0FBQyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUN2RixDQUFDO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsT0FBTyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN4QyxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy91dGlscy9zdG9yeUludGVyYWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5ri45oiP5Ymn5oOF5Lqk5LqS566h55CG5ZmoXG4gKiDotJ/otKPlpITnkIblvIDlsYDliafmg4XliJvlu7rlkoznjqnlrrbpgInmi6nlkI7nmoTkuqTkupJcbiAqL1xuXG4vLyDlhajlsYDlh73mlbDlo7DmmI7vvIjnlLHphZLppobliqnmiYvmj5DkvpvvvIlcbmRlY2xhcmUgZnVuY3Rpb24gZ2V0Q2hhdE1lc3NhZ2VzKHJhbmdlOiBzdHJpbmcgfCBudW1iZXIpOiBBcnJheTx7IGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH0+O1xuZGVjbGFyZSBmdW5jdGlvbiBjcmVhdGVDaGF0TWVzc2FnZXMoXG4gIG1lc3NhZ2VzOiBBcnJheTx7IHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7IG1lc3NhZ2U6IHN0cmluZzsgZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT4gfT4sXG4gIG9wdGlvbnM/OiB7IHJlZnJlc2g/OiAnbm9uZScgfCAnYWZmZWN0ZWQnIHwgJ2FsbCcgfSxcbik6IFByb21pc2U8dm9pZD47XG5kZWNsYXJlIGZ1bmN0aW9uIGRlbGV0ZUNoYXRNZXNzYWdlcyhtZXNzYWdlX2lkczogbnVtYmVyW10sIG9wdGlvbnM/OiB7IHJlZnJlc2g/OiAnbm9uZScgfCAnYWxsJyB9KTogUHJvbWlzZTx2b2lkPjtcbmRlY2xhcmUgZnVuY3Rpb24gZ2V0TGFzdE1lc3NhZ2VJZCgpOiBudW1iZXI7XG5kZWNsYXJlIGZ1bmN0aW9uIHNldENoYXRNZXNzYWdlcyhcbiAgY2hhdF9tZXNzYWdlczogQXJyYXk8eyBtZXNzYWdlX2lkOiBudW1iZXI7IGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH0+LFxuICBvcHRpb25zPzogeyByZWZyZXNoPzogJ25vbmUnIHwgJ2FmZmVjdGVkJyB8ICdhbGwnIH0sXG4pOiBQcm9taXNlPHZvaWQ+O1xuZGVjbGFyZSBmdW5jdGlvbiBnZW5lcmF0ZShjb25maWc6IHsgdXNlcl9pbnB1dD86IHN0cmluZzsgc2hvdWxkX3N0cmVhbT86IGJvb2xlYW4gfSk6IFByb21pc2U8c3RyaW5nPjtcblxuLy8gTVZVIOWPmOmHj+ahhuaetuWjsOaYjlxuZGVjbGFyZSBjb25zdCBNdnU6IHtcbiAgZ2V0TXZ1RGF0YTogKG9wdGlvbnM6IHsgdHlwZTogJ21lc3NhZ2UnIHwgJ2NoYXQnIHwgJ2NoYXJhY3RlcicgfCAnZ2xvYmFsJzsgbWVzc2FnZV9pZD86IG51bWJlciB8ICdsYXRlc3QnIH0pID0+IHtcbiAgICBzdGF0X2RhdGE6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgZGlzcGxheV9kYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIGRlbHRhX2RhdGE6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIH07XG4gIHBhcnNlTWVzc2FnZTogKG1lc3NhZ2U6IHN0cmluZywgb2xkX2RhdGE6IGFueSkgPT4gUHJvbWlzZTxhbnkgfCB1bmRlZmluZWQ+O1xufTtcblxuZnVuY3Rpb24gZ2V0TGF0ZXN0TWVzc2FnZURhdGEoKTogYW55IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gTXZ1LmdldE12dURhdGEoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6ICdsYXRlc3QnIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNdnUuZ2V0TXZ1RGF0YSDlpLHotKXvvIzpgIDljJbliLDkuIrkuIDmpbwgZGF0YTonLCBlcnIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBsYXN0ID0gZ2V0Q2hhdE1lc3NhZ2VzKC0xKT8uWzBdO1xuICAgIGlmIChsYXN0Py5kYXRhKSByZXR1cm4gbGFzdC5kYXRhO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCfinYwg5peg5rOV6I635Y+W5qW85bGC5Y+Y6YeP77yM6L+U5Zue56m65a+56LGhJywgZXJyKTtcbiAgfVxuXG4gIHJldHVybiB7IHN0YXRfZGF0YToge30sIGRpc3BsYXlfZGF0YToge30sIGRlbHRhX2RhdGE6IHt9IH07XG59XG5cbi8qKlxuICog6aqM6K+B5raI5oGv5piv5ZCm56ym5ZCI6KeE6IyDXG4gKiDoh7PlsJHljIXlkKvlrozmlbTpl63lkIjnmoQgPG1haW50ZXh0PiDlkowgPG9wdGlvbj4g5qCH562+XG4gKiBAcGFyYW0gbWVzc2FnZUNvbnRlbnQg5raI5oGv5YaF5a65XG4gKiBAcmV0dXJucyDmmK/lkKbnrKblkIjop4TojINcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlTWVzc2FnZShtZXNzYWdlQ29udGVudDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGlmICghbWVzc2FnZUNvbnRlbnQgfHwgdHlwZW9mIG1lc3NhZ2VDb250ZW50ICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIOajgOafpeaYr+WQpuWMheWQq+WujOaVtOmXreWQiOeahCA8bWFpbnRleHQ+IOagh+etvlxuICBjb25zdCBtYWludGV4dE1hdGNoID0gbWVzc2FnZUNvbnRlbnQubWF0Y2goLzxtYWludGV4dD4oW1xcc1xcU10qPyk8XFwvbWFpbnRleHQ+L2kpO1xuICBpZiAoIW1haW50ZXh0TWF0Y2gpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDmtojmga/nvLrlsJEgPG1haW50ZXh0PiDmoIfnrb4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyDmo4Dmn6XmmK/lkKbljIXlkKvlrozmlbTpl63lkIjnmoQgPG9wdGlvbj4g5qCH562+XG4gIGNvbnN0IG9wdGlvbk1hdGNoID0gbWVzc2FnZUNvbnRlbnQubWF0Y2goLzxvcHRpb24+KFtcXHNcXFNdKj8pPFxcL29wdGlvbj4vaSk7XG4gIGlmICghb3B0aW9uTWF0Y2gpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDmtojmga/nvLrlsJEgPG9wdGlvbj4g5qCH562+Jyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8g5qOA5p+lIG1haW50ZXh0IOWGheWuueaYr+WQpuS4uuepulxuICBjb25zdCBtYWludGV4dENvbnRlbnQgPSBtYWludGV4dE1hdGNoWzFdLnRyaW0oKTtcbiAgaWYgKCFtYWludGV4dENvbnRlbnQpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyA8bWFpbnRleHQ+IOagh+etvuWGheWuueS4uuepuicpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIOajgOafpSBvcHRpb24g5YaF5a655piv5ZCm5Li656m6XG4gIGNvbnN0IG9wdGlvbkNvbnRlbnQgPSBvcHRpb25NYXRjaFsxXS50cmltKCk7XG4gIGlmICghb3B0aW9uQ29udGVudCkge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIDxvcHRpb24+IOagh+etvuWGheWuueS4uuepuicpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIOino+aekOa2iOaBr+S4reeahOmAiemhuVxuICog5LuOIGFzc2lzdGFudCDmtojmga/kuK3mj5Dlj5YgPG9wdGlvbj4g5qCH562+5YaF55qE6YCJ6aG5XG4gKiDmjIkgQS7jgIFCLuOAgUMuIOetieWtl+avjeW8gOWktOadpeWIhuWJsumAiemhuVxuICogQHBhcmFtIG1lc3NhZ2VDb250ZW50IOa2iOaBr+WGheWuuVxuICogQHJldHVybnMg6YCJ6aG55pWw57uEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU9wdGlvbnMobWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc3Qgb3B0aW9uTWF0Y2ggPSBtZXNzYWdlQ29udGVudC5tYXRjaCgvPG9wdGlvbj4oW1xcc1xcU10qPyk8XFwvb3B0aW9uPi9pKTtcbiAgaWYgKCFvcHRpb25NYXRjaCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvblRleHQgPSBvcHRpb25NYXRjaFsxXS50cmltKCk7XG4gIFxuICAvLyDmjIkgQS7jgIFCLuOAgUMuIOetieWtl+avjeW8gOWktOadpeWIhuWJsumAiemhuVxuICAvLyDljLnphY3mqKHlvI/vvJrlrZfmr40uIOW8gOWktO+8iOWmgiBBLuOAgUIu44CBQy4g562J77yJXG4gIGNvbnN0IG9wdGlvblBhdHRlcm4gPSAvXltBLVpdXFwuL207XG4gIGNvbnN0IGxpbmVzID0gb3B0aW9uVGV4dC5zcGxpdCgnXFxuJyk7XG4gIGNvbnN0IG9wdGlvbnM6IHN0cmluZ1tdID0gW107XG4gIGxldCBjdXJyZW50T3B0aW9uOiBzdHJpbmdbXSA9IFtdO1xuICBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGxpbmUgPSBsaW5lc1tpXS50cmltKCk7XG4gICAgXG4gICAgLy8g5aaC5p6c5b2T5YmN6KGM5Yy56YWN6YCJ6aG55qih5byP77yIQS7jgIFCLuetieW8gOWktO+8iVxuICAgIGlmIChvcHRpb25QYXR0ZXJuLnRlc3QobGluZSkpIHtcbiAgICAgIC8vIOWmguaenOS5i+WJjeacieaUtumbhueahOmAiemhue+8jOWFiOS/neWtmFxuICAgICAgaWYgKGN1cnJlbnRPcHRpb24ubGVuZ3RoID4gMCkge1xuICAgICAgICBvcHRpb25zLnB1c2goY3VycmVudE9wdGlvbi5qb2luKCdcXG4nKS50cmltKCkpO1xuICAgICAgICBjdXJyZW50T3B0aW9uID0gW107XG4gICAgICB9XG4gICAgICAvLyDlvIDlp4vmlrDnmoTpgInpoblcbiAgICAgIGN1cnJlbnRPcHRpb24ucHVzaChsaW5lKTtcbiAgICB9IGVsc2UgaWYgKGxpbmUubGVuZ3RoID4gMCkge1xuICAgICAgLy8g5aaC5p6c5b2T5YmN6KGM5LiN5Li656m677yM5LiU5LiN5piv5paw6YCJ6aG55byA5aS077yM5YiZ5bGe5LqO5b2T5YmN6YCJ6aG555qE5LiA6YOo5YiGXG4gICAgICBpZiAoY3VycmVudE9wdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGN1cnJlbnRPcHRpb24ucHVzaChsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIC8vIOS/neWtmOacgOWQjuS4gOS4qumAiemhuVxuICBpZiAoY3VycmVudE9wdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgb3B0aW9ucy5wdXNoKGN1cnJlbnRPcHRpb24uam9pbignXFxuJykudHJpbSgpKTtcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zO1xufVxuXG4vKipcbiAqIOino+aekOa2iOaBr+S4reeahOWJp+aDheaWh+acrFxuICog5LuOIGFzc2lzdGFudCDmtojmga/kuK3mj5Dlj5YgPG1haW50ZXh0PiDmoIfnrb7lhoXnmoTmlofmnKxcbiAqIEBwYXJhbSBtZXNzYWdlQ29udGVudCDmtojmga/lhoXlrrlcbiAqIEByZXR1cm5zIOWJp+aDheaWh+acrFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYWludGV4dChtZXNzYWdlQ29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgbWFpbnRleHRNYXRjaCA9IG1lc3NhZ2VDb250ZW50Lm1hdGNoKC88bWFpbnRleHQ+KFtcXHNcXFNdKj8pPFxcL21haW50ZXh0Pi9pKTtcbiAgaWYgKCFtYWludGV4dE1hdGNoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIG1haW50ZXh0TWF0Y2hbMV0udHJpbSgpO1xufVxuXG4vKipcbiAqIOino+aekOa2iOaBr+S4reeahOaAu+e7k1xuICog5LuOIGFzc2lzdGFudCDmtojmga/kuK3mj5Dlj5YgPHN1bT4g5qCH562+5YaF55qE5paH5pysXG4gKiBAcGFyYW0gbWVzc2FnZUNvbnRlbnQg5raI5oGv5YaF5a65XG4gKiBAcmV0dXJucyDmgLvnu5PmlofmnKxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3VtKG1lc3NhZ2VDb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzdW1NYXRjaCA9IG1lc3NhZ2VDb250ZW50Lm1hdGNoKC88c3VtPihbXFxzXFxTXSo/KTxcXC9zdW0+L2kpO1xuICBpZiAoIXN1bU1hdGNoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIHN1bU1hdGNoWzFdLnRyaW0oKTtcbn1cblxuLyoqXG4gKiDop6PmnpDmtojmga/kuK3nmoTlj5jph4/mm7TmlrBcbiAqIOS7jiBhc3Npc3RhbnQg5raI5oGv5Lit5o+Q5Y+WIDxVcGRhdGVWYXJpYWJsZT4g5qCH562+5YaF55qE5YaF5a65XG4gKiBAcGFyYW0gbWVzc2FnZUNvbnRlbnQg5raI5oGv5YaF5a65XG4gKiBAcmV0dXJucyDlj5jph4/mm7TmlrDmlofmnKxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXBkYXRlVmFyaWFibGUobWVzc2FnZUNvbnRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHVwZGF0ZU1hdGNoID0gbWVzc2FnZUNvbnRlbnQubWF0Y2goLzxVcGRhdGVWYXJpYWJsZT4oW1xcc1xcU10qPyk8XFwvVXBkYXRlVmFyaWFibGU+L2kpO1xuICBpZiAoIXVwZGF0ZU1hdGNoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZU1hdGNoWzFdLnRyaW0oKTtcbn1cblxuLyoqXG4gKiDku4XpgJrov4cgTVZVIOWRveS7pOWIm+W7uuS4gOS4quaWsOalvOWxgu+8jOW5tuaQuuW4puWPmOmHj+abtOaWsFxuICog55So5LqO5LiN5oOz6L6T5Ye65paH5pys44CB5Y+q5oOz6K6p5Y+Y6YeP6JC955uY55qE5Zy65pmvXG4gKiBAcGFyYW0gY29tbWFuZCDkvovlpoIgYF8uc2V0KFwi5aW95oSf5bqmXCIsIDEwMClgXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNdnVPbmx5TWVzc2FnZShjb21tYW5kOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8g56Gu5L+dIE12dSDlt7LliJ3lp4vljJZcbiAgaWYgKHR5cGVvZiB3YWl0R2xvYmFsSW5pdGlhbGl6ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBhd2FpdCB3YWl0R2xvYmFsSW5pdGlhbGl6ZWQoJ012dScpO1xuICB9XG5cbiAgY29uc3QgY3VycmVudCA9IGdldExhdGVzdE1lc3NhZ2VEYXRhKCk7XG4gIGNvbnN0IHBhcnNlZCA9IGF3YWl0IE12dS5wYXJzZU1lc3NhZ2UoY29tbWFuZCwgY3VycmVudCk7XG4gIGNvbnN0IGRhdGEgPSBwYXJzZWQgPz8gY3VycmVudDtcblxuICAvLyDliJvlu7rkuIDkuKrlhoXlrrnkuLrnqbrmoLznmoQgYXNzaXN0YW50IOalvOWxgu+8jOaKiuWPmOmHj+mZhOWcqCBkYXRhXG4gIGF3YWl0IGNyZWF0ZUNoYXRNZXNzYWdlcyhcbiAgICBbXG4gICAgICB7XG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgICBtZXNzYWdlOiAnICcsIC8vIOmBv+WFjeepuuWtl+espuS4suWvvOiHtOeahOWFvOWuueaAp+mXrumimFxuICAgICAgICBkYXRhLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHsgcmVmcmVzaDogJ25vbmUnIH0sXG4gICk7XG5cbiAgLy8g6aKd5aSW5q2l6aqk77ya5bCG5LiK5LiA5qW85bGC55qEIGRhdGEg5YaZ5YWl5Yia5Yib5bu655qE5paw5qW85bGCXG4gIHRyeSB7XG4gICAgY29uc3QgbGFzdElkID0gZ2V0TGFzdE1lc3NhZ2VJZCgpO1xuICAgIGlmICh0eXBlb2YgbGFzdElkID09PSAnbnVtYmVyJyAmJiBsYXN0SWQgPiAwKSB7XG4gICAgICBjb25zdCBwcmV2RGF0YSA9IGdldENoYXRNZXNzYWdlcyhsYXN0SWQgLSAxKT8uWzBdPy5kYXRhID8/IGRhdGE7XG4gICAgICBpZiAocHJldkRhdGEpIHtcbiAgICAgICAgYXdhaXQgc2V0Q2hhdE1lc3NhZ2VzKFt7IG1lc3NhZ2VfaWQ6IGxhc3RJZCwgZGF0YTogcHJldkRhdGEgfV0sIHsgcmVmcmVzaDogJ25vbmUnIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8g6K6+572u5paw5qW85bGCIGRhdGEg5aSx6LSlJywgZXJyKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/utils/storyInteraction.ts\n\n}");
  },
  "./src/mhjg/utils/tabManager.ts": 
  /*!**************************************!*\
  !*** ./src/mhjg/utils/tabManager.ts ***!
  \**************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getActiveTab: () => (/* binding */ getActiveTab),\n/* harmony export */   handleTabChange: () => (/* binding */ handleTabChange),\n/* harmony export */   setActiveTab: () => (/* binding */ setActiveTab),\n/* harmony export */   setTabChangeCallback: () => (/* binding */ setTabChangeCallback)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ \"./src/mhjg/types.ts\");\n/**\n * æ ‡ç­¾é¡µç®¡ç†å™¨\n * ç”¨äºé¿å…å¾ªç¯ä¾èµ–\n */\n\n// å…¨å±€çŠ¶æ€\nlet activeTab = _types__WEBPACK_IMPORTED_MODULE_0__.GameTab.DASHBOARD;\nlet handleTabChangeCallback = null;\n/**\n * è®¾ç½®æ ‡ç­¾é¡µåˆ‡æ¢å›è°ƒ\n */\nfunction setTabChangeCallback(callback) {\n    handleTabChangeCallback = callback;\n}\n/**\n * å¤„ç†æ ‡ç­¾é¡µåˆ‡æ¢\n */\nfunction handleTabChange(tab) {\n    if (handleTabChangeCallback) {\n        handleTabChangeCallback(tab);\n    }\n    else {\n        console.warn('âš ï¸ handleTabChangeCallback æœªè®¾ç½®');\n    }\n}\n/**\n * è®¾ç½®å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ\n */\nfunction setActiveTab(tab) {\n    activeTab = tab;\n}\n/**\n * è·å–å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ\n */\nfunction getActiveTab() {\n    return activeTab;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy91dGlscy90YWJNYW5hZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7OztHQUdHO0FBRWdDO0FBRW5DLE9BQU87QUFDUCxJQUFJLFNBQVMsR0FBWSwyQ0FBTyxDQUFDLFNBQVMsQ0FBQztBQUMzQyxJQUFJLHVCQUF1QixHQUFvQyxJQUFJLENBQUM7QUFFcEU7O0dBRUc7QUFDSSxTQUFTLG9CQUFvQixDQUFDLFFBQWdDO0lBQ25FLHVCQUF1QixHQUFHLFFBQVEsQ0FBQztBQUNyQyxDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLGVBQWUsQ0FBQyxHQUFZO0lBQzFDLElBQUksdUJBQXVCLEVBQUUsQ0FBQztRQUM1Qix1QkFBdUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQixDQUFDO1NBQU0sQ0FBQztRQUNOLE9BQU8sQ0FBQyxJQUFJLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztJQUNqRCxDQUFDO0FBQ0gsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxZQUFZLENBQUMsR0FBWTtJQUN2QyxTQUFTLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLENBQUM7QUFFRDs7R0FFRztBQUNJLFNBQVMsWUFBWTtJQUMxQixPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL3V0aWxzL3RhYk1hbmFnZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOagh+etvumhteeuoeeQhuWZqFxyXG4gKiDnlKjkuo7pgb/lhY3lvqrnjq/kvp3otZZcclxuICovXHJcblxyXG5pbXBvcnQgeyBHYW1lVGFiIH0gZnJvbSAnLi4vdHlwZXMnO1xyXG5cclxuLy8g5YWo5bGA54q25oCBXHJcbmxldCBhY3RpdmVUYWI6IEdhbWVUYWIgPSBHYW1lVGFiLkRBU0hCT0FSRDtcclxubGV0IGhhbmRsZVRhYkNoYW5nZUNhbGxiYWNrOiAoKHRhYjogR2FtZVRhYikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcclxuXHJcbi8qKlxyXG4gKiDorr7nva7moIfnrb7pobXliIfmjaLlm57osINcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRUYWJDaGFuZ2VDYWxsYmFjayhjYWxsYmFjazogKHRhYjogR2FtZVRhYikgPT4gdm9pZCk6IHZvaWQge1xyXG4gIGhhbmRsZVRhYkNoYW5nZUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlpITnkIbmoIfnrb7pobXliIfmjaJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVUYWJDaGFuZ2UodGFiOiBHYW1lVGFiKTogdm9pZCB7XHJcbiAgaWYgKGhhbmRsZVRhYkNoYW5nZUNhbGxiYWNrKSB7XHJcbiAgICBoYW5kbGVUYWJDaGFuZ2VDYWxsYmFjayh0YWIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBoYW5kbGVUYWJDaGFuZ2VDYWxsYmFjayDmnKrorr7nva4nKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDorr7nva7lvZPliY3mtLvliqjmoIfnrb7pobVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRBY3RpdmVUYWIodGFiOiBHYW1lVGFiKTogdm9pZCB7XHJcbiAgYWN0aXZlVGFiID0gdGFiO1xyXG59XHJcblxyXG4vKipcclxuICog6I635Y+W5b2T5YmN5rS75Yqo5qCH562+6aG1XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlVGFiKCk6IEdhbWVUYWIge1xyXG4gIHJldHVybiBhY3RpdmVUYWI7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/mhjg/utils/tabManager.ts\n\n}");
  },
  "./src/mhjg/utils/textParser.ts": 
  /*!**************************************!*\
  !*** ./src/mhjg/utils/textParser.ts ***!
  \**************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   parseRichText: () => (/* binding */ parseRichText)\n/* harmony export */ });\n/**\n * æ–‡æœ¬è§£æå·¥å…· - æ”¯æŒç®€å•çš„å¯Œæ–‡æœ¬æ ¼å¼\n * æ”¯æŒä¸åŒçš„æ ‡ç‚¹ç¬¦å·åŒ…è£¹çš„æ–‡å­—ä¼šæœ‰ä¸åŒçš„å­—ä½“å˜è‰²\n */\n/**\n * è§£æå¯Œæ–‡æœ¬ï¼Œæ”¯æŒå¤šç§æ ‡ç‚¹ç¬¦å·åŒ…è£¹çš„æ–‡å­—å˜è‰²ï¼š\n * - **æ–‡æœ¬** -> åŠ ç²—/é«˜äº®ï¼ˆé‡‘è‰²ï¼‰\n * - *æ–‡æœ¬* -> å¼ºè°ƒï¼ˆæ©™è‰²ï¼‰\n * - _æ–‡æœ¬_ -> ä¸‹åˆ’çº¿å¼ºè°ƒï¼ˆé’è‰²ï¼‰\n * - ~æ–‡æœ¬~ -> åˆ é™¤çº¿ï¼ˆç°è‰²ï¼‰\n * - #æ–‡æœ¬# -> æ ‡é¢˜/ç‰¹æ®Šï¼ˆç´«è‰²ï¼‰\n * - ã€æ–‡æœ¬ã€‘ -> ç‰¹æ®Šæ ‡è®°ï¼ˆç´«è‰²ï¼Œä¸ #æ–‡æœ¬# ç›¸åŒï¼‰\n * - [æ–‡æœ¬] -> æ³¨é‡Š/è¯´æ˜ï¼ˆè“è‰²ï¼‰\n * - (æ–‡æœ¬) -> æ‹¬å·å†…å®¹ï¼ˆç»¿è‰²ï¼‰\n * - ã€Œæ–‡æœ¬ã€ -> å¼•å·å†…å®¹ï¼ˆç²‰è‰²ï¼‰\n * - \"æ–‡æœ¬\" æˆ– \"æ–‡æœ¬\" æˆ– \"æ–‡æœ¬\" -> åŒå¼•å·å¼•ç”¨æ ·å¼ï¼ˆç´«è‰²ï¼‰\n * - 'æ–‡æœ¬' æˆ– 'æ–‡æœ¬' æˆ– 'æ–‡æœ¬' -> å•å¼•å·å¼•ç”¨ï¼ˆæµ…è“è‰²ï¼‰\n * - ã€æ–‡æœ¬ã€ -> åŒä¹¦åå·ï¼ˆç²‰è‰²ï¼Œä¸ã€Œæ–‡æœ¬ã€ç›¸åŒï¼‰\n * - ã€Šæ–‡æœ¬ã€‹ -> ä¹¦åå·ï¼ˆå¯æ·»åŠ æ–°æ ·å¼ï¼‰\n * - \\n -> æ¢è¡Œ\n *\n * æ”¯æŒåµŒå¥—æ ‡è®°ï¼Œå¦‚ **ã€æ–‡æœ¬ã€‘** ä¼šç”ŸæˆåµŒå¥—çš„ span æ ‡ç­¾\n */\nfunction parseRichText(text) {\n    if (!text)\n        return '';\n    // ä½¿ç”¨é€’å½’è§£æåµŒå¥—æ ‡è®°\n    return parseNestedRichText(text);\n}\n/**\n * é€’å½’è§£æåµŒå¥—çš„å¯Œæ–‡æœ¬æ ‡è®°\n * å‚è€ƒ zhutiangame1 çš„å®ç°æ–¹å¼ï¼Œä½¿ç”¨å­—ç¬¦çº§è§£æç¡®ä¿åµŒå¥—æ ‡è®°æ­£ç¡®å¤„ç†\n */\nfunction parseNestedRichText(text) {\n    if (!text)\n        return '';\n    const result = [];\n    let i = 0;\n    while (i < text.length) {\n        const remaining = text.substring(i);\n        let matched = false;\n        // 1. å¤„ç† **æ–‡æœ¬** åŠ ç²—/é«˜äº®ï¼ˆé‡‘è‰²ï¼‰- ä¼˜å…ˆå¤„ç†ï¼Œé¿å…ä¸ * å†²çª\n        if (remaining.startsWith('**')) {\n            const end = remaining.indexOf('**', 2);\n            if (end > 0) {\n                const content = remaining.substring(2, end);\n                const parsedContent = parseNestedRichText(content); // é€’å½’è§£æåµŒå¥—å†…å®¹\n                result.push(`<span class=\"text-highlight\">${parsedContent}</span>`);\n                i += end + 2;\n                matched = true;\n            }\n        }\n        // 2. å¤„ç† *æ–‡æœ¬* å¼ºè°ƒï¼ˆæ©™è‰²ï¼‰- ç¡®ä¿ä¸ä¼šåŒ¹é… **\n        if (!matched && remaining.startsWith('*') && !remaining.startsWith('**')) {\n            const end = remaining.indexOf('*', 1);\n            if (end > 0 && (end >= remaining.length - 1 || remaining[end + 1] !== '*')) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content); // é€’å½’è§£æåµŒå¥—å†…å®¹\n                result.push(`<span class=\"text-emphasis\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 3. å¤„ç† _æ–‡æœ¬_ ä¸‹åˆ’çº¿å¼ºè°ƒï¼ˆé’è‰²ï¼‰\n        if (!matched && remaining.startsWith('_')) {\n            const end = remaining.indexOf('_', 1);\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-underline\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 4. å¤„ç† ~æ–‡æœ¬~ åˆ é™¤çº¿ï¼ˆç°è‰²ï¼‰\n        if (!matched && remaining.startsWith('~')) {\n            const end = remaining.indexOf('~', 1);\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-strikethrough\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 5. å¤„ç† #æ–‡æœ¬# æ ‡é¢˜/ç‰¹æ®Šï¼ˆç´«è‰²ï¼‰\n        if (!matched && remaining.startsWith('#')) {\n            const end = remaining.indexOf('#', 1);\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-special\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 6. å¤„ç† ã€æ–‡æœ¬ã€‘ ç‰¹æ®Šæ ‡è®°ï¼ˆç´«è‰²ï¼Œä¸ #æ–‡æœ¬# ç›¸åŒï¼‰\n        if (!matched && remaining.startsWith('ã€')) {\n            const end = remaining.indexOf('ã€‘');\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-special\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 7. å¤„ç† [æ–‡æœ¬] æ³¨é‡Š/è¯´æ˜ï¼ˆè“è‰²ï¼‰\n        if (!matched && remaining.startsWith('[')) {\n            const end = remaining.indexOf(']');\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-note\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 8. å¤„ç† (æ–‡æœ¬) æ‹¬å·å†…å®¹ï¼ˆç»¿è‰²ï¼‰\n        if (!matched && remaining.startsWith('(')) {\n            const end = remaining.indexOf(')');\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-bracket\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 9. å¤„ç† ã€Œæ–‡æœ¬ã€ å¼•å·å†…å®¹ï¼ˆç²‰è‰²ï¼‰\n        if (!matched && remaining.startsWith('ã€Œ')) {\n            const end = remaining.indexOf('ã€');\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-quote-cn\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 9.5. å¤„ç† ã€æ–‡æœ¬ã€ åŒä¹¦åå·ï¼ˆç²‰è‰²ï¼Œä¸ã€Œæ–‡æœ¬ã€ç›¸åŒï¼‰\n        if (!matched && remaining.startsWith('ã€')) {\n            const end = remaining.indexOf('ã€');\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-quote-cn\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 9.6. å¤„ç† ã€Šæ–‡æœ¬ã€‹ ä¹¦åå·ï¼ˆç´«è‰²ï¼Œä¸ç‰¹æ®Šæ ‡è®°ç›¸åŒï¼‰\n        if (!matched && remaining.startsWith('ã€Š')) {\n            const end = remaining.indexOf('ã€‹');\n            if (end > 0) {\n                const content = remaining.substring(1, end);\n                const parsedContent = parseNestedRichText(content);\n                result.push(`<span class=\"text-special\">${parsedContent}</span>`);\n                i += end + 1;\n                matched = true;\n            }\n        }\n        // 10. å¤„ç†åŒå¼•å·åŒ…è£¹çš„æ–‡æœ¬ï¼ˆå¼•ç”¨æ ·å¼ï¼Œç´«è‰²ï¼‰\n        // åŒ¹é…ä¸­æ–‡åŒå¼•å· \"...\" å’Œ \"...\" æˆ–è‹±æ–‡åŒå¼•å· \"...\"\n        if (!matched) {\n            // ä¸­æ–‡å·¦åŒå¼•å· \" (U+201C)\n            if (remaining.startsWith('\\u201C')) {\n                const end = remaining.indexOf('\\u201D', 1);\n                if (end > 0) {\n                    const content = remaining.substring(1, end);\n                    const parsedContent = parseNestedRichText(content);\n                    result.push(`<span class=\"text-quote\">${parsedContent}</span>`);\n                    i += end + 1;\n                    matched = true;\n                }\n            }\n            // ä¸­æ–‡å³åŒå¼•å· \" (U+201D)ï¼ˆä½œä¸ºå¼€å§‹å¼•å·ï¼‰\n            else if (remaining.startsWith('\\u201D')) {\n                const end = remaining.indexOf('\\u201C', 1);\n                if (end > 0) {\n                    const content = remaining.substring(1, end);\n                    const parsedContent = parseNestedRichText(content);\n                    result.push(`<span class=\"text-quote\">${parsedContent}</span>`);\n                    i += end + 1;\n                    matched = true;\n                }\n            }\n            // è‹±æ–‡åŒå¼•å· \"\n            else if (remaining.startsWith('\"')) {\n                const end = remaining.indexOf('\"', 1);\n                if (end > 0) {\n                    const content = remaining.substring(1, end);\n                    const parsedContent = parseNestedRichText(content);\n                    result.push(`<span class=\"text-quote\">${parsedContent}</span>`);\n                    i += end + 1;\n                    matched = true;\n                }\n            }\n        }\n        // 11. å¤„ç†å•å¼•å·å¼•ç”¨ï¼ˆæµ…è“è‰²ï¼‰\n        // åŒ¹é…ä¸­æ–‡å•å¼•å· '...' å’Œ '...' æˆ–è‹±æ–‡å•å¼•å· '...'\n        if (!matched) {\n            // ä¸­æ–‡å·¦å•å¼•å· ' (U+2018)\n            if (remaining.startsWith('\\u2018')) {\n                const end = remaining.indexOf('\\u2019', 1);\n                if (end > 0) {\n                    const content = remaining.substring(1, end);\n                    const parsedContent = parseNestedRichText(content);\n                    result.push(`<span class=\"text-quote-single\">${parsedContent}</span>`);\n                    i += end + 1;\n                    matched = true;\n                }\n            }\n            // ä¸­æ–‡å³å•å¼•å· ' (U+2019)ï¼ˆä½œä¸ºå¼€å§‹å¼•å·ï¼‰\n            else if (remaining.startsWith('\\u2019')) {\n                const end = remaining.indexOf('\\u2018', 1);\n                if (end > 0) {\n                    const content = remaining.substring(1, end);\n                    const parsedContent = parseNestedRichText(content);\n                    result.push(`<span class=\"text-quote-single\">${parsedContent}</span>`);\n                    i += end + 1;\n                    matched = true;\n                }\n            }\n            // è‹±æ–‡å•å¼•å· '\n            else if (remaining.startsWith(\"'\")) {\n                const end = remaining.indexOf(\"'\", 1);\n                if (end > 0) {\n                    const content = remaining.substring(1, end);\n                    const parsedContent = parseNestedRichText(content);\n                    result.push(`<span class=\"text-quote-single\">${parsedContent}</span>`);\n                    i += end + 1;\n                    matched = true;\n                }\n            }\n        }\n        // 12. å¤„ç†æ¢è¡Œç¬¦\n        if (!matched && remaining.startsWith('\\n')) {\n            result.push('<br>');\n            i += 1;\n            matched = true;\n        }\n        // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•æ ‡è®°ï¼Œæ·»åŠ æ™®é€šå­—ç¬¦\n        if (!matched) {\n            // HTML è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦\n            const char = text[i];\n            if (char === '<') {\n                result.push('&lt;');\n            }\n            else if (char === '>') {\n                result.push('&gt;');\n            }\n            else if (char === '&') {\n                result.push('&amp;');\n            }\n            else {\n                result.push(char);\n            }\n            i++;\n        }\n    }\n    return result.join('');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy91dGlscy90ZXh0UGFyc2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0dBR0c7QUFFSDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBa0JHO0FBQ0ksU0FBUyxhQUFhLENBQUMsSUFBWTtJQUN4QyxJQUFJLENBQUMsSUFBSTtRQUFFLE9BQU8sRUFBRSxDQUFDO0lBRXJCLGFBQWE7SUFDYixPQUFPLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFTLG1CQUFtQixDQUFDLElBQVk7SUFDdkMsSUFBSSxDQUFDLElBQUk7UUFBRSxPQUFPLEVBQUUsQ0FBQztJQUVyQixNQUFNLE1BQU0sR0FBYSxFQUFFLENBQUM7SUFDNUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRVYsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3ZCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEMsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBRXBCLHdDQUF3QztRQUN4QyxJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUMvQixNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN2QyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDWixNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDNUMsTUFBTSxhQUFhLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxXQUFXO2dCQUMvRCxNQUFNLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNwRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsK0JBQStCO1FBQy9CLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUN6RSxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0QyxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksU0FBUyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUMzRSxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDNUMsTUFBTSxhQUFhLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxXQUFXO2dCQUMvRCxNQUFNLENBQUMsSUFBSSxDQUFDLCtCQUErQixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNuRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ3RDLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUNaLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QyxNQUFNLGFBQWEsR0FBRyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkQsTUFBTSxDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsYUFBYSxTQUFTLENBQUMsQ0FBQztnQkFDcEUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQ2IsT0FBTyxHQUFHLElBQUksQ0FBQztZQUNqQixDQUFDO1FBQ0gsQ0FBQztRQUVELHFCQUFxQjtRQUNyQixJQUFJLENBQUMsT0FBTyxJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUMxQyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0QyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDWixNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDNUMsTUFBTSxhQUFhLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ25ELE1BQU0sQ0FBQyxJQUFJLENBQUMsb0NBQW9DLGFBQWEsU0FBUyxDQUFDLENBQUM7Z0JBQ3hFLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO2dCQUNiLE9BQU8sR0FBRyxJQUFJLENBQUM7WUFDakIsQ0FBQztRQUNILENBQUM7UUFFRCx1QkFBdUI7UUFDdkIsSUFBSSxDQUFDLE9BQU8sSUFBSSxTQUFTLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDMUMsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLDhCQUE4QixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNsRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLDhCQUE4QixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNsRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLDJCQUEyQixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUMvRCxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsc0JBQXNCO1FBQ3RCLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLDhCQUE4QixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNsRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsc0JBQXNCO1FBQ3RCLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLCtCQUErQixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNuRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLCtCQUErQixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNuRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsK0JBQStCO1FBQy9CLElBQUksQ0FBQyxPQUFPLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzFDLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLDhCQUE4QixhQUFhLFNBQVMsQ0FBQyxDQUFDO2dCQUNsRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztnQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2pCLENBQUM7UUFDSCxDQUFDO1FBRUQsMEJBQTBCO1FBQzFCLHFDQUFxQztRQUNyQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDYixvQkFBb0I7WUFDcEIsSUFBSSxTQUFTLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUM7Z0JBQ25DLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMzQyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDWixNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDNUMsTUFBTSxhQUFhLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ25ELE1BQU0sQ0FBQyxJQUFJLENBQUMsNEJBQTRCLGFBQWEsU0FBUyxDQUFDLENBQUM7b0JBQ2hFLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUNiLE9BQU8sR0FBRyxJQUFJLENBQUM7Z0JBQ2pCLENBQUM7WUFDSCxDQUFDO1lBQ0QsNEJBQTRCO2lCQUN2QixJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztnQkFDeEMsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUNaLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUM1QyxNQUFNLGFBQWEsR0FBRyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDbkQsTUFBTSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsYUFBYSxTQUFTLENBQUMsQ0FBQztvQkFDaEUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7b0JBQ2IsT0FBTyxHQUFHLElBQUksQ0FBQztnQkFDakIsQ0FBQztZQUNILENBQUM7WUFDRCxVQUFVO2lCQUNMLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUNuQyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDdEMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLDRCQUE0QixhQUFhLFNBQVMsQ0FBQyxDQUFDO29CQUNoRSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztvQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO2dCQUNqQixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7UUFFRCxtQkFBbUI7UUFDbkIscUNBQXFDO1FBQ3JDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNiLG9CQUFvQjtZQUNwQixJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztnQkFDbkMsTUFBTSxHQUFHLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQzNDLElBQUksR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUNaLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO29CQUM1QyxNQUFNLGFBQWEsR0FBRyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDbkQsTUFBTSxDQUFDLElBQUksQ0FBQyxtQ0FBbUMsYUFBYSxTQUFTLENBQUMsQ0FBQztvQkFDdkUsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7b0JBQ2IsT0FBTyxHQUFHLElBQUksQ0FBQztnQkFDakIsQ0FBQztZQUNILENBQUM7WUFDRCw0QkFBNEI7aUJBQ3ZCLElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO2dCQUN4QyxNQUFNLEdBQUcsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDM0MsSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUM7b0JBQ1osTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQzVDLE1BQU0sYUFBYSxHQUFHLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUNuRCxNQUFNLENBQUMsSUFBSSxDQUFDLG1DQUFtQyxhQUFhLFNBQVMsQ0FBQyxDQUFDO29CQUN2RSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztvQkFDYixPQUFPLEdBQUcsSUFBSSxDQUFDO2dCQUNqQixDQUFDO1lBQ0gsQ0FBQztZQUNELFVBQVU7aUJBQ0wsSUFBSSxTQUFTLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7Z0JBQ25DLE1BQU0sR0FBRyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztvQkFDWixNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDNUMsTUFBTSxhQUFhLEdBQUcsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ25ELE1BQU0sQ0FBQyxJQUFJLENBQUMsbUNBQW1DLGFBQWEsU0FBUyxDQUFDLENBQUM7b0JBQ3ZFLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO29CQUNiLE9BQU8sR0FBRyxJQUFJLENBQUM7Z0JBQ2pCLENBQUM7WUFDSCxDQUFDO1FBQ0gsQ0FBQztRQUVELFlBQVk7UUFDWixJQUFJLENBQUMsT0FBTyxJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztZQUMzQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDUCxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLENBQUM7UUFFRCxxQkFBcUI7UUFDckIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2IsY0FBYztZQUNkLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQixJQUFJLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztnQkFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN0QixDQUFDO2lCQUFNLElBQUksSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO2dCQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3RCLENBQUM7aUJBQU0sSUFBSSxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7Z0JBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdkIsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEIsQ0FBQztZQUNELENBQUMsRUFBRSxDQUFDO1FBQ04sQ0FBQztJQUNILENBQUM7SUFFRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy91dGlscy90ZXh0UGFyc2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5paH5pys6Kej5p6Q5bel5YW3IC0g5pSv5oyB566A5Y2V55qE5a+M5paH5pys5qC85byPXG4gKiDmlK/mjIHkuI3lkIznmoTmoIfngrnnrKblj7fljIXoo7nnmoTmloflrZfkvJrmnInkuI3lkIznmoTlrZfkvZPlj5joibJcbiAqL1xuXG4vKipcbiAqIOino+aekOWvjOaWh+acrO+8jOaUr+aMgeWkmuenjeagh+eCueespuWPt+WMheijueeahOaWh+Wtl+WPmOiJsu+8mlxuICogLSAqKuaWh+acrCoqIC0+IOWKoOeyly/pq5jkuq7vvIjph5HoibLvvIlcbiAqIC0gKuaWh+acrCogLT4g5by66LCD77yI5qmZ6Imy77yJXG4gKiAtIF/mlofmnKxfIC0+IOS4i+WIkue6v+W8uuiwg++8iOmdkuiJsu+8iVxuICogLSB+5paH5pysfiAtPiDliKDpmaTnur/vvIjngbDoibLvvIlcbiAqIC0gI+aWh+acrCMgLT4g5qCH6aKYL+eJueauiu+8iOe0q+iJsu+8iVxuICogLSDjgJDmlofmnKzjgJEgLT4g54m55q6K5qCH6K6w77yI57Sr6Imy77yM5LiOICPmlofmnKwjIOebuOWQjO+8iVxuICogLSBb5paH5pysXSAtPiDms6jph4ov6K+05piO77yI6JOd6Imy77yJXG4gKiAtICjmlofmnKwpIC0+IOaLrOWPt+WGheWuue+8iOe7v+iJsu+8iVxuICogLSDjgIzmlofmnKzjgI0gLT4g5byV5Y+35YaF5a6577yI57KJ6Imy77yJXG4gKiAtIFwi5paH5pysXCIg5oiWIFwi5paH5pysXCIg5oiWIFwi5paH5pysXCIgLT4g5Y+M5byV5Y+35byV55So5qC35byP77yI57Sr6Imy77yJXG4gKiAtICfmlofmnKwnIOaIliAn5paH5pysJyDmiJYgJ+aWh+acrCcgLT4g5Y2V5byV5Y+35byV55So77yI5rWF6JOd6Imy77yJXG4gKiAtIOOAjuaWh+acrOOAjyAtPiDlj4zkuablkI3lj7fvvIjnsonoibLvvIzkuI7jgIzmlofmnKzjgI3nm7jlkIzvvIlcbiAqIC0g44CK5paH5pys44CLIC0+IOS5puWQjeWPt++8iOWPr+a3u+WKoOaWsOagt+W8j++8iVxuICogLSBcXG4gLT4g5o2i6KGMXG4gKiBcbiAqIOaUr+aMgeW1jOWll+agh+iusO+8jOWmgiAqKuOAkOaWh+acrOOAkSoqIOS8mueUn+aIkOW1jOWll+eahCBzcGFuIOagh+etvlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSaWNoVGV4dCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXRleHQpIHJldHVybiAnJztcblxuICAvLyDkvb/nlKjpgJLlvZLop6PmnpDltYzlpZfmoIforrBcbiAgcmV0dXJuIHBhcnNlTmVzdGVkUmljaFRleHQodGV4dCk7XG59XG5cbi8qKlxuICog6YCS5b2S6Kej5p6Q5bWM5aWX55qE5a+M5paH5pys5qCH6K6wXG4gKiDlj4LogIMgemh1dGlhbmdhbWUxIOeahOWunueOsOaWueW8j++8jOS9v+eUqOWtl+espue6p+ino+aekOehruS/neW1jOWll+agh+iusOato+ehruWkhOeQhlxuICovXG5mdW5jdGlvbiBwYXJzZU5lc3RlZFJpY2hUZXh0KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghdGV4dCkgcmV0dXJuICcnO1xuXG4gIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXTtcbiAgbGV0IGkgPSAwO1xuXG4gIHdoaWxlIChpIDwgdGV4dC5sZW5ndGgpIHtcbiAgICBjb25zdCByZW1haW5pbmcgPSB0ZXh0LnN1YnN0cmluZyhpKTtcbiAgICBsZXQgbWF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgLy8gMS4g5aSE55CGICoq5paH5pysKiog5Yqg57KXL+mrmOS6ru+8iOmHkeiJsu+8iS0g5LyY5YWI5aSE55CG77yM6YG/5YWN5LiOICog5Yay56qBXG4gICAgaWYgKHJlbWFpbmluZy5zdGFydHNXaXRoKCcqKicpKSB7XG4gICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZignKionLCAyKTtcbiAgICAgIGlmIChlbmQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZW1haW5pbmcuc3Vic3RyaW5nKDIsIGVuZCk7XG4gICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBwYXJzZU5lc3RlZFJpY2hUZXh0KGNvbnRlbnQpOyAvLyDpgJLlvZLop6PmnpDltYzlpZflhoXlrrlcbiAgICAgICAgcmVzdWx0LnB1c2goYDxzcGFuIGNsYXNzPVwidGV4dC1oaWdobGlnaHRcIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICBpICs9IGVuZCArIDI7XG4gICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDIuIOWkhOeQhiAq5paH5pysKiDlvLrosIPvvIjmqZnoibLvvIktIOehruS/neS4jeS8muWMuemFjSAqKlxuICAgIGlmICghbWF0Y2hlZCAmJiByZW1haW5pbmcuc3RhcnRzV2l0aCgnKicpICYmICFyZW1haW5pbmcuc3RhcnRzV2l0aCgnKionKSkge1xuICAgICAgY29uc3QgZW5kID0gcmVtYWluaW5nLmluZGV4T2YoJyonLCAxKTtcbiAgICAgIGlmIChlbmQgPiAwICYmIChlbmQgPj0gcmVtYWluaW5nLmxlbmd0aCAtIDEgfHwgcmVtYWluaW5nW2VuZCArIDFdICE9PSAnKicpKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZW1haW5pbmcuc3Vic3RyaW5nKDEsIGVuZCk7XG4gICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBwYXJzZU5lc3RlZFJpY2hUZXh0KGNvbnRlbnQpOyAvLyDpgJLlvZLop6PmnpDltYzlpZflhoXlrrlcbiAgICAgICAgcmVzdWx0LnB1c2goYDxzcGFuIGNsYXNzPVwidGV4dC1lbXBoYXNpc1wiPiR7cGFyc2VkQ29udGVudH08L3NwYW4+YCk7XG4gICAgICAgIGkgKz0gZW5kICsgMTtcbiAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMy4g5aSE55CGIF/mlofmnKxfIOS4i+WIkue6v+W8uuiwg++8iOmdkuiJsu+8iVxuICAgIGlmICghbWF0Y2hlZCAmJiByZW1haW5pbmcuc3RhcnRzV2l0aCgnXycpKSB7XG4gICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZignXycsIDEpO1xuICAgICAgaWYgKGVuZCA+IDApIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHJlbWFpbmluZy5zdWJzdHJpbmcoMSwgZW5kKTtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29udGVudCA9IHBhcnNlTmVzdGVkUmljaFRleHQoY29udGVudCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKGA8c3BhbiBjbGFzcz1cInRleHQtdW5kZXJsaW5lXCI+JHtwYXJzZWRDb250ZW50fTwvc3Bhbj5gKTtcbiAgICAgICAgaSArPSBlbmQgKyAxO1xuICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA0LiDlpITnkIYgfuaWh+acrH4g5Yig6Zmk57q/77yI54Gw6Imy77yJXG4gICAgaWYgKCFtYXRjaGVkICYmIHJlbWFpbmluZy5zdGFydHNXaXRoKCd+JykpIHtcbiAgICAgIGNvbnN0IGVuZCA9IHJlbWFpbmluZy5pbmRleE9mKCd+JywgMSk7XG4gICAgICBpZiAoZW5kID4gMCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gcmVtYWluaW5nLnN1YnN0cmluZygxLCBlbmQpO1xuICAgICAgICBjb25zdCBwYXJzZWRDb250ZW50ID0gcGFyc2VOZXN0ZWRSaWNoVGV4dChjb250ZW50KTtcbiAgICAgICAgcmVzdWx0LnB1c2goYDxzcGFuIGNsYXNzPVwidGV4dC1zdHJpa2V0aHJvdWdoXCI+JHtwYXJzZWRDb250ZW50fTwvc3Bhbj5gKTtcbiAgICAgICAgaSArPSBlbmQgKyAxO1xuICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA1LiDlpITnkIYgI+aWh+acrCMg5qCH6aKYL+eJueauiu+8iOe0q+iJsu+8iVxuICAgIGlmICghbWF0Y2hlZCAmJiByZW1haW5pbmcuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZignIycsIDEpO1xuICAgICAgaWYgKGVuZCA+IDApIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHJlbWFpbmluZy5zdWJzdHJpbmcoMSwgZW5kKTtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29udGVudCA9IHBhcnNlTmVzdGVkUmljaFRleHQoY29udGVudCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKGA8c3BhbiBjbGFzcz1cInRleHQtc3BlY2lhbFwiPiR7cGFyc2VkQ29udGVudH08L3NwYW4+YCk7XG4gICAgICAgIGkgKz0gZW5kICsgMTtcbiAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gNi4g5aSE55CGIOOAkOaWh+acrOOAkSDnibnmrormoIforrDvvIjntKvoibLvvIzkuI4gI+aWh+acrCMg55u45ZCM77yJXG4gICAgaWYgKCFtYXRjaGVkICYmIHJlbWFpbmluZy5zdGFydHNXaXRoKCfjgJAnKSkge1xuICAgICAgY29uc3QgZW5kID0gcmVtYWluaW5nLmluZGV4T2YoJ+OAkScpO1xuICAgICAgaWYgKGVuZCA+IDApIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHJlbWFpbmluZy5zdWJzdHJpbmcoMSwgZW5kKTtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29udGVudCA9IHBhcnNlTmVzdGVkUmljaFRleHQoY29udGVudCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKGA8c3BhbiBjbGFzcz1cInRleHQtc3BlY2lhbFwiPiR7cGFyc2VkQ29udGVudH08L3NwYW4+YCk7XG4gICAgICAgIGkgKz0gZW5kICsgMTtcbiAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gNy4g5aSE55CGIFvmlofmnKxdIOazqOmHii/or7TmmI7vvIjok53oibLvvIlcbiAgICBpZiAoIW1hdGNoZWQgJiYgcmVtYWluaW5nLnN0YXJ0c1dpdGgoJ1snKSkge1xuICAgICAgY29uc3QgZW5kID0gcmVtYWluaW5nLmluZGV4T2YoJ10nKTtcbiAgICAgIGlmIChlbmQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZW1haW5pbmcuc3Vic3RyaW5nKDEsIGVuZCk7XG4gICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBwYXJzZU5lc3RlZFJpY2hUZXh0KGNvbnRlbnQpO1xuICAgICAgICByZXN1bHQucHVzaChgPHNwYW4gY2xhc3M9XCJ0ZXh0LW5vdGVcIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICBpICs9IGVuZCArIDE7XG4gICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDguIOWkhOeQhiAo5paH5pysKSDmi6zlj7flhoXlrrnvvIjnu7/oibLvvIlcbiAgICBpZiAoIW1hdGNoZWQgJiYgcmVtYWluaW5nLnN0YXJ0c1dpdGgoJygnKSkge1xuICAgICAgY29uc3QgZW5kID0gcmVtYWluaW5nLmluZGV4T2YoJyknKTtcbiAgICAgIGlmIChlbmQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZW1haW5pbmcuc3Vic3RyaW5nKDEsIGVuZCk7XG4gICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBwYXJzZU5lc3RlZFJpY2hUZXh0KGNvbnRlbnQpO1xuICAgICAgICByZXN1bHQucHVzaChgPHNwYW4gY2xhc3M9XCJ0ZXh0LWJyYWNrZXRcIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICBpICs9IGVuZCArIDE7XG4gICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDkuIOWkhOeQhiDjgIzmlofmnKzjgI0g5byV5Y+35YaF5a6577yI57KJ6Imy77yJXG4gICAgaWYgKCFtYXRjaGVkICYmIHJlbWFpbmluZy5zdGFydHNXaXRoKCfjgIwnKSkge1xuICAgICAgY29uc3QgZW5kID0gcmVtYWluaW5nLmluZGV4T2YoJ+OAjScpO1xuICAgICAgaWYgKGVuZCA+IDApIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IHJlbWFpbmluZy5zdWJzdHJpbmcoMSwgZW5kKTtcbiAgICAgICAgY29uc3QgcGFyc2VkQ29udGVudCA9IHBhcnNlTmVzdGVkUmljaFRleHQoY29udGVudCk7XG4gICAgICAgIHJlc3VsdC5wdXNoKGA8c3BhbiBjbGFzcz1cInRleHQtcXVvdGUtY25cIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICBpICs9IGVuZCArIDE7XG4gICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDkuNS4g5aSE55CGIOOAjuaWh+acrOOAjyDlj4zkuablkI3lj7fvvIjnsonoibLvvIzkuI7jgIzmlofmnKzjgI3nm7jlkIzvvIlcbiAgICBpZiAoIW1hdGNoZWQgJiYgcmVtYWluaW5nLnN0YXJ0c1dpdGgoJ+OAjicpKSB7XG4gICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZign44CPJyk7XG4gICAgICBpZiAoZW5kID4gMCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gcmVtYWluaW5nLnN1YnN0cmluZygxLCBlbmQpO1xuICAgICAgICBjb25zdCBwYXJzZWRDb250ZW50ID0gcGFyc2VOZXN0ZWRSaWNoVGV4dChjb250ZW50KTtcbiAgICAgICAgcmVzdWx0LnB1c2goYDxzcGFuIGNsYXNzPVwidGV4dC1xdW90ZS1jblwiPiR7cGFyc2VkQ29udGVudH08L3NwYW4+YCk7XG4gICAgICAgIGkgKz0gZW5kICsgMTtcbiAgICAgICAgbWF0Y2hlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gOS42LiDlpITnkIYg44CK5paH5pys44CLIOS5puWQjeWPt++8iOe0q+iJsu+8jOS4jueJueauiuagh+iusOebuOWQjO+8iVxuICAgIGlmICghbWF0Y2hlZCAmJiByZW1haW5pbmcuc3RhcnRzV2l0aCgn44CKJykpIHtcbiAgICAgIGNvbnN0IGVuZCA9IHJlbWFpbmluZy5pbmRleE9mKCfjgIsnKTtcbiAgICAgIGlmIChlbmQgPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZW1haW5pbmcuc3Vic3RyaW5nKDEsIGVuZCk7XG4gICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBwYXJzZU5lc3RlZFJpY2hUZXh0KGNvbnRlbnQpO1xuICAgICAgICByZXN1bHQucHVzaChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNwZWNpYWxcIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICBpICs9IGVuZCArIDE7XG4gICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDEwLiDlpITnkIblj4zlvJXlj7fljIXoo7nnmoTmlofmnKzvvIjlvJXnlKjmoLflvI/vvIzntKvoibLvvIlcbiAgICAvLyDljLnphY3kuK3mloflj4zlvJXlj7cgXCIuLi5cIiDlkowgXCIuLi5cIiDmiJboi7Hmloflj4zlvJXlj7cgXCIuLi5cIlxuICAgIGlmICghbWF0Y2hlZCkge1xuICAgICAgLy8g5Lit5paH5bem5Y+M5byV5Y+3IFwiIChVKzIwMUMpXG4gICAgICBpZiAocmVtYWluaW5nLnN0YXJ0c1dpdGgoJ1xcdTIwMUMnKSkge1xuICAgICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZignXFx1MjAxRCcsIDEpO1xuICAgICAgICBpZiAoZW5kID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZW1haW5pbmcuc3Vic3RyaW5nKDEsIGVuZCk7XG4gICAgICAgICAgY29uc3QgcGFyc2VkQ29udGVudCA9IHBhcnNlTmVzdGVkUmljaFRleHQoY29udGVudCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2goYDxzcGFuIGNsYXNzPVwidGV4dC1xdW90ZVwiPiR7cGFyc2VkQ29udGVudH08L3NwYW4+YCk7XG4gICAgICAgICAgaSArPSBlbmQgKyAxO1xuICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyDkuK3mloflj7Plj4zlvJXlj7cgXCIgKFUrMjAxRCnvvIjkvZzkuLrlvIDlp4vlvJXlj7fvvIlcbiAgICAgIGVsc2UgaWYgKHJlbWFpbmluZy5zdGFydHNXaXRoKCdcXHUyMDFEJykpIHtcbiAgICAgICAgY29uc3QgZW5kID0gcmVtYWluaW5nLmluZGV4T2YoJ1xcdTIwMUMnLCAxKTtcbiAgICAgICAgaWYgKGVuZCA+IDApIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gcmVtYWluaW5nLnN1YnN0cmluZygxLCBlbmQpO1xuICAgICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBwYXJzZU5lc3RlZFJpY2hUZXh0KGNvbnRlbnQpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGA8c3BhbiBjbGFzcz1cInRleHQtcXVvdGVcIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICAgIGkgKz0gZW5kICsgMTtcbiAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8g6Iux5paH5Y+M5byV5Y+3IFwiXG4gICAgICBlbHNlIGlmIChyZW1haW5pbmcuc3RhcnRzV2l0aCgnXCInKSkge1xuICAgICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZignXCInLCAxKTtcbiAgICAgICAgaWYgKGVuZCA+IDApIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gcmVtYWluaW5nLnN1YnN0cmluZygxLCBlbmQpO1xuICAgICAgICAgIGNvbnN0IHBhcnNlZENvbnRlbnQgPSBwYXJzZU5lc3RlZFJpY2hUZXh0KGNvbnRlbnQpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGA8c3BhbiBjbGFzcz1cInRleHQtcXVvdGVcIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICAgIGkgKz0gZW5kICsgMTtcbiAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDExLiDlpITnkIbljZXlvJXlj7flvJXnlKjvvIjmtYXok53oibLvvIlcbiAgICAvLyDljLnphY3kuK3mlofljZXlvJXlj7cgJy4uLicg5ZKMICcuLi4nIOaIluiLseaWh+WNleW8leWPtyAnLi4uJ1xuICAgIGlmICghbWF0Y2hlZCkge1xuICAgICAgLy8g5Lit5paH5bem5Y2V5byV5Y+3ICcgKFUrMjAxOClcbiAgICAgIGlmIChyZW1haW5pbmcuc3RhcnRzV2l0aCgnXFx1MjAxOCcpKSB7XG4gICAgICAgIGNvbnN0IGVuZCA9IHJlbWFpbmluZy5pbmRleE9mKCdcXHUyMDE5JywgMSk7XG4gICAgICAgIGlmIChlbmQgPiAwKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IHJlbWFpbmluZy5zdWJzdHJpbmcoMSwgZW5kKTtcbiAgICAgICAgICBjb25zdCBwYXJzZWRDb250ZW50ID0gcGFyc2VOZXN0ZWRSaWNoVGV4dChjb250ZW50KTtcbiAgICAgICAgICByZXN1bHQucHVzaChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXF1b3RlLXNpbmdsZVwiPiR7cGFyc2VkQ29udGVudH08L3NwYW4+YCk7XG4gICAgICAgICAgaSArPSBlbmQgKyAxO1xuICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyDkuK3mloflj7PljZXlvJXlj7cgJyAoVSsyMDE5Ke+8iOS9nOS4uuW8gOWni+W8leWPt++8iVxuICAgICAgZWxzZSBpZiAocmVtYWluaW5nLnN0YXJ0c1dpdGgoJ1xcdTIwMTknKSkge1xuICAgICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZignXFx1MjAxOCcsIDEpO1xuICAgICAgICBpZiAoZW5kID4gMCkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSByZW1haW5pbmcuc3Vic3RyaW5nKDEsIGVuZCk7XG4gICAgICAgICAgY29uc3QgcGFyc2VkQ29udGVudCA9IHBhcnNlTmVzdGVkUmljaFRleHQoY29udGVudCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2goYDxzcGFuIGNsYXNzPVwidGV4dC1xdW90ZS1zaW5nbGVcIj4ke3BhcnNlZENvbnRlbnR9PC9zcGFuPmApO1xuICAgICAgICAgIGkgKz0gZW5kICsgMTtcbiAgICAgICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8g6Iux5paH5Y2V5byV5Y+3ICdcbiAgICAgIGVsc2UgaWYgKHJlbWFpbmluZy5zdGFydHNXaXRoKFwiJ1wiKSkge1xuICAgICAgICBjb25zdCBlbmQgPSByZW1haW5pbmcuaW5kZXhPZihcIidcIiwgMSk7XG4gICAgICAgIGlmIChlbmQgPiAwKSB7XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IHJlbWFpbmluZy5zdWJzdHJpbmcoMSwgZW5kKTtcbiAgICAgICAgICBjb25zdCBwYXJzZWRDb250ZW50ID0gcGFyc2VOZXN0ZWRSaWNoVGV4dChjb250ZW50KTtcbiAgICAgICAgICByZXN1bHQucHVzaChgPHNwYW4gY2xhc3M9XCJ0ZXh0LXF1b3RlLXNpbmdsZVwiPiR7cGFyc2VkQ29udGVudH08L3NwYW4+YCk7XG4gICAgICAgICAgaSArPSBlbmQgKyAxO1xuICAgICAgICAgIG1hdGNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMTIuIOWkhOeQhuaNouihjOesplxuICAgIGlmICghbWF0Y2hlZCAmJiByZW1haW5pbmcuc3RhcnRzV2l0aCgnXFxuJykpIHtcbiAgICAgIHJlc3VsdC5wdXNoKCc8YnI+Jyk7XG4gICAgICBpICs9IDE7XG4gICAgICBtYXRjaGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyDlpoLmnpzmsqHmnInljLnphY3liLDku7vkvZXmoIforrDvvIzmt7vliqDmma7pgJrlrZfnrKZcbiAgICBpZiAoIW1hdGNoZWQpIHtcbiAgICAgIC8vIEhUTUwg6L2s5LmJ54m55q6K5a2X56ymXG4gICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcbiAgICAgIGlmIChjaGFyID09PSAnPCcpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJyZsdDsnKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJz4nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKCcmZ3Q7Jyk7XG4gICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcmJykge1xuICAgICAgICByZXN1bHQucHVzaCgnJmFtcDsnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGNoYXIpO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQuam9pbignJyk7XG59XG5cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/utils/textParser.ts\n\n}");
  },
  "./src/mhjg/utils/unifiedRequestHandler.ts": 
  /*!*************************************************!*\
  !*** ./src/mhjg/utils/unifiedRequestHandler.ts ***!
  \*************************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleUnifiedRequest: () => (/* binding */ handleUnifiedRequest)\n/* harmony export */ });\n/**\n * ç»Ÿä¸€è¯·æ±‚å¤„ç†å™¨\n * å¤„ç†æ‰€æœ‰ç±»å‹çš„æ¸¸æˆè¯·æ±‚ï¼šå‘é€é€‰é¡¹ã€è‡ªå®šä¹‰ä¿¡æ¯ã€æ‹›å‹Ÿã€å‡çº§ã€ä¸–ç•Œç©¿è¶Š\n */\n/**\n * è·å–åŸºç¡€ MVU æ•°æ®ï¼ˆç”¨äºä¼ é€’åˆ°æ–°æ¥¼å±‚ï¼‰\n * æ³¨æ„ï¼šä¸è§£ææ¶ˆæ¯ä¸­çš„ MVU å‘½ä»¤ï¼Œè®© MVU ç³»ç»Ÿè‡ªåŠ¨å¤„ç†\n */\nasync function getBaseMvuData() {\n    try {\n        // ç¡®ä¿ MVU å·²åˆå§‹åŒ–\n        await waitGlobalInitialized('Mvu');\n        // ä¼˜å…ˆä» MVU ç³»ç»Ÿè¯»å–æœ€æ–°æ¥¼å±‚çš„å˜é‡æ•°æ®ï¼ˆç¡®ä¿æ•°æ®æ˜¯æœ€æ–°çš„ï¼‰\n        // è¿™æ ·ä¸ readGameData() çš„è¯»å–æ–¹å¼ä¿æŒä¸€è‡´\n        const base = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n        console.log('ğŸ“Š ä» MVU è·å–åŸºç¡€æ•°æ®');\n        // è¿”å›åŸºç¡€æ•°æ®ï¼Œä¸è¿›è¡Œä»»ä½•è§£æ\n        return (base ?? {\n            stat_data: {},\n            display_data: {},\n            delta_data: {},\n        });\n    }\n    catch (error) {\n        console.warn('âš ï¸ è·å– MVU æ•°æ®å¤±è´¥ï¼Œä½¿ç”¨ç©ºå¯¹è±¡:', error);\n        // å¦‚æœ MVU ä¸å¯ç”¨ï¼Œè¿”å›ä¸€ä¸ªåŸºæœ¬çš„ MVU æ•°æ®ç»“æ„\n        return {\n            stat_data: {},\n            display_data: {},\n            delta_data: {},\n        };\n    }\n}\n/**\n * æ„å»ºè¯·æ±‚æç¤ºè¯\n */\nfunction buildRequestPrompt(request) {\n    switch (request.type) {\n        case 'option':\n            // å‘é€é€‰é¡¹ï¼šç›´æ¥ä½¿ç”¨é€‰é¡¹æ–‡æœ¬\n            return typeof request.content === 'string' ? request.content : '';\n        case 'custom':\n            // è‡ªå®šä¹‰ä¿¡æ¯ï¼šç›´æ¥ä½¿ç”¨è‡ªå®šä¹‰æ–‡æœ¬\n            return typeof request.content === 'string' ? request.content : '';\n        case 'recruit': {\n            // æ‹›å‹Ÿï¼šæ„å»ºæ‹›å‹Ÿæç¤ºè¯\n            const recruitData = request.content;\n            const genderText = recruitData.gender === 'any'\n                ? 'ä¸é™'\n                : recruitData.gender === 'male'\n                    ? 'ç”·æ€§'\n                    : recruitData.gender === 'female'\n                        ? 'å¥³æ€§'\n                        : 'å…¶ä»–';\n            const requirements = recruitData.requirements ? `ï¼Œ${recruitData.requirements}` : '';\n            return `ä½ å†³å®šæ‹›å‹Ÿä¸€å${recruitData.position}ï¼Œå·¥èµ„ä¸º${recruitData.salary}é‡‘å¸/æœˆï¼Œæ€§åˆ«è¦æ±‚ï¼š${genderText}${requirements}ã€‚ç”±äºæ—…é¦†çš„è¶…è‡ªç„¶æ•ˆåº”ï¼Œç¬¦åˆè¦æ±‚çš„åº”è˜è€…å¾ˆå¿«å°±ä¼šæ¥åˆ°ã€‚`;\n        }\n        case 'upgrade': {\n            // å‡çº§ï¼šæ„å»ºå‡çº§æç¤ºè¯\n            const upgradeData = request.content;\n            const costText = [];\n            if (upgradeData.cost.gold) {\n                costText.push(`${upgradeData.cost.gold}é‡‘å¸`);\n            }\n            if (upgradeData.cost.materials) {\n                costText.push(`${upgradeData.cost.materials}å»ºæ`);\n            }\n            const costDesc = costText.length > 0 ? `ï¼ˆèŠ±è´¹ï¼š${costText.join('ã€')}ï¼‰` : '';\n            const desc = upgradeData.description ||\n                `å°†${upgradeData.facilityName}ä»${upgradeData.facilityLevel}çº§å‡çº§åˆ°${upgradeData.facilityLevel + 1}çº§`;\n            return `ä½ å†³å®šå¯¹é…’é¦†è¿›è¡Œä¸€ç•ªå‡çº§ï¼Œ${desc}${costDesc}ã€‚ç”±äºæ—…é¦†çš„è¶…è‡ªç„¶ç‰¹æ€§ï¼Œè¿™äº›å‡çº§å°†ä¼šè‡ªåŠ¨åŒ–åœ°è¿›è¡Œã€‚`;\n        }\n        case 'guest-interact': {\n            // å®¢äººäº’åŠ¨ï¼šç›´æ¥ä½¿ç”¨äº’åŠ¨æç¤ºè¯\n            return typeof request.content === 'string' ? request.content : '';\n        }\n        case 'world-travel': {\n            // ä¸–ç•Œç©¿è¶Šï¼šæ„å»ºç©¿è¶Šæç¤ºè¯\n            const worldData = request.content;\n            return `ä½ å†³å®šè®©æ—…åº—ç©¿è¶Šåˆ°${worldData.worldName}ã€‚ç”±äºæ—…é¦†çš„è¶…è‡ªç„¶ç‰¹æ€§ï¼Œæ—…åº—å°†è‡ªåŠ¨å®Œæˆä¸–ç•Œç©¿è¶Šã€‚`;\n        }\n        default:\n            return '';\n    }\n}\n/**\n * ç§»é™¤ <thinking> æ ‡ç­¾åŠå…¶å†…éƒ¨æ‰€æœ‰å†…å®¹\n */\nfunction removeThinkingTags(text) {\n    // åŒ¹é… <thinking>...</thinking> æ ‡ç­¾ï¼ˆåŒ…æ‹¬åµŒå¥—çš„æ ‡ç­¾ï¼‰\n    // ä½¿ç”¨éè´ªå©ªåŒ¹é…ï¼Œä½†éœ€è¦å¤„ç†åµŒå¥—æƒ…å†µ\n    let result = text;\n    let lastResult = '';\n    // å¾ªç¯å¤„ç†ï¼Œç›´åˆ°æ²¡æœ‰æ›´å¤šçš„ <thinking> æ ‡ç­¾\n    while (result !== lastResult) {\n        lastResult = result;\n        // åŒ¹é…æœ€å¤–å±‚çš„ <thinking> æ ‡ç­¾å¯¹\n        result = result.replace(/<thinking>[\\s\\S]*?<\\/thinking>/gi, '');\n    }\n    return result;\n}\n/**\n * æå–æœ€åä¸€æ¬¡å‡ºç°çš„ <maintext> æ ‡ç­¾å†…å®¹\n */\nfunction extractLastMaintext(text) {\n    const matches = text.match(/<maintext>([\\s\\S]*?)<\\/maintext>/gi);\n    if (!matches || matches.length === 0) {\n        return '';\n    }\n    // è·å–æœ€åä¸€ä¸ªåŒ¹é…\n    const lastMatch = matches[matches.length - 1];\n    const contentMatch = lastMatch.match(/<maintext>([\\s\\S]*?)<\\/maintext>/i);\n    return contentMatch ? contentMatch[1].trim() : '';\n}\n/**\n * æå–æœ€åä¸€æ¬¡å‡ºç°çš„ <option> æ ‡ç­¾å†…å®¹\n */\nfunction extractLastOption(text) {\n    const matches = text.match(/<option>([\\s\\S]*?)<\\/option>/gi);\n    if (!matches || matches.length === 0) {\n        return '';\n    }\n    // è·å–æœ€åä¸€ä¸ªåŒ¹é…\n    const lastMatch = matches[matches.length - 1];\n    const contentMatch = lastMatch.match(/<option>([\\s\\S]*?)<\\/option>/i);\n    return contentMatch ? contentMatch[1].trim() : '';\n}\n/**\n * æå–æœ€åä¸€æ¬¡å‡ºç°çš„ <sum> æ ‡ç­¾å†…å®¹\n */\nfunction extractLastSum(text) {\n    const matches = text.match(/<sum>([\\s\\S]*?)<\\/sum>/gi);\n    if (!matches || matches.length === 0) {\n        return '';\n    }\n    // è·å–æœ€åä¸€ä¸ªåŒ¹é…\n    const lastMatch = matches[matches.length - 1];\n    const contentMatch = lastMatch.match(/<sum>([\\s\\S]*?)<\\/sum>/i);\n    return contentMatch ? contentMatch[1].trim() : '';\n}\n/**\n * æå–æœ€åä¸€æ¬¡å‡ºç°çš„ <UpdateVariable> æ ‡ç­¾å†…å®¹\n */\nfunction extractLastUpdateVariable(text) {\n    const matches = text.match(/<UpdateVariable>([\\s\\S]*?)<\\/UpdateVariable>/gi);\n    if (!matches || matches.length === 0) {\n        return '';\n    }\n    // è·å–æœ€åä¸€ä¸ªåŒ¹é…\n    const lastMatch = matches[matches.length - 1];\n    const contentMatch = lastMatch.match(/<UpdateVariable>([\\s\\S]*?)<\\/UpdateVariable>/i);\n    if (!contentMatch) {\n        return '';\n    }\n    const content = contentMatch[1].trim();\n    // ç›´æ¥è¿”å›åŸå§‹å†…å®¹ï¼Œä¸è¿›è¡Œä»»ä½•è½¬æ¢\n    // MVU ç³»ç»Ÿå¯èƒ½ç›´æ¥æ”¯æŒ JSONPatch æ ¼å¼ï¼Œè½¬æ¢åè€Œä¼šå¯¼è‡´é—®é¢˜\n    console.log('ğŸ“ æå–åˆ° <UpdateVariable> åŸå§‹å†…å®¹ï¼Œç›´æ¥ä¿ç•™ï¼Œä¸è¿›è¡Œè½¬æ¢');\n    return content;\n}\n/**\n * éªŒè¯æ¶ˆæ¯æ˜¯å¦ç¬¦åˆè§„èŒƒï¼ˆè‡³å°‘åŒ…å« maintext å’Œ optionï¼‰\n */\nfunction validateMessage(messageContent) {\n    if (!messageContent || typeof messageContent !== 'string') {\n        return false;\n    }\n    // ç§»é™¤ thinking æ ‡ç­¾åå†éªŒè¯\n    const cleaned = removeThinkingTags(messageContent);\n    const maintext = extractLastMaintext(cleaned);\n    const option = extractLastOption(cleaned);\n    if (!maintext || !option) {\n        console.warn('âš ï¸ æ¶ˆæ¯ç¼ºå°‘ <maintext> æˆ– <option> æ ‡ç­¾');\n        return false;\n    }\n    return true;\n}\n/**\n * ç»Ÿä¸€è¯·æ±‚å¤„ç†å‡½æ•°\n * @param request è¯·æ±‚æ•°æ®\n * @param callbacks å›è°ƒå‡½æ•°\n */\nasync function handleUnifiedRequest(request, callbacks) {\n    let userMessageId = null;\n    try {\n        // 1. æ£€æŸ¥å½“å‰æ˜¯å¦åœ¨é­”å…¸é¡µé¢\n        const { getActiveTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../utils/tabManager */ \"./src/mhjg/utils/tabManager.ts\"));\n        const { GameTab } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../types */ \"./src/mhjg/types.ts\"));\n        const currentTab = getActiveTab();\n        const isInStoryTab = currentTab === GameTab.STORY;\n        // 2. å¦‚æœä¸åœ¨é­”å…¸é¡µé¢ï¼Œåˆ‡æ¢åˆ°é­”å…¸é¡µé¢\n        if (!isInStoryTab) {\n            if (callbacks.onSwitchToStory) {\n                callbacks.onSwitchToStory();\n            }\n        }\n        // 3. ç¦ç”¨æ‰€æœ‰é€‰é¡¹æŒ‰é’®\n        if (callbacks.onDisableOptions) {\n            callbacks.onDisableOptions();\n        }\n        // 4. æ˜¾ç¤º\"å‰§æƒ…æ­£åœ¨ç”Ÿæˆ\"æç¤ºæ¡†\n        if (callbacks.onShowGenerating) {\n            callbacks.onShowGenerating();\n        }\n        // 5. æ„å»ºæç¤ºè¯\n        const prompt = buildRequestPrompt(request);\n        if (!prompt) {\n            throw new Error('æ— æ³•æ„å»ºæç¤ºè¯');\n        }\n        console.log('ğŸ“ æ„å»ºçš„æç¤ºè¯:', prompt);\n        // 6. æ£€æµ‹å’Œæ“ä½œä¸–ç•Œä¹¦æ¡ç›®ï¼ˆåœ¨åˆ›å»º user æ¶ˆæ¯ä¹‹å‰ï¼‰\n        try {\n            const currentMessageId = getLastMessageId();\n            // æ£€æµ‹ï¼šæ¸¸æˆå¤„äºå¼€å±€åˆ›å»ºåï¼Œä¸”å‘é€æ¶ˆæ¯æ—¶æ¥¼å±‚ä¸º1æˆ–2ï¼ˆåˆ›å»ºå‰æ˜¯0æˆ–1ï¼‰\n            const isOpeningPhase = currentMessageId >= 0 && currentMessageId <= 1;\n            console.log(`ğŸ” æ£€æµ‹ä¸–ç•Œä¹¦æ¡ç›®ï¼šå½“å‰æ¥¼å±‚ ${currentMessageId}ï¼Œ${isOpeningPhase ? 'å¼€å±€é˜¶æ®µ' : 'æ­£å¸¸é˜¶æ®µ'}`);\n            // è·å–ä¸–ç•Œä¹¦æ¡ç›®\n            const worldbookName = '0è¯¸å¤©ä¾¿æºæ—…åº—';\n            const worldbookEntries = await getWorldbook(worldbookName);\n            // æŸ¥æ‰¾\"å¼€å±€COT\"å’Œ\"COT\"æ¡ç›®\n            const openingCotEntry = worldbookEntries.find(entry => entry.name === 'å¼€å±€COT');\n            const cotEntry = worldbookEntries.find(entry => entry.name === 'COT');\n            // å‡†å¤‡æ›´æ–°åˆ—è¡¨\n            const updates = [];\n            if (isOpeningPhase) {\n                // å¼€å±€é˜¶æ®µï¼šå¯ç”¨\"å¼€å±€COT\"ï¼Œå…³é—­\"COT\"\n                if (openingCotEntry) {\n                    if (!openingCotEntry.enabled) {\n                        updates.push({ uid: openingCotEntry.uid, enabled: true });\n                        console.log('âœ… å¯ç”¨æ¡ç›®: å¼€å±€COT');\n                    }\n                }\n                else {\n                    console.warn('âš ï¸ æœªæ‰¾åˆ°\"å¼€å±€COT\"æ¡ç›®');\n                }\n                if (cotEntry) {\n                    if (cotEntry.enabled) {\n                        updates.push({ uid: cotEntry.uid, enabled: false });\n                        console.log('âŒ å…³é—­æ¡ç›®: COT');\n                    }\n                }\n                else {\n                    console.warn('âš ï¸ æœªæ‰¾åˆ°\"COT\"æ¡ç›®');\n                }\n            }\n            else {\n                // å…¶ä»–æ—¶å€™ï¼šå…³é—­\"å¼€å±€COT\"ï¼Œå¼€å¯\"COT\"\n                if (openingCotEntry) {\n                    if (openingCotEntry.enabled) {\n                        updates.push({ uid: openingCotEntry.uid, enabled: false });\n                        console.log('âŒ å…³é—­æ¡ç›®: å¼€å±€COT');\n                    }\n                }\n                else {\n                    console.warn('âš ï¸ æœªæ‰¾åˆ°\"å¼€å±€COT\"æ¡ç›®');\n                }\n                if (cotEntry) {\n                    if (!cotEntry.enabled) {\n                        updates.push({ uid: cotEntry.uid, enabled: true });\n                        console.log('âœ… å¯ç”¨æ¡ç›®: COT');\n                    }\n                }\n                else {\n                    console.warn('âš ï¸ æœªæ‰¾åˆ°\"COT\"æ¡ç›®');\n                }\n            }\n            // åº”ç”¨æ›´æ–°\n            if (updates.length > 0) {\n                await updateWorldbookWith(worldbookName, worldbook => {\n                    return worldbook.map(entry => {\n                        const update = updates.find(u => u.uid === entry.uid);\n                        if (update) {\n                            return { ...entry, enabled: update.enabled };\n                        }\n                        return entry;\n                    });\n                });\n                console.log(`âœ… ä¸–ç•Œä¹¦æ¡ç›®æ›´æ–°å®Œæˆï¼Œå…±æ›´æ–° ${updates.length} ä¸ªæ¡ç›®`);\n            }\n            else {\n                console.log('â„¹ï¸ æ²¡æœ‰éœ€è¦æ›´æ–°çš„ä¸–ç•Œä¹¦æ¡ç›®');\n            }\n        }\n        catch (error) {\n            console.error('âŒ æ›´æ–°ä¸–ç•Œä¹¦æ¡ç›®å¤±è´¥:', error);\n            // ä¸æŠ›å‡ºé”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œåç»­æµç¨‹\n        }\n        // 7. è·å–åŸºç¡€ MVU æ•°æ®ï¼ˆç”¨äºä¼ é€’åˆ° user æ¶ˆæ¯ï¼‰\n        // æ³¨æ„ï¼šä¸è§£ææ¶ˆæ¯ï¼Œè®© MVU ç³»ç»Ÿè‡ªåŠ¨å¤„ç†\n        const mvu_data = await getBaseMvuData();\n        // 8. åˆ›å»º user æ¶ˆæ¯ï¼Œä¼ é€’ MVU æ•°æ®\n        await createChatMessages([\n            {\n                role: 'user',\n                message: prompt,\n                data: mvu_data, // ä¼ é€’ MVU æ•°æ®ï¼Œç¡®ä¿å˜é‡æ­£ç¡®ä¼ é€’åˆ°æ–°æ¥¼å±‚\n            },\n        ], {\n            refresh: 'none', // ä¸æ›´æ–°æ˜¾ç¤ºï¼Œç”±é­”å…¸è‡ªå·±è¯»å–\n        });\n        // 9. è·å–åˆšåˆ›å»ºçš„ user æ¶ˆæ¯ ID\n        userMessageId = getLastMessageId();\n        console.log('ğŸ“ åˆ›å»º user æ¶ˆæ¯ï¼ŒID:', userMessageId);\n        // 10. å¦‚æœå½“å‰åœ¨é­”å…¸é¡µé¢ï¼Œåˆ·æ–°é­”å…¸æ˜¾ç¤ºåˆšå‘é€çš„æ¶ˆæ¯\n        if (isInStoryTab) {\n            if (callbacks.onRefreshStoryIfOpen) {\n                callbacks.onRefreshStoryIfOpen();\n                console.log('âœ… å·²åœ¨é­”å…¸é¡µé¢ï¼Œåˆ·æ–°æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯');\n            }\n        }\n        // 11. ä½¿ç”¨ generate ç”Ÿæˆ LLM å›å¤ï¼ˆæ”¯æŒæµå¼ç”Ÿæˆï¼‰\n        console.log('ğŸš€ å¼€å§‹è°ƒç”¨ generate ç”Ÿæˆå›å¤...');\n        const result = await generate({\n            user_input: prompt,\n            should_stream: true, // å¯ç”¨æµå¼ç”Ÿæˆ\n        });\n        console.log('ğŸ“¨ generate è¿”å›ç»“æœï¼Œé•¿åº¦:', result?.length || 0);\n        // 12. ç§»é™¤ <thinking> æ ‡ç­¾\n        const cleanedResult = removeThinkingTags(result);\n        // 13. éªŒè¯è¿”å›ç»“æœæ˜¯å¦ç¬¦åˆè§„èŒƒ\n        if (!cleanedResult || !validateMessage(cleanedResult)) {\n            console.error('âŒ generate è¿”å›çš„æ¶ˆæ¯ä¸ç¬¦åˆè§„èŒƒ');\n            // åˆ é™¤ user æ¶ˆæ¯\n            if (userMessageId !== null) {\n                await deleteChatMessages([userMessageId], { refresh: 'none' });\n                console.log('ğŸ—‘ï¸ å·²åˆ é™¤ä¸åˆè§„çš„ user æ¶ˆæ¯');\n            }\n            // éšè—ç”Ÿæˆæç¤ºæ¡†\n            if (callbacks.onHideGenerating) {\n                callbacks.onHideGenerating();\n            }\n            // é‡æ–°å¯ç”¨é€‰é¡¹æŒ‰é’®\n            if (callbacks.onEnableOptions) {\n                callbacks.onEnableOptions();\n            }\n            if (callbacks.onError) {\n                callbacks.onError('ç”Ÿæˆçš„æ¶ˆæ¯ä¸ç¬¦åˆè§„èŒƒ');\n            }\n            return false;\n        }\n        // 14. æå–æœ€åä¸€æ¬¡å‡ºç°çš„ <maintext>ã€<option>ã€<sum> å’Œ <UpdateVariable>\n        const maintext = extractLastMaintext(cleanedResult);\n        const option = extractLastOption(cleanedResult);\n        const sum = extractLastSum(cleanedResult);\n        const updateVariable = extractLastUpdateVariable(cleanedResult);\n        if (!maintext || !option) {\n            console.error('âŒ æ— æ³•æå– maintext æˆ– option');\n            // åˆ é™¤ user æ¶ˆæ¯\n            if (userMessageId !== null) {\n                await deleteChatMessages([userMessageId], { refresh: 'none' });\n                console.log('ğŸ—‘ï¸ å·²åˆ é™¤ä¸åˆè§„çš„ user æ¶ˆæ¯');\n            }\n            // éšè—ç”Ÿæˆæç¤ºæ¡†\n            if (callbacks.onHideGenerating) {\n                callbacks.onHideGenerating();\n            }\n            // é‡æ–°å¯ç”¨é€‰é¡¹æŒ‰é’®\n            if (callbacks.onEnableOptions) {\n                callbacks.onEnableOptions();\n            }\n            if (callbacks.onError) {\n                callbacks.onError('æ— æ³•æå– maintext æˆ– option');\n            }\n            return false;\n        }\n        // 15. é‡æ–°ç»„åˆæ¶ˆæ¯ï¼ˆåŒ…å«æœ€åä¸€æ¬¡çš„ maintextã€optionã€sumï¼ˆå¦‚æœæœ‰ï¼‰å’Œ UpdateVariableï¼ˆå¦‚æœæœ‰ï¼‰ï¼‰\n        // æ³¨æ„ï¼šä¸å†è¿›è¡Œæ ¼å¼åŒ–ï¼Œç›´æ¥ä½¿ç”¨åŸå§‹å†…å®¹\n        let finalMessage = `<maintext>${maintext}</maintext>\\n\\n<option>${option}</option>`;\n        if (sum) {\n            finalMessage += `\\n\\n<sum>${sum}</sum>`;\n            console.log('ğŸ“ æå–åˆ° <sum> æ ‡ç­¾:', sum);\n        }\n        if (updateVariable) {\n            finalMessage += `\\n\\n<UpdateVariable>${updateVariable}</UpdateVariable>`;\n            console.log('ğŸ“ æå–åˆ° <UpdateVariable> æ ‡ç­¾:', updateVariable);\n        }\n        // 16. æ­¥éª¤1ï¼šç¡®ä¿ MVU å·²åˆå§‹åŒ–\n        console.log('ğŸ”§ [æ­¥éª¤1] ç­‰å¾… MVU ç³»ç»Ÿåˆå§‹åŒ–...');\n        await waitGlobalInitialized('Mvu');\n        console.log('âœ… [æ­¥éª¤1] MVU ç³»ç»Ÿå·²åˆå§‹åŒ–');\n        // 17. æ­¥éª¤2ï¼šè·å–åŸºç¡€ MVU æ•°æ®ï¼ˆä¼˜å…ˆä»åˆšåˆ›å»ºçš„ user æ¶ˆæ¯è¯»å–ï¼Œç¡®ä¿æ•°æ®æ˜¯æœ€æ–°çš„ï¼‰\n        // æ³¨æ„ï¼šæ­¤æ—¶æœ€æ–°çš„æ¶ˆæ¯æ˜¯åˆšåˆ›å»ºçš„ user æ¶ˆæ¯ï¼Œåº”è¯¥ä»å®ƒè¯»å– data\n        console.log('ğŸ“Š [æ­¥éª¤2] å¼€å§‹è·å–åŸºç¡€ MVU æ•°æ®...');\n        console.log('ğŸ“Š [æ­¥éª¤2] user æ¶ˆæ¯ ID:', userMessageId);\n        let base;\n        if (userMessageId !== null) {\n            const userMessage = getChatMessages(userMessageId)?.[0];\n            if (userMessage?.data) {\n                base = userMessage.data;\n                console.log('âœ… [æ­¥éª¤2] ä»åˆšåˆ›å»ºçš„ user æ¶ˆæ¯è¯»å–åŸºç¡€æ•°æ®');\n                console.log('ğŸ“Š [æ­¥éª¤2] åŸºç¡€æ•°æ®æ‘˜è¦:', {\n                    has_stat_data: !!base.stat_data,\n                    has_display_data: !!base.display_data,\n                    has_delta_data: !!base.delta_data,\n                    initialized_lorebooks_count: base.initialized_lorebooks?.length || 0,\n                });\n            }\n            else {\n                console.log('âš ï¸ [æ­¥éª¤2] user æ¶ˆæ¯æ²¡æœ‰ data å­—æ®µ');\n            }\n        }\n        // å¦‚æœ user æ¶ˆæ¯æ²¡æœ‰ dataï¼Œåˆ™ä»æœ€æ–°çš„ assistant æ¶ˆæ¯æˆ– MVU è¯»å–\n        if (!base) {\n            console.log('ğŸ“Š [æ­¥éª¤2] å°è¯•ä»æœ€æ–°çš„ assistant æ¶ˆæ¯æˆ– MVU è¯»å–...');\n            base =\n                getChatMessages(-1, { role: 'assistant' })?.[0]?.data ??\n                    Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n            console.log('âœ… [æ­¥éª¤2] ä»æœ€æ–°çš„ assistant æ¶ˆæ¯æˆ– MVU è¯»å–åŸºç¡€æ•°æ®');\n            console.log('ğŸ“Š [æ­¥éª¤2] åŸºç¡€æ•°æ®æ‘˜è¦:', {\n                has_stat_data: !!base?.stat_data,\n                has_display_data: !!base?.display_data,\n                has_delta_data: !!base?.delta_data,\n                initialized_lorebooks_count: base?.initialized_lorebooks?.length || 0,\n            });\n        }\n        // ç¡®ä¿ base æ•°æ®ç»“æ„å®Œæ•´\n        if (!base || typeof base !== 'object') {\n            console.log('âš ï¸ [æ­¥éª¤2] base æ•°æ®æ— æ•ˆï¼Œä½¿ç”¨ç©ºå¯¹è±¡');\n            base = { stat_data: {}, display_data: {}, delta_data: {} };\n        }\n        if (!base.stat_data)\n            base.stat_data = {};\n        if (!base.display_data)\n            base.display_data = {};\n        if (!base.delta_data)\n            base.delta_data = {};\n        if (!base.initialized_lorebooks)\n            base.initialized_lorebooks = [];\n        console.log('âœ… [æ­¥éª¤2] åŸºç¡€æ•°æ®ç»“æ„å·²ç¡®ä¿å®Œæ•´');\n        // 18. æ­¥éª¤3ï¼šå…ˆè§£ææ¶ˆæ¯ä¸­çš„ MVU å‘½ä»¤ï¼ˆæŒ‰ç…§ç¤ºä¾‹ç”¨æ³•ï¼šå…ˆè§£æï¼Œå†åˆ›å»ºæ¶ˆæ¯ï¼‰\n        console.log('ğŸ” [æ­¥éª¤3] å¼€å§‹è§£ææ¶ˆæ¯ä¸­çš„ MVU å‘½ä»¤...');\n        console.log('ğŸ” [æ­¥éª¤3] è§£æåŸºç¡€æ•°æ®æ‘˜è¦:', {\n            has_stat_data: !!base.stat_data,\n            stat_data_keys: Object.keys(base.stat_data || {}),\n        });\n        console.log('ğŸ” [æ­¥éª¤3] æ¶ˆæ¯å†…å®¹æ‘˜è¦:', {\n            message_length: finalMessage?.length || 0,\n            contains_updatevariable: finalMessage?.includes('<UpdateVariable>') || false,\n            contains_jsonpatch: finalMessage?.includes('<JSONPatch>') || false,\n        });\n        console.log('ğŸ” [æ­¥éª¤3] è°ƒç”¨ Mvu.parseMessage(finalMessage, base)...');\n        const parsed = await Mvu.parseMessage(finalMessage, base);\n        console.log('ğŸ” [æ­¥éª¤3] parseMessage è¿”å›ç»“æœ:', parsed ? 'æœ‰è§£æç»“æœ' : 'æ— è§£æç»“æœï¼ˆundefinedï¼‰');\n        // ä½¿ç”¨è§£æåçš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰è§£æç»“æœåˆ™ä½¿ç”¨åŸºç¡€æ•°æ®\n        const finalData = parsed ?? base;\n        console.log('ğŸ“Š [æ­¥éª¤3] æœ€ç»ˆä½¿ç”¨çš„æ•°æ®:', parsed ? 'è§£æåçš„æ•°æ®' : 'åŸºç¡€æ•°æ®');\n        if (parsed) {\n            console.log('ğŸ“Š [æ­¥éª¤3] è§£æåçš„æ•°æ®æ‘˜è¦:', {\n                has_stat_data: !!parsed.stat_data,\n                has_display_data: !!parsed.display_data,\n                has_delta_data: !!parsed.delta_data,\n                stat_data_keys: Object.keys(parsed.stat_data || {}),\n                delta_data_keys: Object.keys(parsed.delta_data || {}),\n            });\n        }\n        // 19. æ­¥éª¤4ï¼šåˆ›å»º assistant æ¶ˆæ¯ï¼Œç›´æ¥ä¼ å…¥è§£æåçš„æ•°æ®ï¼ˆæŒ‰ç…§ç¤ºä¾‹ç”¨æ³•ï¼‰\n        console.log('ğŸ“ [æ­¥éª¤4] å¼€å§‹åˆ›å»º assistant æ¶ˆæ¯ï¼ˆä¼ å…¥è§£æåçš„æ•°æ®ï¼‰...');\n        console.log('ğŸ“ [æ­¥éª¤4] æ¶ˆæ¯é•¿åº¦:', finalMessage?.length || 0);\n        await createChatMessages([\n            {\n                role: 'assistant',\n                message: finalMessage ?? '',\n                data: finalData, // ç›´æ¥ä¼ å…¥è§£æåçš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰è§£æç»“æœåˆ™ä½¿ç”¨åŸºç¡€æ•°æ®\n            },\n        ], {\n            refresh: 'none',\n        });\n        console.log('âœ… [æ­¥éª¤4] assistant æ¶ˆæ¯å·²åˆ›å»ºï¼ˆå·²ä¼ å…¥è§£æåçš„æ•°æ®ï¼‰');\n        // 20. æ­¥éª¤5ï¼šè·å–æ–°åˆ›å»ºçš„æ¶ˆæ¯ ID\n        const assistantMessageId = getLastMessageId();\n        console.log('ğŸ†” [æ­¥éª¤5] è·å–æ–°åˆ›å»ºçš„æ¶ˆæ¯ ID:', assistantMessageId);\n        // éªŒè¯æ¶ˆæ¯çš„ data å­—æ®µæ˜¯å¦æ­£ç¡®\n        const verifyMessage = getChatMessages(assistantMessageId)?.[0];\n        if (verifyMessage?.data) {\n            console.log('âœ… [æ­¥éª¤5] éªŒè¯ï¼šæ¶ˆæ¯ data å­—æ®µå·²å­˜åœ¨');\n            console.log('ğŸ“Š [æ­¥éª¤5] æ¶ˆæ¯ data å­—æ®µæ‘˜è¦:', {\n                has_stat_data: !!verifyMessage.data.stat_data,\n                stat_data_keys: Object.keys(verifyMessage.data.stat_data || {}),\n            });\n        }\n        else {\n            console.warn('âš ï¸ [æ­¥éª¤5] éªŒè¯ï¼šæ¶ˆæ¯ data å­—æ®µä¸å­˜åœ¨');\n        }\n        // 21. æ›´æ–°ç¼–å¹´å²\n        const { checkAndUpdateChronicle } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./chronicleUpdater */ \"./src/mhjg/utils/chronicleUpdater.ts\"));\n        await checkAndUpdateChronicle();\n        // 22. éšè—ç”Ÿæˆæç¤ºæ¡†ï¼ˆå…ˆé‡ç½®ç”ŸæˆçŠ¶æ€ï¼Œè¿™æ ·åˆ·æ–°æ—¶ä¸ä¼šè¢«å»¶è¿Ÿï¼‰\n        if (callbacks.onHideGenerating) {\n            callbacks.onHideGenerating();\n        }\n        // 20. ä»æ–°åˆ›å»ºçš„æ¶ˆæ¯ä¸­è¯»å–å†…å®¹å¹¶åˆ·æ–°é­”å…¸æ˜¾ç¤º\n        // å»¶è¿Ÿä¸€ä¸‹ï¼Œç¡®ä¿æ¶ˆæ¯å·²ç»å®Œå…¨åˆ›å»ºå’Œæ›´æ–°ï¼Œå¹¶ä¸”ç”ŸæˆçŠ¶æ€å·²é‡ç½®\n        setTimeout(() => {\n            if (callbacks.onRefreshStory) {\n                callbacks.onRefreshStory();\n                console.log('âœ… å·²ä»æ–°åˆ›å»ºçš„æ¶ˆæ¯åˆ·æ–°é­”å…¸æ˜¾ç¤º');\n            }\n        }, 300);\n        // 23. é‡æ–°å¯ç”¨é€‰é¡¹æŒ‰é’®ï¼ˆå¦‚æœéœ€è¦ï¼‰\n        // æ³¨æ„ï¼šé€‰é¡¹æŒ‰é’®ä¼šåœ¨æ¶ˆæ¯æ›´æ–°åè‡ªåŠ¨åˆ·æ–°ï¼Œè¿™é‡Œä¸éœ€è¦æ‰‹åŠ¨å¯ç”¨\n        return true;\n    }\n    catch (error) {\n        console.error('âŒ å¤„ç†ç»Ÿä¸€è¯·æ±‚å¤±è´¥:', error);\n        // å¦‚æœåˆ›å»ºäº† user æ¶ˆæ¯ï¼Œåˆ é™¤å®ƒ\n        if (userMessageId !== null) {\n            try {\n                await deleteChatMessages([userMessageId], { refresh: 'none' });\n                console.log('ğŸ—‘ï¸ å·²åˆ é™¤å¤±è´¥çš„ user æ¶ˆæ¯');\n            }\n            catch (deleteError) {\n                console.error('âŒ åˆ é™¤ user æ¶ˆæ¯å¤±è´¥:', deleteError);\n            }\n        }\n        // éšè—ç”Ÿæˆæç¤ºæ¡†\n        if (callbacks.onHideGenerating) {\n            callbacks.onHideGenerating();\n        }\n        // é‡æ–°å¯ç”¨é€‰é¡¹æŒ‰é’®\n        if (callbacks.onEnableOptions) {\n            callbacks.onEnableOptions();\n        }\n        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯\n        if (callbacks.onError) {\n            callbacks.onError(error instanceof Error ? error.message : 'å¤„ç†è¯·æ±‚å¤±è´¥');\n        }\n        return false;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy91dGlscy91bmlmaWVkUmVxdWVzdEhhbmRsZXIudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7R0FHRztBQTRFSDs7O0dBR0c7QUFDSCxLQUFLLFVBQVUsY0FBYztJQUMzQixJQUFJLENBQUM7UUFDSCxjQUFjO1FBQ2QsTUFBTSxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVuQyxrQ0FBa0M7UUFDbEMsK0JBQStCO1FBQy9CLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZFLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUUvQixpQkFBaUI7UUFDakIsT0FBTyxDQUNMLElBQUksSUFBSTtZQUNOLFNBQVMsRUFBRSxFQUFFO1lBQ2IsWUFBWSxFQUFFLEVBQUU7WUFDaEIsVUFBVSxFQUFFLEVBQUU7U0FDZixDQUNGLENBQUM7SUFDSixDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDN0MsOEJBQThCO1FBQzlCLE9BQU87WUFDTCxTQUFTLEVBQUUsRUFBRTtZQUNiLFlBQVksRUFBRSxFQUFFO1lBQ2hCLFVBQVUsRUFBRSxFQUFFO1NBQ2YsQ0FBQztJQUNKLENBQUM7QUFDSCxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxTQUFTLGtCQUFrQixDQUFDLE9BQW9CO0lBQzlDLFFBQVEsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3JCLEtBQUssUUFBUTtZQUNYLGdCQUFnQjtZQUNoQixPQUFPLE9BQU8sT0FBTyxDQUFDLE9BQU8sS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUVwRSxLQUFLLFFBQVE7WUFDWCxrQkFBa0I7WUFD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b0I7UUFDcEIsSUFBSSxhQUFhLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDO2dCQUNILE1BQU0sa0JBQWtCLENBQUMsQ0FBQyxhQUFhLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO2dCQUMvRCxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7WUFDcEMsQ0FBQztZQUFDLE9BQU8sV0FBVyxFQUFFLENBQUM7Z0JBQ3JCLE9BQU8sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsV0FBVyxDQUFDLENBQUM7WUFDaEQsQ0FBQztRQUNILENBQUM7UUFFRCxVQUFVO1FBQ1YsSUFBSSxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUMvQixTQUFTLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUMvQixDQUFDO1FBRUQsV0FBVztRQUNYLElBQUksU0FBUyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQzlCLFNBQVMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUM5QixDQUFDO1FBRUQsU0FBUztRQUNULElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ3RCLFNBQVMsQ0FBQyxPQUFPLENBQUMsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdkUsQ0FBQztRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbInNyYzovL3RhdmVybl9oZWxwZXJfdGVtcGxhdGUvc3JjL21oamcvdXRpbHMvdW5pZmllZFJlcXVlc3RIYW5kbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog57uf5LiA6K+35rGC5aSE55CG5ZmoXG4gKiDlpITnkIbmiYDmnInnsbvlnovnmoTmuLjmiI/or7fmsYLvvJrlj5HpgIHpgInpobnjgIHoh6rlrprkuYnkv6Hmga/jgIHmi5vli5/jgIHljYfnuqfjgIHkuJbnlYznqb/otopcbiAqL1xuXG4vLyDlhajlsYDlh73mlbDlo7DmmI7vvIjnlLHphZLppobliqnmiYvmj5DkvpvvvIlcbmRlY2xhcmUgZnVuY3Rpb24gZ2V0Q2hhdE1lc3NhZ2VzKFxuICByYW5nZTogc3RyaW5nIHwgbnVtYmVyLFxuICBvcHRpb25zPzogeyByb2xlPzogJ2FsbCcgfCAnc3lzdGVtJyB8ICdhc3Npc3RhbnQnIHwgJ3VzZXInIH0sXG4pOiBBcnJheTx7IG1lc3NhZ2U6IHN0cmluZzsgbWVzc2FnZV9pZDogbnVtYmVyOyByb2xlOiBzdHJpbmc7IGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH0+O1xuXG5kZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZUNoYXRNZXNzYWdlcyhcbiAgbWVzc2FnZXM6IEFycmF5PHsgcm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJzsgbWVzc2FnZTogc3RyaW5nOyBkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PiB9PixcbiAgb3B0aW9ucz86IHsgcmVmcmVzaD86ICdub25lJyB8ICdhZmZlY3RlZCcgfCAnYWxsJyB9LFxuKTogUHJvbWlzZTx2b2lkPjtcblxuZGVjbGFyZSBmdW5jdGlvbiBkZWxldGVDaGF0TWVzc2FnZXMobWVzc2FnZV9pZHM6IG51bWJlcltdLCBvcHRpb25zPzogeyByZWZyZXNoPzogJ25vbmUnIHwgJ2FsbCcgfSk6IFByb21pc2U8dm9pZD47XG5cbmRlY2xhcmUgZnVuY3Rpb24gZ2V0TGFzdE1lc3NhZ2VJZCgpOiBudW1iZXI7XG5cbmRlY2xhcmUgZnVuY3Rpb24gc2V0Q2hhdE1lc3NhZ2VzKFxuICBjaGF0X21lc3NhZ2VzOiBBcnJheTx7IG1lc3NhZ2VfaWQ6IG51bWJlcjsgbWVzc2FnZT86IHN0cmluZzsgZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT4gfT4sXG4gIG9wdGlvbnM/OiB7IHJlZnJlc2g/OiAnbm9uZScgfCAnYWZmZWN0ZWQnIHwgJ2FsbCcgfSxcbik6IFByb21pc2U8dm9pZD47XG5cbmRlY2xhcmUgZnVuY3Rpb24gZ2VuZXJhdGUoY29uZmlnOiB7IHVzZXJfaW5wdXQ/OiBzdHJpbmc7IHNob3VsZF9zdHJlYW0/OiBib29sZWFuIH0pOiBQcm9taXNlPHN0cmluZz47XG5cbmRlY2xhcmUgZnVuY3Rpb24gZm9ybWF0QXNUYXZlcm5SZWdleGVkU3RyaW5nKFxuICB0ZXh0OiBzdHJpbmcsXG4gIHNvdXJjZTogJ3VzZXJfaW5wdXQnIHwgJ2FpX291dHB1dCcgfCAnc2xhc2hfY29tbWFuZCcgfCAnd29ybGRfaW5mbycgfCAncmVhc29uaW5nJyxcbiAgZGVzdGluYXRpb246ICdkaXNwbGF5JyB8ICdwcm9tcHQnLFxuICBvcHRpb25zPzogeyBkZXB0aD86IG51bWJlcjsgY2hhcmFjdGVyX25hbWU/OiBzdHJpbmcgfSxcbik6IHN0cmluZztcblxuZGVjbGFyZSBmdW5jdGlvbiBnZXRXb3JsZGJvb2soXG4gIHdvcmxkYm9va19uYW1lOiBzdHJpbmcsXG4pOiBQcm9taXNlPEFycmF5PHsgdWlkOiBudW1iZXI7IG5hbWU6IHN0cmluZzsgZW5hYmxlZDogYm9vbGVhbjsgW2tleTogc3RyaW5nXTogYW55IH0+PjtcblxuZGVjbGFyZSBmdW5jdGlvbiB1cGRhdGVXb3JsZGJvb2tXaXRoKFxuICB3b3JsZGJvb2tfbmFtZTogc3RyaW5nLFxuICB1cGRhdGVyOiAoXG4gICAgd29ybGRib29rOiBBcnJheTx7IHVpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmc7IGVuYWJsZWQ6IGJvb2xlYW47IFtrZXk6IHN0cmluZ106IGFueSB9PixcbiAgKSA9PiBBcnJheTx7IHVpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmc7IGVuYWJsZWQ6IGJvb2xlYW47IFtrZXk6IHN0cmluZ106IGFueSB9PixcbiAgb3B0aW9ucz86IHsgcmVuZGVyPzogJ2RlYm91bmNlZCcgfCAnaW1tZWRpYXRlJyB9LFxuKTogUHJvbWlzZTxBcnJheTx7IHVpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmc7IGVuYWJsZWQ6IGJvb2xlYW47IFtrZXk6IHN0cmluZ106IGFueSB9Pj47XG5cbmV4cG9ydCB0eXBlIFJlcXVlc3RUeXBlID0gJ29wdGlvbicgfCAnY3VzdG9tJyB8ICdyZWNydWl0JyB8ICd1cGdyYWRlJyB8ICd3b3JsZC10cmF2ZWwnIHwgJ2d1ZXN0LWludGVyYWN0JztcblxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0RGF0YSB7XG4gIHR5cGU6IFJlcXVlc3RUeXBlO1xuICAvLyBvcHRpb246IOmAiemhueaWh+acrFxuICAvLyBjdXN0b206IOiHquWumuS5ieaWh+acrFxuICAvLyByZWNydWl0OiDmi5vli5/kv6Hmga9cbiAgLy8gdXBncmFkZTog5Y2H57qn5L+h5oGvXG4gIC8vIHdvcmxkLXRyYXZlbDog5LiW55WM5ZCN56ewXG4gIGNvbnRlbnQ6IHN0cmluZyB8IFJlY3J1aXREYXRhIHwgVXBncmFkZURhdGEgfCBXb3JsZFRyYXZlbERhdGE7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVjcnVpdERhdGEge1xuICBwb3NpdGlvbjogc3RyaW5nO1xuICBzYWxhcnk6IHN0cmluZztcbiAgZ2VuZGVyOiBzdHJpbmc7XG4gIHJlcXVpcmVtZW50cz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGdyYWRlRGF0YSB7XG4gIGZhY2lsaXR5TmFtZTogc3RyaW5nO1xuICBmYWNpbGl0eUxldmVsOiBudW1iZXI7XG4gIGNvc3Q6IHtcbiAgICBnb2xkPzogbnVtYmVyO1xuICAgIG1hdGVyaWFscz86IG51bWJlcjtcbiAgfTtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ybGRUcmF2ZWxEYXRhIHtcbiAgd29ybGROYW1lOiBzdHJpbmc7XG59XG5cbi8qKlxuICog6I635Y+W5Z+656GAIE1WVSDmlbDmja7vvIjnlKjkuo7kvKDpgJLliLDmlrDmpbzlsYLvvIlcbiAqIOazqOaEj++8muS4jeino+aekOa2iOaBr+S4reeahCBNVlUg5ZG95Luk77yM6K6pIE1WVSDns7vnu5/oh6rliqjlpITnkIZcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0QmFzZU12dURhdGEoKTogUHJvbWlzZTxhbnk+IHtcbiAgdHJ5IHtcbiAgICAvLyDnoa7kv50gTVZVIOW3suWIneWni+WMllxuICAgIGF3YWl0IHdhaXRHbG9iYWxJbml0aWFsaXplZCgnTXZ1Jyk7XG5cbiAgICAvLyDkvJjlhYjku44gTVZVIOezu+e7n+ivu+WPluacgOaWsOalvOWxgueahOWPmOmHj+aVsOaNru+8iOehruS/neaVsOaNruaYr+acgOaWsOeahO+8iVxuICAgIC8vIOi/meagt+S4jiByZWFkR2FtZURhdGEoKSDnmoTor7vlj5bmlrnlvI/kv53mjIHkuIDoh7RcbiAgICBjb25zdCBiYXNlID0gTXZ1LmdldE12dURhdGEoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6ICdsYXRlc3QnIH0pO1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIOS7jiBNVlUg6I635Y+W5Z+656GA5pWw5o2uJyk7XG5cbiAgICAvLyDov5Tlm57ln7rnoYDmlbDmja7vvIzkuI3ov5vooYzku7vkvZXop6PmnpBcbiAgICByZXR1cm4gKFxuICAgICAgYmFzZSA/PyB7XG4gICAgICAgIHN0YXRfZGF0YToge30sXG4gICAgICAgIGRpc3BsYXlfZGF0YToge30sXG4gICAgICAgIGRlbHRhX2RhdGE6IHt9LFxuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8g6I635Y+WIE1WVSDmlbDmja7lpLHotKXvvIzkvb/nlKjnqbrlr7nosaE6JywgZXJyb3IpO1xuICAgIC8vIOWmguaenCBNVlUg5LiN5Y+v55So77yM6L+U5Zue5LiA5Liq5Z+65pys55qEIE1WVSDmlbDmja7nu5PmnoRcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdF9kYXRhOiB7fSxcbiAgICAgIGRpc3BsYXlfZGF0YToge30sXG4gICAgICBkZWx0YV9kYXRhOiB7fSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICog5p6E5bu66K+35rGC5o+Q56S66K+NXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkUmVxdWVzdFByb21wdChyZXF1ZXN0OiBSZXF1ZXN0RGF0YSk6IHN0cmluZyB7XG4gIHN3aXRjaCAocmVxdWVzdC50eXBlKSB7XG4gICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgIC8vIOWPkemAgemAiemhue+8muebtOaOpeS9v+eUqOmAiemhueaWh+acrFxuICAgICAgcmV0dXJuIHR5cGVvZiByZXF1ZXN0LmNvbnRlbnQgPT09ICdzdHJpbmcnID8gcmVxdWVzdC5jb250ZW50IDogJyc7XG5cbiAgICBjYXNlICdjdXN0b20nOlxuICAgICAgLy8g6Ieq5a6a5LmJ5L+h5oGv77ya55u05o6l5L2/55So6Ieq5a6a5LmJ5paH5pysXG4gICAgICByZXR1cm4gdHlwZW9mIHJlcXVlc3QuY29udGVudCA9PT0gJ3N0cmluZycgPyByZXF1ZXN0LmNvbnRlbnQgOiAnJztcblxuICAgIGNhc2UgJ3JlY3J1aXQnOiB7XG4gICAgICAvLyDmi5vli5/vvJrmnoTlu7rmi5vli5/mj5DnpLror41cbiAgICAgIGNvbnN0IHJlY3J1aXREYXRhID0gcmVxdWVzdC5jb250ZW50IGFzIFJlY3J1aXREYXRhO1xuICAgICAgY29uc3QgZ2VuZGVyVGV4dCA9XG4gICAgICAgIHJlY3J1aXREYXRhLmdlbmRlciA9PT0gJ2FueSdcbiAgICAgICAgICA/ICfkuI3pmZAnXG4gICAgICAgICAgOiByZWNydWl0RGF0YS5nZW5kZXIgPT09ICdtYWxlJ1xuICAgICAgICAgICAgPyAn55S35oCnJ1xuICAgICAgICAgICAgOiByZWNydWl0RGF0YS5nZW5kZXIgPT09ICdmZW1hbGUnXG4gICAgICAgICAgICAgID8gJ+Wls+aApydcbiAgICAgICAgICAgICAgOiAn5YW25LuWJztcbiAgICAgIGNvbnN0IHJlcXVpcmVtZW50cyA9IHJlY3J1aXREYXRhLnJlcXVpcmVtZW50cyA/IGDvvIwke3JlY3J1aXREYXRhLnJlcXVpcmVtZW50c31gIDogJyc7XG4gICAgICByZXR1cm4gYOS9oOWGs+WumuaLm+WLn+S4gOWQjSR7cmVjcnVpdERhdGEucG9zaXRpb25977yM5bel6LWE5Li6JHtyZWNydWl0RGF0YS5zYWxhcnl96YeR5biBL+aciO+8jOaAp+WIq+imgeaxgu+8miR7Z2VuZGVyVGV4dH0ke3JlcXVpcmVtZW50c33jgILnlLHkuo7ml4XppobnmoTotoXoh6rnhLbmlYjlupTvvIznrKblkIjopoHmsYLnmoTlupTogZjogIXlvojlv6vlsLHkvJrmnaXliLDjgIJgO1xuICAgIH1cblxuICAgIGNhc2UgJ3VwZ3JhZGUnOiB7XG4gICAgICAvLyDljYfnuqfvvJrmnoTlu7rljYfnuqfmj5DnpLror41cbiAgICAgIGNvbnN0IHVwZ3JhZGVEYXRhID0gcmVxdWVzdC5jb250ZW50IGFzIFVwZ3JhZGVEYXRhO1xuICAgICAgY29uc3QgY29zdFRleHQgPSBbXTtcbiAgICAgIGlmICh1cGdyYWRlRGF0YS5jb3N0LmdvbGQpIHtcbiAgICAgICAgY29zdFRleHQucHVzaChgJHt1cGdyYWRlRGF0YS5jb3N0LmdvbGR96YeR5biBYCk7XG4gICAgICB9XG4gICAgICBpZiAodXBncmFkZURhdGEuY29zdC5tYXRlcmlhbHMpIHtcbiAgICAgICAgY29zdFRleHQucHVzaChgJHt1cGdyYWRlRGF0YS5jb3N0Lm1hdGVyaWFsc33lu7rmnZBgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvc3REZXNjID0gY29zdFRleHQubGVuZ3RoID4gMCA/IGDvvIjoirHotLnvvJoke2Nvc3RUZXh0LmpvaW4oJ+OAgScpfe+8iWAgOiAnJztcbiAgICAgIGNvbnN0IGRlc2MgPVxuICAgICAgICB1cGdyYWRlRGF0YS5kZXNjcmlwdGlvbiB8fFxuICAgICAgICBg5bCGJHt1cGdyYWRlRGF0YS5mYWNpbGl0eU5hbWV95LuOJHt1cGdyYWRlRGF0YS5mYWNpbGl0eUxldmVsfee6p+WNh+e6p+WIsCR7dXBncmFkZURhdGEuZmFjaWxpdHlMZXZlbCArIDF957qnYDtcbiAgICAgIHJldHVybiBg5L2g5Yaz5a6a5a+56YWS6aaG6L+b6KGM5LiA55Wq5Y2H57qn77yMJHtkZXNjfSR7Y29zdERlc2N944CC55Sx5LqO5peF6aaG55qE6LaF6Ieq54S254m55oCn77yM6L+Z5Lqb5Y2H57qn5bCG5Lya6Ieq5Yqo5YyW5Zyw6L+b6KGM44CCYDtcbiAgICB9XG5cbiAgICBjYXNlICdndWVzdC1pbnRlcmFjdCc6IHtcbiAgICAgIC8vIOWuouS6uuS6kuWKqO+8muebtOaOpeS9v+eUqOS6kuWKqOaPkOekuuivjVxuICAgICAgcmV0dXJuIHR5cGVvZiByZXF1ZXN0LmNvbnRlbnQgPT09ICdzdHJpbmcnID8gcmVxdWVzdC5jb250ZW50IDogJyc7XG4gICAgfVxuXG4gICAgY2FzZSAnd29ybGQtdHJhdmVsJzoge1xuICAgICAgLy8g5LiW55WM56m/6LaK77ya5p6E5bu656m/6LaK5o+Q56S66K+NXG4gICAgICBjb25zdCB3b3JsZERhdGEgPSByZXF1ZXN0LmNvbnRlbnQgYXMgV29ybGRUcmF2ZWxEYXRhO1xuICAgICAgcmV0dXJuIGDkvaDlhrPlrprorqnml4Xlupfnqb/otorliLAke3dvcmxkRGF0YS53b3JsZE5hbWV944CC55Sx5LqO5peF6aaG55qE6LaF6Ieq54S254m55oCn77yM5peF5bqX5bCG6Ieq5Yqo5a6M5oiQ5LiW55WM56m/6LaK44CCYDtcbiAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59XG5cbi8qKlxuICog56e76ZmkIDx0aGlua2luZz4g5qCH562+5Y+K5YW25YaF6YOo5omA5pyJ5YaF5a65XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZVRoaW5raW5nVGFncyh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyDljLnphY0gPHRoaW5raW5nPi4uLjwvdGhpbmtpbmc+IOagh+etvu+8iOWMheaLrOW1jOWll+eahOagh+etvu+8iVxuICAvLyDkvb/nlKjpnZ7otKrlqarljLnphY3vvIzkvYbpnIDopoHlpITnkIbltYzlpZfmg4XlhrVcbiAgbGV0IHJlc3VsdCA9IHRleHQ7XG4gIGxldCBsYXN0UmVzdWx0ID0gJyc7XG5cbiAgLy8g5b6q546v5aSE55CG77yM55u05Yiw5rKh5pyJ5pu05aSa55qEIDx0aGlua2luZz4g5qCH562+XG4gIHdoaWxlIChyZXN1bHQgIT09IGxhc3RSZXN1bHQpIHtcbiAgICBsYXN0UmVzdWx0ID0gcmVzdWx0O1xuICAgIC8vIOWMuemFjeacgOWkluWxgueahCA8dGhpbmtpbmc+IOagh+etvuWvuVxuICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC88dGhpbmtpbmc+W1xcc1xcU10qPzxcXC90aGlua2luZz4vZ2ksICcnKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICog5o+Q5Y+W5pyA5ZCO5LiA5qyh5Ye6546w55qEIDxtYWludGV4dD4g5qCH562+5YaF5a65XG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RMYXN0TWFpbnRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2goLzxtYWludGV4dD4oW1xcc1xcU10qPyk8XFwvbWFpbnRleHQ+L2dpKTtcbiAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8vIOiOt+WPluacgOWQjuS4gOS4quWMuemFjVxuICBjb25zdCBsYXN0TWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGNvbnN0IGNvbnRlbnRNYXRjaCA9IGxhc3RNYXRjaC5tYXRjaCgvPG1haW50ZXh0PihbXFxzXFxTXSo/KTxcXC9tYWludGV4dD4vaSk7XG4gIHJldHVybiBjb250ZW50TWF0Y2ggPyBjb250ZW50TWF0Y2hbMV0udHJpbSgpIDogJyc7XG59XG5cbi8qKlxuICog5o+Q5Y+W5pyA5ZCO5LiA5qyh5Ye6546w55qEIDxvcHRpb24+IOagh+etvuWGheWuuVxuICovXG5mdW5jdGlvbiBleHRyYWN0TGFzdE9wdGlvbih0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtYXRjaGVzID0gdGV4dC5tYXRjaCgvPG9wdGlvbj4oW1xcc1xcU10qPyk8XFwvb3B0aW9uPi9naSk7XG4gIGlmICghbWF0Y2hlcyB8fCBtYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICAvLyDojrflj5bmnIDlkI7kuIDkuKrljLnphY1cbiAgY29uc3QgbGFzdE1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBjb25zdCBjb250ZW50TWF0Y2ggPSBsYXN0TWF0Y2gubWF0Y2goLzxvcHRpb24+KFtcXHNcXFNdKj8pPFxcL29wdGlvbj4vaSk7XG4gIHJldHVybiBjb250ZW50TWF0Y2ggPyBjb250ZW50TWF0Y2hbMV0udHJpbSgpIDogJyc7XG59XG5cbi8qKlxuICog5o+Q5Y+W5pyA5ZCO5LiA5qyh5Ye6546w55qEIDxzdW0+IOagh+etvuWGheWuuVxuICovXG5mdW5jdGlvbiBleHRyYWN0TGFzdFN1bSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtYXRjaGVzID0gdGV4dC5tYXRjaCgvPHN1bT4oW1xcc1xcU10qPyk8XFwvc3VtPi9naSk7XG4gIGlmICghbWF0Y2hlcyB8fCBtYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICAvLyDojrflj5bmnIDlkI7kuIDkuKrljLnphY1cbiAgY29uc3QgbGFzdE1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBjb25zdCBjb250ZW50TWF0Y2ggPSBsYXN0TWF0Y2gubWF0Y2goLzxzdW0+KFtcXHNcXFNdKj8pPFxcL3N1bT4vaSk7XG4gIHJldHVybiBjb250ZW50TWF0Y2ggPyBjb250ZW50TWF0Y2hbMV0udHJpbSgpIDogJyc7XG59XG5cbi8qKlxuICog5o+Q5Y+W5pyA5ZCO5LiA5qyh5Ye6546w55qEIDxVcGRhdGVWYXJpYWJsZT4g5qCH562+5YaF5a65XG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RMYXN0VXBkYXRlVmFyaWFibGUodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgbWF0Y2hlcyA9IHRleHQubWF0Y2goLzxVcGRhdGVWYXJpYWJsZT4oW1xcc1xcU10qPyk8XFwvVXBkYXRlVmFyaWFibGU+L2dpKTtcbiAgaWYgKCFtYXRjaGVzIHx8IG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8vIOiOt+WPluacgOWQjuS4gOS4quWMuemFjVxuICBjb25zdCBsYXN0TWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGNvbnN0IGNvbnRlbnRNYXRjaCA9IGxhc3RNYXRjaC5tYXRjaCgvPFVwZGF0ZVZhcmlhYmxlPihbXFxzXFxTXSo/KTxcXC9VcGRhdGVWYXJpYWJsZT4vaSk7XG4gIGlmICghY29udGVudE1hdGNoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgY29uc3QgY29udGVudCA9IGNvbnRlbnRNYXRjaFsxXS50cmltKCk7XG5cbiAgLy8g55u05o6l6L+U5Zue5Y6f5aeL5YaF5a6577yM5LiN6L+b6KGM5Lu75L2V6L2s5o2iXG4gIC8vIE1WVSDns7vnu5/lj6/og73nm7TmjqXmlK/mjIEgSlNPTlBhdGNoIOagvOW8j++8jOi9rOaNouWPjeiAjOS8muWvvOiHtOmXrumimFxuICBjb25zb2xlLmxvZygn8J+TnSDmj5Dlj5bliLAgPFVwZGF0ZVZhcmlhYmxlPiDljp/lp4vlhoXlrrnvvIznm7TmjqXkv53nlZnvvIzkuI3ov5vooYzovazmjaInKTtcbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICog6aqM6K+B5raI5oGv5piv5ZCm56ym5ZCI6KeE6IyD77yI6Iez5bCR5YyF5ZCrIG1haW50ZXh0IOWSjCBvcHRpb27vvIlcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNZXNzYWdlKG1lc3NhZ2VDb250ZW50OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgaWYgKCFtZXNzYWdlQ29udGVudCB8fCB0eXBlb2YgbWVzc2FnZUNvbnRlbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8g56e76ZmkIHRoaW5raW5nIOagh+etvuWQjuWGjemqjOivgVxuICBjb25zdCBjbGVhbmVkID0gcmVtb3ZlVGhpbmtpbmdUYWdzKG1lc3NhZ2VDb250ZW50KTtcbiAgY29uc3QgbWFpbnRleHQgPSBleHRyYWN0TGFzdE1haW50ZXh0KGNsZWFuZWQpO1xuICBjb25zdCBvcHRpb24gPSBleHRyYWN0TGFzdE9wdGlvbihjbGVhbmVkKTtcblxuICBpZiAoIW1haW50ZXh0IHx8ICFvcHRpb24pIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDmtojmga/nvLrlsJEgPG1haW50ZXh0PiDmiJYgPG9wdGlvbj4g5qCH562+Jyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICog57uf5LiA6K+35rGC5aSE55CG5Ye95pWwXG4gKiBAcGFyYW0gcmVxdWVzdCDor7fmsYLmlbDmja5cbiAqIEBwYXJhbSBjYWxsYmFja3Mg5Zue6LCD5Ye95pWwXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVVbmlmaWVkUmVxdWVzdChcbiAgcmVxdWVzdDogUmVxdWVzdERhdGEsXG4gIGNhbGxiYWNrczoge1xuICAgIG9uU3dpdGNoVG9TdG9yeT86ICgpID0+IHZvaWQ7XG4gICAgb25SZWZyZXNoU3RvcnlJZk9wZW4/OiAoKSA9PiB2b2lkOyAvLyDlpoLmnpzprZTlhbjlt7LmiZPlvIDliJnliLfmlrDvvIzlkKbliJnkuI3mk43kvZxcbiAgICBvbkRpc2FibGVPcHRpb25zPzogKCkgPT4gdm9pZDtcbiAgICBvblNob3dHZW5lcmF0aW5nPzogKCkgPT4gdm9pZDtcbiAgICBvbkhpZGVHZW5lcmF0aW5nPzogKCkgPT4gdm9pZDtcbiAgICBvbkVuYWJsZU9wdGlvbnM/OiAoKSA9PiB2b2lkO1xuICAgIG9uRXJyb3I/OiAoZXJyb3I6IHN0cmluZykgPT4gdm9pZDtcbiAgICBvblJlZnJlc2hTdG9yeT86ICgpID0+IHZvaWQ7IC8vIOWIt+aWsOmtlOWFuOeahOWbnuiwg1xuICB9LFxuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGxldCB1c2VyTWVzc2FnZUlkOiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICB0cnkge1xuICAgIC8vIDEuIOajgOafpeW9k+WJjeaYr+WQpuWcqOmtlOWFuOmhtemdolxuICAgIGNvbnN0IHsgZ2V0QWN0aXZlVGFiIH0gPSBhd2FpdCBpbXBvcnQoJy4uL3V0aWxzL3RhYk1hbmFnZXInKTtcbiAgICBjb25zdCB7IEdhbWVUYWIgfSA9IGF3YWl0IGltcG9ydCgnLi4vdHlwZXMnKTtcbiAgICBjb25zdCBjdXJyZW50VGFiID0gZ2V0QWN0aXZlVGFiKCk7XG4gICAgY29uc3QgaXNJblN0b3J5VGFiID0gY3VycmVudFRhYiA9PT0gR2FtZVRhYi5TVE9SWTtcblxuICAgIC8vIDIuIOWmguaenOS4jeWcqOmtlOWFuOmhtemdou+8jOWIh+aNouWIsOmtlOWFuOmhtemdolxuICAgIGlmICghaXNJblN0b3J5VGFiKSB7XG4gICAgICBpZiAoY2FsbGJhY2tzLm9uU3dpdGNoVG9TdG9yeSkge1xuICAgICAgICBjYWxsYmFja3Mub25Td2l0Y2hUb1N0b3J5KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMy4g56aB55So5omA5pyJ6YCJ6aG55oyJ6ZKuXG4gICAgaWYgKGNhbGxiYWNrcy5vbkRpc2FibGVPcHRpb25zKSB7XG4gICAgICBjYWxsYmFja3Mub25EaXNhYmxlT3B0aW9ucygpO1xuICAgIH1cblxuICAgIC8vIDQuIOaYvuekulwi5Ymn5oOF5q2j5Zyo55Sf5oiQXCLmj5DnpLrmoYZcbiAgICBpZiAoY2FsbGJhY2tzLm9uU2hvd0dlbmVyYXRpbmcpIHtcbiAgICAgIGNhbGxiYWNrcy5vblNob3dHZW5lcmF0aW5nKCk7XG4gICAgfVxuXG4gICAgLy8gNS4g5p6E5bu65o+Q56S66K+NXG4gICAgY29uc3QgcHJvbXB0ID0gYnVpbGRSZXF1ZXN0UHJvbXB0KHJlcXVlc3QpO1xuICAgIGlmICghcHJvbXB0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+aXoOazleaehOW7uuaPkOekuuivjScpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfwn5OdIOaehOW7uueahOaPkOekuuivjTonLCBwcm9tcHQpO1xuXG4gICAgLy8gNi4g5qOA5rWL5ZKM5pON5L2c5LiW55WM5Lmm5p2h55uu77yI5Zyo5Yib5bu6IHVzZXIg5raI5oGv5LmL5YmN77yJXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRNZXNzYWdlSWQgPSBnZXRMYXN0TWVzc2FnZUlkKCk7XG4gICAgICAvLyDmo4DmtYvvvJrmuLjmiI/lpITkuo7lvIDlsYDliJvlu7rlkI7vvIzkuJTlj5HpgIHmtojmga/ml7bmpbzlsYLkuLox5oiWMu+8iOWIm+W7uuWJjeaYrzDmiJYx77yJXG4gICAgICBjb25zdCBpc09wZW5pbmdQaGFzZSA9IGN1cnJlbnRNZXNzYWdlSWQgPj0gMCAmJiBjdXJyZW50TWVzc2FnZUlkIDw9IDE7XG5cbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIOajgOa1i+S4lueVjOS5puadoeebru+8muW9k+WJjealvOWxgiAke2N1cnJlbnRNZXNzYWdlSWR977yMJHtpc09wZW5pbmdQaGFzZSA/ICflvIDlsYDpmLbmrrUnIDogJ+ato+W4uOmYtuautSd9YCk7XG5cbiAgICAgIC8vIOiOt+WPluS4lueVjOS5puadoeebrlxuICAgICAgY29uc3Qgd29ybGRib29rTmFtZSA9ICcw6K+45aSp5L6/5pC65peF5bqXJztcbiAgICAgIGNvbnN0IHdvcmxkYm9va0VudHJpZXMgPSBhd2FpdCBnZXRXb3JsZGJvb2sod29ybGRib29rTmFtZSk7XG5cbiAgICAgIC8vIOafpeaJvlwi5byA5bGAQ09UXCLlkoxcIkNPVFwi5p2h55uuXG4gICAgICBjb25zdCBvcGVuaW5nQ290RW50cnkgPSB3b3JsZGJvb2tFbnRyaWVzLmZpbmQoZW50cnkgPT4gZW50cnkubmFtZSA9PT0gJ+W8gOWxgENPVCcpO1xuICAgICAgY29uc3QgY290RW50cnkgPSB3b3JsZGJvb2tFbnRyaWVzLmZpbmQoZW50cnkgPT4gZW50cnkubmFtZSA9PT0gJ0NPVCcpO1xuXG4gICAgICAvLyDlh4blpIfmm7TmlrDliJfooahcbiAgICAgIGNvbnN0IHVwZGF0ZXM6IEFycmF5PHsgdWlkOiBudW1iZXI7IGVuYWJsZWQ6IGJvb2xlYW4gfT4gPSBbXTtcblxuICAgICAgaWYgKGlzT3BlbmluZ1BoYXNlKSB7XG4gICAgICAgIC8vIOW8gOWxgOmYtuaute+8muWQr+eUqFwi5byA5bGAQ09UXCLvvIzlhbPpl61cIkNPVFwiXG4gICAgICAgIGlmIChvcGVuaW5nQ290RW50cnkpIHtcbiAgICAgICAgICBpZiAoIW9wZW5pbmdDb3RFbnRyeS5lbmFibGVkKSB7XG4gICAgICAgICAgICB1cGRhdGVzLnB1c2goeyB1aWQ6IG9wZW5pbmdDb3RFbnRyeS51aWQsIGVuYWJsZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIOWQr+eUqOadoeebrjog5byA5bGAQ09UJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOacquaJvuWIsFwi5byA5bGAQ09UXCLmnaHnm64nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb3RFbnRyeSkge1xuICAgICAgICAgIGlmIChjb3RFbnRyeS5lbmFibGVkKSB7XG4gICAgICAgICAgICB1cGRhdGVzLnB1c2goeyB1aWQ6IGNvdEVudHJ5LnVpZCwgZW5hYmxlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4p2MIOWFs+mXreadoeebrjogQ09UJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOacquaJvuWIsFwiQ09UXCLmnaHnm64nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5YW25LuW5pe25YCZ77ya5YWz6ZetXCLlvIDlsYBDT1RcIu+8jOW8gOWQr1wiQ09UXCJcbiAgICAgICAgaWYgKG9wZW5pbmdDb3RFbnRyeSkge1xuICAgICAgICAgIGlmIChvcGVuaW5nQ290RW50cnkuZW5hYmxlZCkge1xuICAgICAgICAgICAgdXBkYXRlcy5wdXNoKHsgdWlkOiBvcGVuaW5nQ290RW50cnkudWlkLCBlbmFibGVkOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinYwg5YWz6Zet5p2h55uuOiDlvIDlsYBDT1QnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8g5pyq5om+5YiwXCLlvIDlsYBDT1RcIuadoeebricpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvdEVudHJ5KSB7XG4gICAgICAgICAgaWYgKCFjb3RFbnRyeS5lbmFibGVkKSB7XG4gICAgICAgICAgICB1cGRhdGVzLnB1c2goeyB1aWQ6IGNvdEVudHJ5LnVpZCwgZW5hYmxlZDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUg5ZCv55So5p2h55uuOiBDT1QnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8g5pyq5om+5YiwXCJDT1RcIuadoeebricpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIOW6lOeUqOabtOaWsFxuICAgICAgaWYgKHVwZGF0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBhd2FpdCB1cGRhdGVXb3JsZGJvb2tXaXRoKHdvcmxkYm9va05hbWUsIHdvcmxkYm9vayA9PiB7XG4gICAgICAgICAgcmV0dXJuIHdvcmxkYm9vay5tYXAoZW50cnkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlID0gdXBkYXRlcy5maW5kKHUgPT4gdS51aWQgPT09IGVudHJ5LnVpZCk7XG4gICAgICAgICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLmVudHJ5LCBlbmFibGVkOiB1cGRhdGUuZW5hYmxlZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSDkuJbnlYzkuabmnaHnm67mm7TmlrDlrozmiJDvvIzlhbHmm7TmlrAgJHt1cGRhdGVzLmxlbmd0aH0g5Liq5p2h55uuYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn4oS577iPIOayoeaciemcgOimgeabtOaWsOeahOS4lueVjOS5puadoeebricpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwg5pu05paw5LiW55WM5Lmm5p2h55uu5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIC8vIOS4jeaKm+WHuumUmeivr++8jOe7p+e7reaJp+ihjOWQjue7rea1geeoi1xuICAgIH1cblxuICAgIC8vIDcuIOiOt+WPluWfuuehgCBNVlUg5pWw5o2u77yI55So5LqO5Lyg6YCS5YiwIHVzZXIg5raI5oGv77yJXG4gICAgLy8g5rOo5oSP77ya5LiN6Kej5p6Q5raI5oGv77yM6K6pIE1WVSDns7vnu5/oh6rliqjlpITnkIZcbiAgICBjb25zdCBtdnVfZGF0YSA9IGF3YWl0IGdldEJhc2VNdnVEYXRhKCk7XG5cbiAgICAvLyA4LiDliJvlu7ogdXNlciDmtojmga/vvIzkvKDpgJIgTVZVIOaVsOaNrlxuICAgIGF3YWl0IGNyZWF0ZUNoYXRNZXNzYWdlcyhcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBtZXNzYWdlOiBwcm9tcHQsXG4gICAgICAgICAgZGF0YTogbXZ1X2RhdGEsIC8vIOS8oOmAkiBNVlUg5pWw5o2u77yM56Gu5L+d5Y+Y6YeP5q2j56Gu5Lyg6YCS5Yiw5paw5qW85bGCXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAge1xuICAgICAgICByZWZyZXNoOiAnbm9uZScsIC8vIOS4jeabtOaWsOaYvuekuu+8jOeUsemtlOWFuOiHquW3seivu+WPllxuICAgICAgfSxcbiAgICApO1xuXG4gICAgLy8gOS4g6I635Y+W5Yia5Yib5bu655qEIHVzZXIg5raI5oGvIElEXG4gICAgdXNlck1lc3NhZ2VJZCA9IGdldExhc3RNZXNzYWdlSWQoKTtcbiAgICBjb25zb2xlLmxvZygn8J+TnSDliJvlu7ogdXNlciDmtojmga/vvIxJRDonLCB1c2VyTWVzc2FnZUlkKTtcblxuICAgIC8vIDEwLiDlpoLmnpzlvZPliY3lnKjprZTlhbjpobXpnaLvvIzliLfmlrDprZTlhbjmmL7npLrliJrlj5HpgIHnmoTmtojmga9cbiAgICBpZiAoaXNJblN0b3J5VGFiKSB7XG4gICAgICBpZiAoY2FsbGJhY2tzLm9uUmVmcmVzaFN0b3J5SWZPcGVuKSB7XG4gICAgICAgIGNhbGxiYWNrcy5vblJlZnJlc2hTdG9yeUlmT3BlbigpO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIOW3suWcqOmtlOWFuOmhtemdou+8jOWIt+aWsOaYvuekuueUqOaIt+a2iOaBrycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIDExLiDkvb/nlKggZ2VuZXJhdGUg55Sf5oiQIExMTSDlm57lpI3vvIjmlK/mjIHmtYHlvI/nlJ/miJDvvIlcbiAgICBjb25zb2xlLmxvZygn8J+agCDlvIDlp4vosIPnlKggZ2VuZXJhdGUg55Sf5oiQ5Zue5aSNLi4uJyk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGUoe1xuICAgICAgdXNlcl9pbnB1dDogcHJvbXB0LFxuICAgICAgc2hvdWxkX3N0cmVhbTogdHJ1ZSwgLy8g5ZCv55So5rWB5byP55Sf5oiQXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygn8J+TqCBnZW5lcmF0ZSDov5Tlm57nu5PmnpzvvIzplb/luqY6JywgcmVzdWx0Py5sZW5ndGggfHwgMCk7XG5cbiAgICAvLyAxMi4g56e76ZmkIDx0aGlua2luZz4g5qCH562+XG4gICAgY29uc3QgY2xlYW5lZFJlc3VsdCA9IHJlbW92ZVRoaW5raW5nVGFncyhyZXN1bHQpO1xuXG4gICAgLy8gMTMuIOmqjOivgei/lOWbnue7k+aenOaYr+WQpuespuWQiOinhOiMg1xuICAgIGlmICghY2xlYW5lZFJlc3VsdCB8fCAhdmFsaWRhdGVNZXNzYWdlKGNsZWFuZWRSZXN1bHQpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2VuZXJhdGUg6L+U5Zue55qE5raI5oGv5LiN56ym5ZCI6KeE6IyDJyk7XG4gICAgICAvLyDliKDpmaQgdXNlciDmtojmga9cbiAgICAgIGlmICh1c2VyTWVzc2FnZUlkICE9PSBudWxsKSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNoYXRNZXNzYWdlcyhbdXNlck1lc3NhZ2VJZF0sIHsgcmVmcmVzaDogJ25vbmUnIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyDlt7LliKDpmaTkuI3lkIjop4TnmoQgdXNlciDmtojmga8nKTtcbiAgICAgIH1cbiAgICAgIC8vIOmakOiXj+eUn+aIkOaPkOekuuahhlxuICAgICAgaWYgKGNhbGxiYWNrcy5vbkhpZGVHZW5lcmF0aW5nKSB7XG4gICAgICAgIGNhbGxiYWNrcy5vbkhpZGVHZW5lcmF0aW5nKCk7XG4gICAgICB9XG4gICAgICAvLyDph43mlrDlkK/nlKjpgInpobnmjInpkq5cbiAgICAgIGlmIChjYWxsYmFja3Mub25FbmFibGVPcHRpb25zKSB7XG4gICAgICAgIGNhbGxiYWNrcy5vbkVuYWJsZU9wdGlvbnMoKTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsYmFja3Mub25FcnJvcikge1xuICAgICAgICBjYWxsYmFja3Mub25FcnJvcign55Sf5oiQ55qE5raI5oGv5LiN56ym5ZCI6KeE6IyDJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gMTQuIOaPkOWPluacgOWQjuS4gOasoeWHuueOsOeahCA8bWFpbnRleHQ+44CBPG9wdGlvbj7jgIE8c3VtPiDlkowgPFVwZGF0ZVZhcmlhYmxlPlxuICAgIGNvbnN0IG1haW50ZXh0ID0gZXh0cmFjdExhc3RNYWludGV4dChjbGVhbmVkUmVzdWx0KTtcbiAgICBjb25zdCBvcHRpb24gPSBleHRyYWN0TGFzdE9wdGlvbihjbGVhbmVkUmVzdWx0KTtcbiAgICBjb25zdCBzdW0gPSBleHRyYWN0TGFzdFN1bShjbGVhbmVkUmVzdWx0KTtcbiAgICBjb25zdCB1cGRhdGVWYXJpYWJsZSA9IGV4dHJhY3RMYXN0VXBkYXRlVmFyaWFibGUoY2xlYW5lZFJlc3VsdCk7XG5cbiAgICBpZiAoIW1haW50ZXh0IHx8ICFvcHRpb24pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDml6Dms5Xmj5Dlj5YgbWFpbnRleHQg5oiWIG9wdGlvbicpO1xuICAgICAgLy8g5Yig6ZmkIHVzZXIg5raI5oGvXG4gICAgICBpZiAodXNlck1lc3NhZ2VJZCAhPT0gbnVsbCkge1xuICAgICAgICBhd2FpdCBkZWxldGVDaGF0TWVzc2FnZXMoW3VzZXJNZXNzYWdlSWRdLCB7IHJlZnJlc2g6ICdub25lJyB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8g5bey5Yig6Zmk5LiN5ZCI6KeE55qEIHVzZXIg5raI5oGvJyk7XG4gICAgICB9XG4gICAgICAvLyDpmpDol4/nlJ/miJDmj5DnpLrmoYZcbiAgICAgIGlmIChjYWxsYmFja3Mub25IaWRlR2VuZXJhdGluZykge1xuICAgICAgICBjYWxsYmFja3Mub25IaWRlR2VuZXJhdGluZygpO1xuICAgICAgfVxuICAgICAgLy8g6YeN5paw5ZCv55So6YCJ6aG55oyJ6ZKuXG4gICAgICBpZiAoY2FsbGJhY2tzLm9uRW5hYmxlT3B0aW9ucykge1xuICAgICAgICBjYWxsYmFja3Mub25FbmFibGVPcHRpb25zKCk7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2tzLm9uRXJyb3IpIHtcbiAgICAgICAgY2FsbGJhY2tzLm9uRXJyb3IoJ+aXoOazleaPkOWPliBtYWludGV4dCDmiJYgb3B0aW9uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gMTUuIOmHjeaWsOe7hOWQiOa2iOaBr++8iOWMheWQq+acgOWQjuS4gOasoeeahCBtYWludGV4dOOAgW9wdGlvbuOAgXN1be+8iOWmguaenOacie+8ieWSjCBVcGRhdGVWYXJpYWJsZe+8iOWmguaenOacie+8ie+8iVxuICAgIC8vIOazqOaEj++8muS4jeWGjei/m+ihjOagvOW8j+WMlu+8jOebtOaOpeS9v+eUqOWOn+Wni+WGheWuuVxuICAgIGxldCBmaW5hbE1lc3NhZ2UgPSBgPG1haW50ZXh0PiR7bWFpbnRleHR9PC9tYWludGV4dD5cXG5cXG48b3B0aW9uPiR7b3B0aW9ufTwvb3B0aW9uPmA7XG4gICAgaWYgKHN1bSkge1xuICAgICAgZmluYWxNZXNzYWdlICs9IGBcXG5cXG48c3VtPiR7c3VtfTwvc3VtPmA7XG4gICAgICBjb25zb2xlLmxvZygn8J+TnSDmj5Dlj5bliLAgPHN1bT4g5qCH562+OicsIHN1bSk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVWYXJpYWJsZSkge1xuICAgICAgZmluYWxNZXNzYWdlICs9IGBcXG5cXG48VXBkYXRlVmFyaWFibGU+JHt1cGRhdGVWYXJpYWJsZX08L1VwZGF0ZVZhcmlhYmxlPmA7XG4gICAgICBjb25zb2xlLmxvZygn8J+TnSDmj5Dlj5bliLAgPFVwZGF0ZVZhcmlhYmxlPiDmoIfnrb46JywgdXBkYXRlVmFyaWFibGUpO1xuICAgIH1cblxuICAgIC8vIDE2LiDmraXpqqQx77ya56Gu5L+dIE1WVSDlt7LliJ3lp4vljJZcbiAgICBjb25zb2xlLmxvZygn8J+UpyBb5q2l6aqkMV0g562J5b6FIE1WVSDns7vnu5/liJ3lp4vljJYuLi4nKTtcbiAgICBhd2FpdCB3YWl0R2xvYmFsSW5pdGlhbGl6ZWQoJ012dScpO1xuICAgIGNvbnNvbGUubG9nKCfinIUgW+atpemqpDFdIE1WVSDns7vnu5/lt7LliJ3lp4vljJYnKTtcblxuICAgIC8vIDE3LiDmraXpqqQy77ya6I635Y+W5Z+656GAIE1WVSDmlbDmja7vvIjkvJjlhYjku47liJrliJvlu7rnmoQgdXNlciDmtojmga/or7vlj5bvvIznoa7kv53mlbDmja7mmK/mnIDmlrDnmoTvvIlcbiAgICAvLyDms6jmhI/vvJrmraTml7bmnIDmlrDnmoTmtojmga/mmK/liJrliJvlu7rnmoQgdXNlciDmtojmga/vvIzlupTor6Xku47lroPor7vlj5YgZGF0YVxuICAgIGNvbnNvbGUubG9nKCfwn5OKIFvmraXpqqQyXSDlvIDlp4vojrflj5bln7rnoYAgTVZVIOaVsOaNri4uLicpO1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIFvmraXpqqQyXSB1c2VyIOa2iOaBryBJRDonLCB1c2VyTWVzc2FnZUlkKTtcbiAgICBsZXQgYmFzZTogYW55O1xuICAgIGlmICh1c2VyTWVzc2FnZUlkICE9PSBudWxsKSB7XG4gICAgICBjb25zdCB1c2VyTWVzc2FnZSA9IGdldENoYXRNZXNzYWdlcyh1c2VyTWVzc2FnZUlkKT8uWzBdO1xuICAgICAgaWYgKHVzZXJNZXNzYWdlPy5kYXRhKSB7XG4gICAgICAgIGJhc2UgPSB1c2VyTWVzc2FnZS5kYXRhO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIFvmraXpqqQyXSDku47liJrliJvlu7rnmoQgdXNlciDmtojmga/or7vlj5bln7rnoYDmlbDmja4nKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW+atpemqpDJdIOWfuuehgOaVsOaNruaRmOimgTonLCB7XG4gICAgICAgICAgaGFzX3N0YXRfZGF0YTogISFiYXNlLnN0YXRfZGF0YSxcbiAgICAgICAgICBoYXNfZGlzcGxheV9kYXRhOiAhIWJhc2UuZGlzcGxheV9kYXRhLFxuICAgICAgICAgIGhhc19kZWx0YV9kYXRhOiAhIWJhc2UuZGVsdGFfZGF0YSxcbiAgICAgICAgICBpbml0aWFsaXplZF9sb3JlYm9va3NfY291bnQ6IGJhc2UuaW5pdGlhbGl6ZWRfbG9yZWJvb2tzPy5sZW5ndGggfHwgMCxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIFvmraXpqqQyXSB1c2VyIOa2iOaBr+ayoeaciSBkYXRhIOWtl+autScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWmguaenCB1c2VyIOa2iOaBr+ayoeaciSBkYXRh77yM5YiZ5LuO5pyA5paw55qEIGFzc2lzdGFudCDmtojmga/miJYgTVZVIOivu+WPllxuICAgIGlmICghYmFzZSkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogW+atpemqpDJdIOWwneivleS7juacgOaWsOeahCBhc3Npc3RhbnQg5raI5oGv5oiWIE1WVSDor7vlj5YuLi4nKTtcbiAgICAgIGJhc2UgPVxuICAgICAgICBnZXRDaGF0TWVzc2FnZXMoLTEsIHsgcm9sZTogJ2Fzc2lzdGFudCcgfSk/LlswXT8uZGF0YSA/P1xuICAgICAgICBNdnUuZ2V0TXZ1RGF0YSh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogJ2xhdGVzdCcgfSk7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIFvmraXpqqQyXSDku47mnIDmlrDnmoQgYXNzaXN0YW50IOa2iOaBr+aIliBNVlUg6K+75Y+W5Z+656GA5pWw5o2uJyk7XG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBb5q2l6aqkMl0g5Z+656GA5pWw5o2u5pGY6KaBOicsIHtcbiAgICAgICAgaGFzX3N0YXRfZGF0YTogISFiYXNlPy5zdGF0X2RhdGEsXG4gICAgICAgIGhhc19kaXNwbGF5X2RhdGE6ICEhYmFzZT8uZGlzcGxheV9kYXRhLFxuICAgICAgICBoYXNfZGVsdGFfZGF0YTogISFiYXNlPy5kZWx0YV9kYXRhLFxuICAgICAgICBpbml0aWFsaXplZF9sb3JlYm9va3NfY291bnQ6IGJhc2U/LmluaXRpYWxpemVkX2xvcmVib29rcz8ubGVuZ3RoIHx8IDAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyDnoa7kv50gYmFzZSDmlbDmja7nu5PmnoTlrozmlbRcbiAgICBpZiAoIWJhc2UgfHwgdHlwZW9mIGJhc2UgIT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIFvmraXpqqQyXSBiYXNlIOaVsOaNruaXoOaViO+8jOS9v+eUqOepuuWvueixoScpO1xuICAgICAgYmFzZSA9IHsgc3RhdF9kYXRhOiB7fSwgZGlzcGxheV9kYXRhOiB7fSwgZGVsdGFfZGF0YToge30gfTtcbiAgICB9XG4gICAgaWYgKCFiYXNlLnN0YXRfZGF0YSkgYmFzZS5zdGF0X2RhdGEgPSB7fTtcbiAgICBpZiAoIWJhc2UuZGlzcGxheV9kYXRhKSBiYXNlLmRpc3BsYXlfZGF0YSA9IHt9O1xuICAgIGlmICghYmFzZS5kZWx0YV9kYXRhKSBiYXNlLmRlbHRhX2RhdGEgPSB7fTtcbiAgICBpZiAoIWJhc2UuaW5pdGlhbGl6ZWRfbG9yZWJvb2tzKSBiYXNlLmluaXRpYWxpemVkX2xvcmVib29rcyA9IFtdO1xuICAgIGNvbnNvbGUubG9nKCfinIUgW+atpemqpDJdIOWfuuehgOaVsOaNrue7k+aehOW3suehruS/neWujOaVtCcpO1xuXG4gICAgLy8gMTguIOatpemqpDPvvJrlhYjop6PmnpDmtojmga/kuK3nmoQgTVZVIOWRveS7pO+8iOaMieeFp+ekuuS+i+eUqOazle+8muWFiOino+aekO+8jOWGjeWIm+W7uua2iOaBr++8iVxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFvmraXpqqQzXSDlvIDlp4vop6PmnpDmtojmga/kuK3nmoQgTVZVIOWRveS7pC4uLicpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFvmraXpqqQzXSDop6PmnpDln7rnoYDmlbDmja7mkZjopoE6Jywge1xuICAgICAgaGFzX3N0YXRfZGF0YTogISFiYXNlLnN0YXRfZGF0YSxcbiAgICAgIHN0YXRfZGF0YV9rZXlzOiBPYmplY3Qua2V5cyhiYXNlLnN0YXRfZGF0YSB8fCB7fSksXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gW+atpemqpDNdIOa2iOaBr+WGheWuueaRmOimgTonLCB7XG4gICAgICBtZXNzYWdlX2xlbmd0aDogZmluYWxNZXNzYWdlPy5sZW5ndGggfHwgMCxcbiAgICAgIGNvbnRhaW5zX3VwZGF0ZXZhcmlhYmxlOiBmaW5hbE1lc3NhZ2U/LmluY2x1ZGVzKCc8VXBkYXRlVmFyaWFibGU+JykgfHwgZmFsc2UsXG4gICAgICBjb250YWluc19qc29ucGF0Y2g6IGZpbmFsTWVzc2FnZT8uaW5jbHVkZXMoJzxKU09OUGF0Y2g+JykgfHwgZmFsc2UsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gW+atpemqpDNdIOiwg+eUqCBNdnUucGFyc2VNZXNzYWdlKGZpbmFsTWVzc2FnZSwgYmFzZSkuLi4nKTtcbiAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBNdnUucGFyc2VNZXNzYWdlKGZpbmFsTWVzc2FnZSwgYmFzZSk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gW+atpemqpDNdIHBhcnNlTWVzc2FnZSDov5Tlm57nu5Pmnpw6JywgcGFyc2VkID8gJ+acieino+aekOe7k+aenCcgOiAn5peg6Kej5p6Q57uT5p6c77yIdW5kZWZpbmVk77yJJyk7XG5cbiAgICAvLyDkvb/nlKjop6PmnpDlkI7nmoTmlbDmja7vvIzlpoLmnpzmsqHmnInop6PmnpDnu5PmnpzliJnkvb/nlKjln7rnoYDmlbDmja5cbiAgICBjb25zdCBmaW5hbERhdGEgPSBwYXJzZWQgPz8gYmFzZTtcbiAgICBjb25zb2xlLmxvZygn8J+TiiBb5q2l6aqkM10g5pyA57uI5L2/55So55qE5pWw5o2uOicsIHBhcnNlZCA/ICfop6PmnpDlkI7nmoTmlbDmja4nIDogJ+WfuuehgOaVsOaNricpO1xuICAgIGlmIChwYXJzZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFvmraXpqqQzXSDop6PmnpDlkI7nmoTmlbDmja7mkZjopoE6Jywge1xuICAgICAgICBoYXNfc3RhdF9kYXRhOiAhIXBhcnNlZC5zdGF0X2RhdGEsXG4gICAgICAgIGhhc19kaXNwbGF5X2RhdGE6ICEhcGFyc2VkLmRpc3BsYXlfZGF0YSxcbiAgICAgICAgaGFzX2RlbHRhX2RhdGE6ICEhcGFyc2VkLmRlbHRhX2RhdGEsXG4gICAgICAgIHN0YXRfZGF0YV9rZXlzOiBPYmplY3Qua2V5cyhwYXJzZWQuc3RhdF9kYXRhIHx8IHt9KSxcbiAgICAgICAgZGVsdGFfZGF0YV9rZXlzOiBPYmplY3Qua2V5cyhwYXJzZWQuZGVsdGFfZGF0YSB8fCB7fSksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyAxOS4g5q2l6aqkNO+8muWIm+W7uiBhc3Npc3RhbnQg5raI5oGv77yM55u05o6l5Lyg5YWl6Kej5p6Q5ZCO55qE5pWw5o2u77yI5oyJ54Wn56S65L6L55So5rOV77yJXG4gICAgY29uc29sZS5sb2coJ/Cfk50gW+atpemqpDRdIOW8gOWni+WIm+W7uiBhc3Npc3RhbnQg5raI5oGv77yI5Lyg5YWl6Kej5p6Q5ZCO55qE5pWw5o2u77yJLi4uJyk7XG4gICAgY29uc29sZS5sb2coJ/Cfk50gW+atpemqpDRdIOa2iOaBr+mVv+W6pjonLCBmaW5hbE1lc3NhZ2U/Lmxlbmd0aCB8fCAwKTtcbiAgICBhd2FpdCBjcmVhdGVDaGF0TWVzc2FnZXMoXG4gICAgICBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgICBtZXNzYWdlOiBmaW5hbE1lc3NhZ2UgPz8gJycsXG4gICAgICAgICAgZGF0YTogZmluYWxEYXRhLCAvLyDnm7TmjqXkvKDlhaXop6PmnpDlkI7nmoTmlbDmja7vvIzlpoLmnpzmsqHmnInop6PmnpDnu5PmnpzliJnkvb/nlKjln7rnoYDmlbDmja5cbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICB7XG4gICAgICAgIHJlZnJlc2g6ICdub25lJyxcbiAgICAgIH0sXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIFvmraXpqqQ0XSBhc3Npc3RhbnQg5raI5oGv5bey5Yib5bu677yI5bey5Lyg5YWl6Kej5p6Q5ZCO55qE5pWw5o2u77yJJyk7XG5cbiAgICAvLyAyMC4g5q2l6aqkNe+8muiOt+WPluaWsOWIm+W7uueahOa2iOaBryBJRFxuICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2VJZCA9IGdldExhc3RNZXNzYWdlSWQoKTtcbiAgICBjb25zb2xlLmxvZygn8J+GlCBb5q2l6aqkNV0g6I635Y+W5paw5Yib5bu655qE5raI5oGvIElEOicsIGFzc2lzdGFudE1lc3NhZ2VJZCk7XG5cbiAgICAvLyDpqozor4Hmtojmga/nmoQgZGF0YSDlrZfmrrXmmK/lkKbmraPnoa5cbiAgICBjb25zdCB2ZXJpZnlNZXNzYWdlID0gZ2V0Q2hhdE1lc3NhZ2VzKGFzc2lzdGFudE1lc3NhZ2VJZCk/LlswXTtcbiAgICBpZiAodmVyaWZ5TWVzc2FnZT8uZGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBb5q2l6aqkNV0g6aqM6K+B77ya5raI5oGvIGRhdGEg5a2X5q615bey5a2Y5ZyoJyk7XG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBb5q2l6aqkNV0g5raI5oGvIGRhdGEg5a2X5q615pGY6KaBOicsIHtcbiAgICAgICAgaGFzX3N0YXRfZGF0YTogISF2ZXJpZnlNZXNzYWdlLmRhdGEuc3RhdF9kYXRhLFxuICAgICAgICBzdGF0X2RhdGFfa2V5czogT2JqZWN0LmtleXModmVyaWZ5TWVzc2FnZS5kYXRhLnN0YXRfZGF0YSB8fCB7fSksXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gW+atpemqpDVdIOmqjOivge+8mua2iOaBryBkYXRhIOWtl+auteS4jeWtmOWcqCcpO1xuICAgIH1cblxuICAgIC8vIDIxLiDmm7TmlrDnvJblubTlj7JcbiAgICBjb25zdCB7IGNoZWNrQW5kVXBkYXRlQ2hyb25pY2xlIH0gPSBhd2FpdCBpbXBvcnQoJy4vY2hyb25pY2xlVXBkYXRlcicpO1xuICAgIGF3YWl0IGNoZWNrQW5kVXBkYXRlQ2hyb25pY2xlKCk7XG5cbiAgICAvLyAyMi4g6ZqQ6JeP55Sf5oiQ5o+Q56S65qGG77yI5YWI6YeN572u55Sf5oiQ54q25oCB77yM6L+Z5qC35Yi35paw5pe25LiN5Lya6KKr5bu26L+f77yJXG4gICAgaWYgKGNhbGxiYWNrcy5vbkhpZGVHZW5lcmF0aW5nKSB7XG4gICAgICBjYWxsYmFja3Mub25IaWRlR2VuZXJhdGluZygpO1xuICAgIH1cblxuICAgIC8vIDIwLiDku47mlrDliJvlu7rnmoTmtojmga/kuK3or7vlj5blhoXlrrnlubbliLfmlrDprZTlhbjmmL7npLpcbiAgICAvLyDlu7bov5/kuIDkuIvvvIznoa7kv53mtojmga/lt7Lnu4/lrozlhajliJvlu7rlkozmm7TmlrDvvIzlubbkuJTnlJ/miJDnirbmgIHlt7Lph43nva5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChjYWxsYmFja3Mub25SZWZyZXNoU3RvcnkpIHtcbiAgICAgICAgY2FsbGJhY2tzLm9uUmVmcmVzaFN0b3J5KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUg5bey5LuO5paw5Yib5bu655qE5raI5oGv5Yi35paw6a2U5YW45pi+56S6Jyk7XG4gICAgICB9XG4gICAgfSwgMzAwKTtcblxuICAgIC8vIDIzLiDph43mlrDlkK/nlKjpgInpobnmjInpkq7vvIjlpoLmnpzpnIDopoHvvIlcbiAgICAvLyDms6jmhI/vvJrpgInpobnmjInpkq7kvJrlnKjmtojmga/mm7TmlrDlkI7oh6rliqjliLfmlrDvvIzov5nph4zkuI3pnIDopoHmiYvliqjlkK/nlKhcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDlpITnkIbnu5/kuIDor7fmsYLlpLHotKU6JywgZXJyb3IpO1xuXG4gICAgLy8g5aaC5p6c5Yib5bu65LqGIHVzZXIg5raI5oGv77yM5Yig6Zmk5a6DXG4gICAgaWYgKHVzZXJNZXNzYWdlSWQgIT09IG51bGwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRlbGV0ZUNoYXRNZXNzYWdlcyhbdXNlck1lc3NhZ2VJZF0sIHsgcmVmcmVzaDogJ25vbmUnIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+Xke+4jyDlt7LliKDpmaTlpLHotKXnmoQgdXNlciDmtojmga8nKTtcbiAgICAgIH0gY2F0Y2ggKGRlbGV0ZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDliKDpmaQgdXNlciDmtojmga/lpLHotKU6JywgZGVsZXRlRXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOmakOiXj+eUn+aIkOaPkOekuuahhlxuICAgIGlmIChjYWxsYmFja3Mub25IaWRlR2VuZXJhdGluZykge1xuICAgICAgY2FsbGJhY2tzLm9uSGlkZUdlbmVyYXRpbmcoKTtcbiAgICB9XG5cbiAgICAvLyDph43mlrDlkK/nlKjpgInpobnmjInpkq5cbiAgICBpZiAoY2FsbGJhY2tzLm9uRW5hYmxlT3B0aW9ucykge1xuICAgICAgY2FsbGJhY2tzLm9uRW5hYmxlT3B0aW9ucygpO1xuICAgIH1cblxuICAgIC8vIOaYvuekuumUmeivr+S/oeaBr1xuICAgIGlmIChjYWxsYmFja3Mub25FcnJvcikge1xuICAgICAgY2FsbGJhY2tzLm9uRXJyb3IoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn5aSE55CG6K+35rGC5aSx6LSlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/mhjg/utils/unifiedRequestHandler.ts\n\n}");
  },
  "./src/mhjg/utils/variableReader.ts": 
  /*!******************************************!*\
  !*** ./src/mhjg/utils/variableReader.ts ***!
  \******************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readGameData: () => (/* binding */ readGameData)\n/* harmony export */ });\n/**\n * å˜é‡è¯»å–å·¥å…·\n * ç»Ÿä¸€ä»æœ€æ–°æ¶ˆæ¯æ¥¼å±‚å˜é‡è¯»å–æ¸¸æˆæ•°æ®\n */\n// MVU åˆå§‹åŒ–çŠ¶æ€\nlet mvuInitialized = false;\nlet mvuInitPromise = null;\n/**\n * ä»åµŒå¥—å¯¹è±¡ä¸­æå–å€¼ï¼Œæ”¯æŒ MVU æ ¼å¼ [å€¼, \"æè¿°\"]\n */\nfunction pick(obj, path, fallback) {\n    if (!obj)\n        return fallback;\n    const parts = path.split('.');\n    let cur = obj;\n    for (const p of parts) {\n        if (cur == null)\n            return fallback;\n        // å¤„ç† MVU æ ¼å¼ [å€¼, \"æè¿°\"]\n        if (Array.isArray(cur) && cur.length > 0) {\n            cur = cur[0];\n        }\n        cur = cur[p];\n    }\n    // å¦‚æœæœ€ç»ˆå€¼æ˜¯ MVU æ ¼å¼ï¼Œè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå®é™…å€¼ï¼‰\n    if (Array.isArray(cur) && cur.length > 0)\n        return cur[0] ?? fallback;\n    return cur ?? fallback;\n}\n/**\n * ç¡®ä¿ MVU å·²åˆå§‹åŒ–\n */\nasync function ensureMvuInitialized() {\n    if (mvuInitialized) {\n        return;\n    }\n    if (mvuInitPromise) {\n        return mvuInitPromise;\n    }\n    mvuInitPromise = (async () => {\n        try {\n            await waitGlobalInitialized('Mvu');\n            mvuInitialized = true;\n            console.log('âœ… MVU åˆå§‹åŒ–å®Œæˆ');\n        }\n        catch (error) {\n            console.warn('âš ï¸ ç­‰å¾… MVU åˆå§‹åŒ–å¤±è´¥:', error);\n            // å³ä½¿å¤±è´¥ä¹Ÿæ ‡è®°ä¸ºå·²å°è¯•ï¼Œé¿å…æ— é™ç­‰å¾…\n            mvuInitialized = true;\n        }\n    })();\n    return mvuInitPromise;\n}\n/**\n * ä»æœ€æ–°æ¶ˆæ¯æ¥¼å±‚å˜é‡è¯»å– MVU æ•°æ®ï¼ˆä¼˜å…ˆè¯»å–æœ€æ–°æ¥¼å±‚ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¯»å–0å±‚ï¼‰\n */\n/**\n * æ£€æŸ¥ stat_data æ˜¯å¦æœ‰å®é™…å†…å®¹ï¼ˆä¸æ˜¯ç©ºå¯¹è±¡ï¼‰\n */\nfunction hasStatDataContent(stat_data) {\n    if (!stat_data || typeof stat_data !== 'object') {\n        return false;\n    }\n    // æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é”®ï¼ˆæ’é™¤ç©ºå¯¹è±¡ï¼‰\n    return Object.keys(stat_data).length > 0;\n}\nasync function getGameMvuData() {\n    // ç¡®ä¿ MVU å·²åˆå§‹åŒ–\n    await ensureMvuInitialized();\n    // ä¼˜å…ˆä»æœ€æ–°çš„ assistant æ¶ˆæ¯è¯»å–ï¼ˆä¸é¡µé¢åŠ è½½æ—¶çš„æ–¹æ³•ä¸€è‡´ï¼‰\n    try {\n        const assistantMessages = getChatMessages(-1, { role: 'assistant' });\n        if (assistantMessages && assistantMessages.length > 0) {\n            const latestAssistant = assistantMessages[assistantMessages.length - 1];\n            const messageId = latestAssistant.message_id;\n            // å°è¯•ä»è¯¥ assistant æ¶ˆæ¯è¯»å– MVU æ•°æ®\n            try {\n                const mvuData = Mvu.getMvuData({ type: 'message', message_id: messageId });\n                if (mvuData && mvuData.stat_data && hasStatDataContent(mvuData.stat_data)) {\n                    console.log(`âœ… ä»æœ€æ–° assistant æ¶ˆæ¯ï¼ˆID: ${messageId}ï¼‰è¯»å– MVU æ•°æ®`);\n                    return mvuData;\n                }\n            }\n            catch (err) {\n                console.warn(`âš ï¸ ä» assistant æ¶ˆæ¯ ${messageId} è¯»å– MVU æ•°æ®å¤±è´¥ï¼Œå°è¯•å…¶ä»–æ–¹å¼`, err);\n            }\n            // å°è¯•ä»è¯¥ assistant æ¶ˆæ¯çš„ data å­—æ®µè¯»å–\n            if (latestAssistant.data && latestAssistant.data.stat_data && hasStatDataContent(latestAssistant.data.stat_data)) {\n                console.log(`âœ… ä»æœ€æ–° assistant æ¶ˆæ¯ï¼ˆID: ${messageId}ï¼‰çš„ data å­—æ®µè¯»å–å˜é‡æ•°æ®`);\n                return {\n                    stat_data: latestAssistant.data.stat_data || {},\n                    display_data: latestAssistant.data?.display_data,\n                };\n            }\n        }\n    }\n    catch (err) {\n        console.warn('âš ï¸ è·å–æœ€æ–° assistant æ¶ˆæ¯å¤±è´¥ï¼Œå°è¯•å…¶ä»–æ–¹å¼', err);\n    }\n    // é€€åŒ–ï¼šä½¿ç”¨ Mvu.getMvuData è¯»å–æœ€æ–°æ¥¼å±‚å˜é‡\n    try {\n        const mvuData = Mvu.getMvuData({ type: 'message', message_id: 'latest' });\n        // ç¡®ä¿ stat_data å­˜åœ¨ä¸”æœ‰å®é™…å†…å®¹ï¼ˆä¸æ˜¯ç©ºå¯¹è±¡ï¼‰\n        if (mvuData && mvuData.stat_data && hasStatDataContent(mvuData.stat_data)) {\n            console.log('âœ… ä»æœ€æ–°æ¥¼å±‚è¯»å– MVU æ•°æ®');\n            return mvuData;\n        }\n        else {\n            console.warn('âš ï¸ æœ€æ–°æ¥¼å±‚çš„ stat_data ä¸ºç©ºæˆ–ä¸å­˜åœ¨ï¼Œå°è¯•å…¶ä»–æ–¹å¼');\n        }\n    }\n    catch (err) {\n        console.warn('âš ï¸ Mvu.getMvuData(latest) å¤±è´¥ï¼Œå°è¯•ä» getVariables è¯»å–', err);\n    }\n    // é€€åŒ–ï¼šä½¿ç”¨ getVariables è¯»å–æœ€æ–°æ¥¼å±‚å˜é‡\n    try {\n        const variables = getVariables({ type: 'message', message_id: 'latest' });\n        // ç¡®ä¿ stat_data å­˜åœ¨ä¸”æœ‰å®é™…å†…å®¹\n        if (variables && variables.stat_data && hasStatDataContent(variables.stat_data)) {\n            console.log('âœ… ä»æœ€æ–°æ¥¼å±‚è¯»å–å˜é‡æ•°æ®ï¼ˆé€šè¿‡ getVariablesï¼‰');\n            return {\n                stat_data: variables.stat_data || {},\n                display_data: variables?.display_data,\n            };\n        }\n        else {\n            console.warn('âš ï¸ æœ€æ–°æ¥¼å±‚çš„å˜é‡ stat_data ä¸ºç©ºæˆ–ä¸å­˜åœ¨');\n        }\n    }\n    catch (err) {\n        console.warn('âš ï¸ æ— æ³•è·å–æœ€æ–°æ¥¼å±‚å˜é‡ï¼Œå°è¯•è¯»å–0å±‚', err);\n    }\n    // å¦‚æœæœ€æ–°æ¥¼å±‚æ²¡æœ‰æ•°æ®ï¼Œå°è¯•è¯»å–0å±‚ï¼ˆç”¨äºåˆå§‹åŒ–æ•°æ®ï¼‰\n    try {\n        const mvuData = Mvu.getMvuData({ type: 'message', message_id: 0 });\n        if (mvuData && mvuData.stat_data && hasStatDataContent(mvuData.stat_data)) {\n            console.log('âœ… ä»0å±‚è¯»å– MVU æ•°æ®ï¼ˆæœ€æ–°æ¥¼å±‚æ— æ•°æ®ï¼‰');\n            return mvuData;\n        }\n        else {\n            console.warn('âš ï¸ 0å±‚çš„ stat_data ä¸ºç©ºæˆ–ä¸å­˜åœ¨');\n        }\n    }\n    catch (err) {\n        console.warn('âš ï¸ Mvu.getMvuData(0) å¤±è´¥', err);\n    }\n    try {\n        const variables = getVariables({ type: 'message', message_id: 0 });\n        if (variables && variables.stat_data && hasStatDataContent(variables.stat_data)) {\n            console.log('âœ… ä»0å±‚è¯»å–å˜é‡æ•°æ®ï¼ˆé€šè¿‡ getVariablesï¼‰');\n            return {\n                stat_data: variables.stat_data || {},\n                display_data: variables?.display_data,\n            };\n        }\n        else {\n            console.warn('âš ï¸ 0å±‚çš„å˜é‡ stat_data ä¸ºç©ºæˆ–ä¸å­˜åœ¨');\n        }\n    }\n    catch (err) {\n        console.warn('âš ï¸ æ— æ³•è·å–0å±‚å˜é‡ï¼Œè¿”å›ç©ºå¯¹è±¡', err);\n    }\n    console.warn('âš ï¸ æ— æ³•è·å–ä»»ä½•æ¥¼å±‚çš„æ•°æ®ï¼Œè¿”å›ç©ºå¯¹è±¡');\n    return { stat_data: {} };\n}\n/**\n * ä»0å±‚æ¶ˆæ¯æ¥¼å±‚å˜é‡è¯»å–æ¸¸æˆæ•°æ®ï¼ˆstat_data ä¸ºä¸»ï¼‰ï¼Œç”¨äºç•Œé¢å±•ç¤º\n */\nasync function readGameData() {\n    const m = await getGameMvuData();\n    const stat = m?.stat_data || {};\n    const innName = pick(stat, 'æ—…åº—.åç§°', 'å¤šæ¬¡å…ƒä¾¿æºæ—…åº—');\n    const currentWorld = pick(stat, 'æ—…åº—.å½“å‰ä¸–ç•Œ.ä¸–ç•Œå', 'è‰¾å°”åˆ©äºšå¤§é™†');\n    const businessStatus = pick(stat, 'æ—…åº—.è¥ä¸šçŠ¶æ€', 'è¥ä¸šä¸­');\n    const popularity = pick(stat, 'æ—…åº—.å—æ¬¢è¿åº¦', 20);\n    const occupancy = pick(stat, 'æ—…åº—.å…¥ä½ç‡', 0);\n    // å¤„ç†æ³•åˆ™åˆ—è¡¨ï¼ˆå¯¹è±¡æ ¼å¼ï¼Œä»¥æ³•åˆ™åä¸º keyï¼‰\n    let lawList = [];\n    const lawsListRaw = pick(stat, 'æ—…åº—.æ—…é¦†æ³•åˆ™.æ³•åˆ™åˆ—è¡¨', {});\n    if (typeof lawsListRaw === 'object' && lawsListRaw !== null && !Array.isArray(lawsListRaw)) {\n        // å¯¹è±¡æ ¼å¼ï¼š{ \"ç¦é­”\": { \"æ³•åˆ™æ•ˆæœ\": \"...\" }, ... }\n        lawList = Object.entries(lawsListRaw).map(([æ³•åˆ™å, value]) => {\n            const lawValue = value;\n            return {\n                æ³•åˆ™å: æ³•åˆ™å,\n                æ³•åˆ™æ•ˆæœ: (lawValue && typeof lawValue === 'object' && lawValue.æ³•åˆ™æ•ˆæœ) || '',\n            };\n        });\n    }\n    else if (Array.isArray(lawsListRaw)) {\n        // å…¼å®¹æ—§æ ¼å¼ï¼šæ•°ç»„æ ¼å¼\n        lawList = lawsListRaw.map((law) => {\n            if (typeof law === 'object' && law !== null) {\n                return {\n                    æ³•åˆ™å: law.æ³•åˆ™å || '',\n                    æ³•åˆ™æ•ˆæœ: law.æ³•åˆ™æ•ˆæœ || '',\n                };\n            }\n            return { æ³•åˆ™å: '', æ³•åˆ™æ•ˆæœ: '' };\n        });\n    }\n    // å¤„ç†å½“å‰æ³•åˆ™\n    const currentLawRaw = pick(stat, 'æ—…åº—.æ—…é¦†æ³•åˆ™.å½“å‰æ³•åˆ™', null);\n    let currentLaw = null;\n    if (currentLawRaw && typeof currentLawRaw === 'object' && !Array.isArray(currentLawRaw)) {\n        // å¯¹è±¡æ ¼å¼ï¼š{ \"æ³•åˆ™å\": \"...\", \"æ³•åˆ™æ•ˆæœ\": \"...\" }\n        currentLaw = {\n            æ³•åˆ™å: currentLawRaw.æ³•åˆ™å || '',\n            æ³•åˆ™æ•ˆæœ: currentLawRaw.æ³•åˆ™æ•ˆæœ || '',\n        };\n    }\n    else if (typeof currentLawRaw === 'string') {\n        // å…¼å®¹æ—§æ ¼å¼ï¼šåªæœ‰æ³•åˆ™å\n        const lawName = currentLawRaw;\n        const lawEffect = lawsListRaw && typeof lawsListRaw === 'object' && !Array.isArray(lawsListRaw)\n            ? lawsListRaw[lawName]?.æ³•åˆ™æ•ˆæœ || ''\n            : '';\n        currentLaw = { æ³•åˆ™å: lawName, æ³•åˆ™æ•ˆæœ: lawEffect };\n    }\n    // å¤„ç†å½“å‰å‡†å…¥æ¡ä»¶\n    const currentAccessModeRaw = pick(stat, 'æ—…åº—.å‡†å…¥æ¡ä»¶.å½“å‰å‡†å…¥æ¡ä»¶', null);\n    let currentAccessMode = null;\n    if (currentAccessModeRaw) {\n        let modeObj = currentAccessModeRaw;\n        // å¤„ç† MVU æ ¼å¼ [å€¼, \"æè¿°\"]\n        if (Array.isArray(currentAccessModeRaw)) {\n            if (currentAccessModeRaw.length > 0) {\n                modeObj = currentAccessModeRaw[0];\n            }\n        }\n        if (modeObj && typeof modeObj === 'object' && !Array.isArray(modeObj)) {\n            currentAccessMode = {\n                æ¨¡å¼åç§°: modeObj.æ¨¡å¼åç§° || '',\n                æ¡ä»¶æè¿°: modeObj.æ¡ä»¶æè¿° || '',\n            };\n        }\n    }\n    // å¤„ç†å‡†å…¥æ¡ä»¶åˆ—è¡¨ï¼ˆå¯¹è±¡æ ¼å¼ï¼Œä»¥æ¨¡å¼åç§°ä¸º keyï¼‰\n    let accessModeList = [];\n    const accessModeListRaw = pick(stat, 'æ—…åº—.å‡†å…¥æ¡ä»¶.å‡†å…¥æ¡ä»¶åˆ—è¡¨', {});\n    if (typeof accessModeListRaw === 'object' && accessModeListRaw !== null && !Array.isArray(accessModeListRaw)) {\n        // å¯¹è±¡æ ¼å¼ï¼š{ \"å®ä½“æ˜¾ç°\": { \"æ¡ä»¶æè¿°\": \"...\" }, ... }\n        accessModeList = Object.entries(accessModeListRaw).map(([æ¨¡å¼åç§°, value]) => {\n            const modeValue = value;\n            return {\n                æ¨¡å¼åç§°: æ¨¡å¼åç§°,\n                æ¡ä»¶æè¿°: (modeValue && typeof modeValue === 'object' && modeValue.æ¡ä»¶æè¿°) || '',\n            };\n        });\n    }\n    else if (Array.isArray(accessModeListRaw)) {\n        // å…¼å®¹æ—§æ ¼å¼ï¼šæ•°ç»„æ ¼å¼\n        let accessModeListValue = accessModeListRaw;\n        if (Array.isArray(accessModeListRaw) && accessModeListRaw.length > 0 && Array.isArray(accessModeListRaw[0])) {\n            accessModeListValue = accessModeListRaw[0];\n        }\n        if (Array.isArray(accessModeListValue)) {\n            accessModeList = accessModeListValue.map((mode) => {\n                if (typeof mode === 'object' && mode !== null) {\n                    return {\n                        æ¨¡å¼åç§°: mode.æ¨¡å¼åç§° || '',\n                        æ¡ä»¶æè¿°: mode.æ¡ä»¶æè¿° || '',\n                    };\n                }\n                return { æ¨¡å¼åç§°: '', æ¡ä»¶æè¿°: '' };\n            });\n        }\n    }\n    // è¯»å–æ—…åº—å¤–è§‚æè¿°\n    const innAppearanceRaw = pick(stat, 'æ—…åº—.å¤–è§‚æè¿°', '');\n    let innAppearance = '';\n    if (typeof innAppearanceRaw === 'string') {\n        innAppearance = innAppearanceRaw;\n    }\n    else if (Array.isArray(innAppearanceRaw)) {\n        if (innAppearanceRaw.length > 0) {\n            innAppearance = innAppearanceRaw[0] || '';\n        }\n    }\n    // å¦‚æœæ²¡æœ‰å¤–è§‚æè¿°ï¼Œä½¿ç”¨é»˜è®¤å€¼\n    if (!innAppearance) {\n        innAppearance = 'ç‚‰ç«æ¸©æš–åœ°å™¼å•ªä½œå“ï¼Œé‚€è¯·ç€æ¥è‡ªå„ä¸ªç»´åº¦çš„ç–²æƒ«æ—…äººã€‚ç©ºæ°”ä¸­å¼¥æ¼«ç€çƒ¤è‚‰çš„é¦™å‘³å’Œè‡­æ°§çš„æ°”æ¯ã€‚';\n    }\n    // è¯»å–è®¤çŸ¥ä¿®æ­£æ•ˆæœ\n    const cognitiveEffectRaw = pick(stat, 'æ—…åº—.è®¤çŸ¥ä¿®æ­£æ•ˆæœ', '');\n    let cognitiveEffect = '';\n    if (typeof cognitiveEffectRaw === 'string') {\n        cognitiveEffect = cognitiveEffectRaw;\n    }\n    else if (Array.isArray(cognitiveEffectRaw)) {\n        if (cognitiveEffectRaw.length > 0) {\n            cognitiveEffect = cognitiveEffectRaw[0] || '';\n        }\n    }\n    const gold = pick(stat, 'èµ„æº.é‡‘å¸', 0);\n    const reputation = pick(stat, 'èµ„æº.å£°æœ›', 0);\n    const materials = pick(stat, 'èµ„æº.å»ºæ', 0);\n    const day = pick(stat, 'æ—¶é—´.å¤©æ•°', 1);\n    const currentTime = pick(stat, 'æ—¶é—´.å½“å‰æ—¶é—´', '09:00');\n    // å¤„ç†è®¾æ–½æ•°æ®ï¼ˆå¯¹è±¡æ ¼å¼ï¼Œä»¥è®¾æ–½åç§°ä¸º keyï¼‰\n    // ç›´æ¥è®¿é—® stat.è®¾æ–½.è®¾æ–½åˆ—è¡¨ï¼Œå› ä¸º pick å‡½æ•°å¯èƒ½æ— æ³•æ­£ç¡®å¤„ç†åµŒå¥—å¯¹è±¡\n    let facilitiesListRaw = null;\n    if (stat.è®¾æ–½ && stat.è®¾æ–½.è®¾æ–½åˆ—è¡¨) {\n        // å¤„ç† MVU æ ¼å¼ï¼šå¦‚æœ è®¾æ–½åˆ—è¡¨ æ˜¯ [å€¼, \"æè¿°\"] æ ¼å¼ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ \n        if (Array.isArray(stat.è®¾æ–½.è®¾æ–½åˆ—è¡¨) && stat.è®¾æ–½.è®¾æ–½åˆ—è¡¨.length > 0) {\n            facilitiesListRaw = stat.è®¾æ–½.è®¾æ–½åˆ—è¡¨[0];\n        }\n        else {\n            facilitiesListRaw = stat.è®¾æ–½.è®¾æ–½åˆ—è¡¨;\n        }\n    }\n    console.log('ğŸ“‹ è¯»å–è®¾æ–½æ•°æ®:', {\n        facilitiesListRaw,\n        type: typeof facilitiesListRaw,\n        isArray: Array.isArray(facilitiesListRaw),\n        isObject: typeof facilitiesListRaw === 'object' && facilitiesListRaw !== null,\n        stat_è®¾æ–½: stat.è®¾æ–½,\n        stat_è®¾æ–½_è®¾æ–½åˆ—è¡¨: stat.è®¾æ–½?.è®¾æ–½åˆ—è¡¨,\n    });\n    let facilities = [];\n    if (typeof facilitiesListRaw === 'object' && facilitiesListRaw !== null && !Array.isArray(facilitiesListRaw)) {\n        // å¯¹è±¡æ ¼å¼ï¼š{ \"å®¢æˆ¿\": { \"åç§°\": \"å®¢æˆ¿\", ... }, ... }\n        facilities = Object.entries(facilitiesListRaw)\n            .map(([, facilityValue]) => {\n            // å¤„ç† MVU æ ¼å¼ï¼šå¦‚æœ facilityValue æ˜¯ [å€¼, \"æè¿°\"] æ ¼å¼ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ \n            let facility = facilityValue;\n            if (Array.isArray(facilityValue) && facilityValue.length > 0) {\n                facility = facilityValue[0];\n            }\n            // å¦‚æœ facility æ˜¯å¯¹è±¡ä¸”æœ‰åç§°å±æ€§ï¼Œè¿”å›å¤„ç†åçš„å¯¹è±¡\n            if (facility && typeof facility === 'object' && facility.åç§°) {\n                return {\n                    åç§°: facility.åç§° || '',\n                    ç­‰çº§: facility.ç­‰çº§ || 1,\n                    å½“å‰ç­‰çº§æè¿°: facility.å½“å‰ç­‰çº§æè¿° || '',\n                };\n            }\n            return null;\n        })\n            .filter((fac) => fac !== null);\n        console.log('âœ… å¤„ç†åçš„è®¾æ–½æ•°ç»„:', facilities);\n    }\n    else if (Array.isArray(facilitiesListRaw)) {\n        // å…¼å®¹æ—§æ ¼å¼ï¼šæ•°ç»„æ ¼å¼\n        facilities = facilitiesListRaw\n            .map((fac) => {\n            if (typeof fac === 'object' && fac !== null) {\n                return {\n                    åç§°: fac.åç§° || '',\n                    ç­‰çº§: fac.ç­‰çº§ || 1,\n                    å½“å‰ç­‰çº§æè¿°: fac.å½“å‰ç­‰çº§æè¿° || '',\n                };\n            }\n            return null;\n        })\n            .filter((fac) => fac !== null && fac.åç§° !== '');\n        console.log('âœ… ä½¿ç”¨æ•°ç»„æ ¼å¼çš„è®¾æ–½æ•°æ®:', facilities);\n    }\n    else {\n        console.warn('âš ï¸ è®¾æ–½æ•°æ®æ ¼å¼ä¸æ­£ç¡®:', facilitiesListRaw);\n    }\n    // å¤„ç†å®¢äººæ•°æ®ï¼ˆå¯¹è±¡æ ¼å¼ï¼Œä»¥å®¢äººåç§°ä¸º keyï¼‰\n    // ç›´æ¥è®¿é—® stat.å®¢äºº.å®¢äººåˆ—è¡¨ï¼Œå› ä¸º pick å‡½æ•°å¯èƒ½æ— æ³•æ­£ç¡®å¤„ç†åµŒå¥—å¯¹è±¡\n    let guestsListRaw = null;\n    if (stat.å®¢äºº && stat.å®¢äºº.å®¢äººåˆ—è¡¨) {\n        // å¤„ç† MVU æ ¼å¼ï¼šå¦‚æœ å®¢äººåˆ—è¡¨ æ˜¯ [å€¼, \"æè¿°\"] æ ¼å¼ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ \n        if (Array.isArray(stat.å®¢äºº.å®¢äººåˆ—è¡¨) && stat.å®¢äºº.å®¢äººåˆ—è¡¨.length > 0) {\n            guestsListRaw = stat.å®¢äºº.å®¢äººåˆ—è¡¨[0];\n        }\n        else {\n            guestsListRaw = stat.å®¢äºº.å®¢äººåˆ—è¡¨;\n        }\n    }\n    console.log('ğŸ“‹ è¯»å–å®¢äººæ•°æ®:', {\n        guestsListRaw,\n        type: typeof guestsListRaw,\n        isArray: Array.isArray(guestsListRaw),\n        isObject: typeof guestsListRaw === 'object' && guestsListRaw !== null,\n        stat_å®¢äºº: stat.å®¢äºº,\n        stat_å®¢äºº_å®¢äººåˆ—è¡¨: stat.å®¢äºº?.å®¢äººåˆ—è¡¨,\n    });\n    let guests = [];\n    if (typeof guestsListRaw === 'object' && guestsListRaw !== null && !Array.isArray(guestsListRaw)) {\n        // å¯¹è±¡æ ¼å¼ï¼š{ \"å¢å¡æ–¯\": { \"åç§°\": \"å¢å¡æ–¯\", ... }, ... }\n        guests = Object.entries(guestsListRaw)\n            .map(([, guestValue]) => {\n            // å¤„ç† MVU æ ¼å¼ï¼šå¦‚æœ guestValue æ˜¯ [å€¼, \"æè¿°\"] æ ¼å¼ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ \n            let guest = guestValue;\n            if (Array.isArray(guestValue) && guestValue.length > 0) {\n                guest = guestValue[0];\n            }\n            // å¦‚æœ guest æ˜¯å¯¹è±¡ä¸”æœ‰åç§°å±æ€§ï¼Œè¿”å›å¤„ç†åçš„å¯¹è±¡\n            if (guest && typeof guest === 'object' && guest.åç§°) {\n                return guest;\n            }\n            return null;\n        })\n            .filter((guest) => guest !== null);\n        console.log('âœ… å¤„ç†åçš„å®¢äººæ•°ç»„:', guests);\n    }\n    else if (Array.isArray(guestsListRaw)) {\n        // å…¼å®¹æ—§æ ¼å¼ï¼šæ•°ç»„æ ¼å¼\n        guests = guestsListRaw;\n        console.log('âœ… ä½¿ç”¨æ•°ç»„æ ¼å¼çš„å®¢äººæ•°æ®:', guests);\n    }\n    else {\n        console.warn('âš ï¸ å®¢äººæ•°æ®æ ¼å¼ä¸æ­£ç¡®æˆ–ä¸ºç©º:', guestsListRaw);\n    }\n    // å¤„ç†å‘˜å·¥æ•°æ®ï¼ˆå¯¹è±¡æ ¼å¼ï¼Œä»¥å‘˜å·¥åç§°ä¸º keyï¼‰\n    const staffListRaw = pick(stat, 'å‘˜å·¥.å‘˜å·¥åˆ—è¡¨', {});\n    let staff = [];\n    if (typeof staffListRaw === 'object' && staffListRaw !== null && !Array.isArray(staffListRaw)) {\n        // å¯¹è±¡æ ¼å¼ï¼š{ \"å‘˜å·¥å\": { \"åç§°\": \"å‘˜å·¥å\", ... }, ... }\n        staff = Object.values(staffListRaw).filter((employee) => {\n            return employee && typeof employee === 'object' && employee.åç§°;\n        });\n    }\n    else if (Array.isArray(staffListRaw)) {\n        // å…¼å®¹æ—§æ ¼å¼ï¼šæ•°ç»„æ ¼å¼\n        staff = staffListRaw;\n    }\n    return {\n        innName: typeof innName === 'string' ? innName : 'å¤šæ¬¡å…ƒä¾¿æºæ—…åº—',\n        currentWorld: typeof currentWorld === 'string' ? currentWorld : 'è‰¾å°”åˆ©äºšå¤§é™†',\n        businessStatus: typeof businessStatus === 'string' ? businessStatus : 'è¥ä¸šä¸­',\n        popularity: Number(popularity) || 0,\n        occupancy: Number(occupancy) || 0,\n        innLaw: currentLaw?.æ³•åˆ™å || 'ä¸­ç«‹',\n        currentLaw,\n        lawList,\n        currentAccessMode,\n        accessModeList,\n        innAppearance: typeof innAppearance === 'string'\n            ? innAppearance\n            : 'ç‚‰ç«æ¸©æš–åœ°å™¼å•ªä½œå“ï¼Œé‚€è¯·ç€æ¥è‡ªå„ä¸ªç»´åº¦çš„ç–²æƒ«æ—…äººã€‚ç©ºæ°”ä¸­å¼¥æ¼«ç€çƒ¤è‚‰çš„é¦™å‘³å’Œè‡­æ°§çš„æ°”æ¯ã€‚',\n        gold: Number(gold) || 0,\n        reputation: Number(reputation) || 0,\n        materials: Number(materials) || 0,\n        day: Number(day) || 1,\n        currentTime: typeof currentTime === 'string' ? currentTime : '09:00',\n        facilities,\n        guests,\n        staff,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDO1FBQ25DLFNBQVMsRUFBRSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQztRQUNqQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7UUFDckIsV0FBVyxFQUFFLE9BQU8sV0FBVyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxPQUFPO1FBQ3BFLFVBQVU7UUFDVixNQUFNO1FBQ04sS0FBSztLQUNOLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJzcmM6Ly90YXZlcm5faGVscGVyX3RlbXBsYXRlL3NyYy9taGpnL3V0aWxzL3ZhcmlhYmxlUmVhZGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog5Y+Y6YeP6K+75Y+W5bel5YW3XG4gKiDnu5/kuIDku47mnIDmlrDmtojmga/mpbzlsYLlj5jph4/or7vlj5bmuLjmiI/mlbDmja5cbiAqL1xuXG4vLyDlhajlsYDlh73mlbDlo7DmmI7vvIjnlLHphZLppobliqnmiYvmj5DkvpvvvIlcbmRlY2xhcmUgZnVuY3Rpb24gZ2V0VmFyaWFibGVzKG9wdGlvbjogeyB0eXBlOiAnbWVzc2FnZSc7IG1lc3NhZ2VfaWQ6IG51bWJlciB8ICdsYXRlc3QnIH0pOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuZGVjbGFyZSBmdW5jdGlvbiB3YWl0R2xvYmFsSW5pdGlhbGl6ZWQ8VD4oZ2xvYmFsOiAnTXZ1JyB8IHN0cmluZyk6IFByb21pc2U8VD47XG5kZWNsYXJlIGZ1bmN0aW9uIGdldENoYXRNZXNzYWdlcyhyYW5nZTogc3RyaW5nIHwgbnVtYmVyLCBvcHRpb25zPzogeyByb2xlPzogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJyB9KTogQXJyYXk8eyBtZXNzYWdlX2lkOiBudW1iZXI7IHJvbGU6IHN0cmluZzsgZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT4gfT47XG5kZWNsYXJlIGZ1bmN0aW9uIGdldExhc3RNZXNzYWdlSWQoKTogbnVtYmVyO1xuXG4vLyBNVlUg5Y+Y6YeP5qGG5p625aOw5piOXG5kZWNsYXJlIGNvbnN0IE12dToge1xuICBnZXRNdnVEYXRhOiAob3B0aW9uczogeyB0eXBlOiAnbWVzc2FnZScgfCAnY2hhdCcgfCAnY2hhcmFjdGVyJyB8ICdnbG9iYWwnOyBtZXNzYWdlX2lkPzogbnVtYmVyIHwgJ2xhdGVzdCcgfSkgPT4ge1xuICAgIHN0YXRfZGF0YTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICBkaXNwbGF5X2RhdGE6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgZGVsdGFfZGF0YTogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgfTtcbn07XG5cbi8vIE1WVSDliJ3lp4vljJbnirbmgIFcbmxldCBtdnVJbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xubGV0IG12dUluaXRQcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgbnVsbCA9IG51bGw7XG5cbnR5cGUgVmFsdWUgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgUmVjb3JkPHN0cmluZywgYW55PiB8IEFycmF5PGFueT4gfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIOS7juW1jOWll+WvueixoeS4reaPkOWPluWAvO+8jOaUr+aMgSBNVlUg5qC85byPIFvlgLwsIFwi5o+P6L+wXCJdXG4gKi9cbmZ1bmN0aW9uIHBpY2s8VCBleHRlbmRzIFZhbHVlPihvYmo6IGFueSwgcGF0aDogc3RyaW5nLCBmYWxsYmFjazogVCk6IFQge1xuICBpZiAoIW9iaikgcmV0dXJuIGZhbGxiYWNrO1xuICBjb25zdCBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgbGV0IGN1cjogYW55ID0gb2JqO1xuICBmb3IgKGNvbnN0IHAgb2YgcGFydHMpIHtcbiAgICBpZiAoY3VyID09IG51bGwpIHJldHVybiBmYWxsYmFjaztcbiAgICAvLyDlpITnkIYgTVZVIOagvOW8jyBb5YC8LCBcIuaPj+i/sFwiXVxuICAgIGlmIChBcnJheS5pc0FycmF5KGN1cikgJiYgY3VyLmxlbmd0aCA+IDApIHtcbiAgICAgIGN1ciA9IGN1clswXTtcbiAgICB9XG4gICAgY3VyID0gY3VyW3BdO1xuICB9XG4gIC8vIOWmguaenOacgOe7iOWAvOaYryBNVlUg5qC85byP77yM6L+U5Zue56ys5LiA5Liq5YWD57Sg77yI5a6e6ZmF5YC877yJXG4gIGlmIChBcnJheS5pc0FycmF5KGN1cikgJiYgY3VyLmxlbmd0aCA+IDApIHJldHVybiAoY3VyWzBdIGFzIFQpID8/IGZhbGxiYWNrO1xuICByZXR1cm4gKGN1ciBhcyBUKSA/PyBmYWxsYmFjaztcbn1cblxuLyoqXG4gKiDnoa7kv50gTVZVIOW3suWIneWni+WMllxuICovXG5hc3luYyBmdW5jdGlvbiBlbnN1cmVNdnVJbml0aWFsaXplZCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKG12dUluaXRpYWxpemVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG12dUluaXRQcm9taXNlKSB7XG4gICAgcmV0dXJuIG12dUluaXRQcm9taXNlO1xuICB9XG5cbiAgbXZ1SW5pdFByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB3YWl0R2xvYmFsSW5pdGlhbGl6ZWQoJ012dScpO1xuICAgICAgbXZ1SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgY29uc29sZS5sb2coJ+KchSBNVlUg5Yid5aeL5YyW5a6M5oiQJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIOetieW+hSBNVlUg5Yid5aeL5YyW5aSx6LSlOicsIGVycm9yKTtcbiAgICAgIC8vIOWNs+S9v+Wksei0peS5n+agh+iusOS4uuW3suWwneivle+8jOmBv+WFjeaXoOmZkOetieW+hVxuICAgICAgbXZ1SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSkoKTtcblxuICByZXR1cm4gbXZ1SW5pdFByb21pc2U7XG59XG5cbi8qKlxuICog5LuO5pyA5paw5raI5oGv5qW85bGC5Y+Y6YeP6K+75Y+WIE1WVSDmlbDmja7vvIjkvJjlhYjor7vlj5bmnIDmlrDmpbzlsYLvvIzlpoLmnpzkuI3lrZjlnKjliJnor7vlj5Yw5bGC77yJXG4gKi9cbi8qKlxuICog5qOA5p+lIHN0YXRfZGF0YSDmmK/lkKbmnInlrp7pmYXlhoXlrrnvvIjkuI3mmK/nqbrlr7nosaHvvIlcbiAqL1xuZnVuY3Rpb24gaGFzU3RhdERhdGFDb250ZW50KHN0YXRfZGF0YTogYW55KTogYm9vbGVhbiB7XG4gIGlmICghc3RhdF9kYXRhIHx8IHR5cGVvZiBzdGF0X2RhdGEgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIOajgOafpeaYr+WQpuacieS7u+S9lemUru+8iOaOkumZpOepuuWvueixoe+8iVxuICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdF9kYXRhKS5sZW5ndGggPiAwO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRHYW1lTXZ1RGF0YSgpOiBQcm9taXNlPHsgc3RhdF9kYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+OyBkaXNwbGF5X2RhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH0+IHtcbiAgLy8g56Gu5L+dIE1WVSDlt7LliJ3lp4vljJZcbiAgYXdhaXQgZW5zdXJlTXZ1SW5pdGlhbGl6ZWQoKTtcblxuICAvLyDkvJjlhYjku47mnIDmlrDnmoQgYXNzaXN0YW50IOa2iOaBr+ivu+WPlu+8iOS4jumhtemdouWKoOi9veaXtueahOaWueazleS4gOiHtO+8iVxuICB0cnkge1xuICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2VzID0gZ2V0Q2hhdE1lc3NhZ2VzKC0xLCB7IHJvbGU6ICdhc3Npc3RhbnQnIH0pO1xuICAgIGlmIChhc3Npc3RhbnRNZXNzYWdlcyAmJiBhc3Npc3RhbnRNZXNzYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBsYXRlc3RBc3Npc3RhbnQgPSBhc3Npc3RhbnRNZXNzYWdlc1thc3Npc3RhbnRNZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGxhdGVzdEFzc2lzdGFudC5tZXNzYWdlX2lkO1xuICAgICAgXG4gICAgICAvLyDlsJ3or5Xku47or6UgYXNzaXN0YW50IOa2iOaBr+ivu+WPliBNVlUg5pWw5o2uXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtdnVEYXRhID0gTXZ1LmdldE12dURhdGEoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IG1lc3NhZ2VJZCB9KTtcbiAgICAgICAgaWYgKG12dURhdGEgJiYgbXZ1RGF0YS5zdGF0X2RhdGEgJiYgaGFzU3RhdERhdGFDb250ZW50KG12dURhdGEuc3RhdF9kYXRhKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUg5LuO5pyA5pawIGFzc2lzdGFudCDmtojmga/vvIhJRDogJHttZXNzYWdlSWR977yJ6K+75Y+WIE1WVSDmlbDmja5gKTtcbiAgICAgICAgICByZXR1cm4gbXZ1RGF0YTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIOS7jiBhc3Npc3RhbnQg5raI5oGvICR7bWVzc2FnZUlkfSDor7vlj5YgTVZVIOaVsOaNruWksei0pe+8jOWwneivleWFtuS7luaWueW8j2AsIGVycik7XG4gICAgICB9XG5cbiAgICAgIC8vIOWwneivleS7juivpSBhc3Npc3RhbnQg5raI5oGv55qEIGRhdGEg5a2X5q616K+75Y+WXG4gICAgICBpZiAobGF0ZXN0QXNzaXN0YW50LmRhdGEgJiYgbGF0ZXN0QXNzaXN0YW50LmRhdGEuc3RhdF9kYXRhICYmIGhhc1N0YXREYXRhQ29udGVudChsYXRlc3RBc3Npc3RhbnQuZGF0YS5zdGF0X2RhdGEpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUg5LuO5pyA5pawIGFzc2lzdGFudCDmtojmga/vvIhJRDogJHttZXNzYWdlSWR977yJ55qEIGRhdGEg5a2X5q616K+75Y+W5Y+Y6YeP5pWw5o2uYCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdF9kYXRhOiBsYXRlc3RBc3Npc3RhbnQuZGF0YS5zdGF0X2RhdGEgfHwge30sXG4gICAgICAgICAgZGlzcGxheV9kYXRhOiBsYXRlc3RBc3Npc3RhbnQuZGF0YT8uZGlzcGxheV9kYXRhLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8g6I635Y+W5pyA5pawIGFzc2lzdGFudCDmtojmga/lpLHotKXvvIzlsJ3or5Xlhbbku5bmlrnlvI8nLCBlcnIpO1xuICB9XG5cbiAgLy8g6YCA5YyW77ya5L2/55SoIE12dS5nZXRNdnVEYXRhIOivu+WPluacgOaWsOalvOWxguWPmOmHj1xuICB0cnkge1xuICAgIGNvbnN0IG12dURhdGEgPSBNdnUuZ2V0TXZ1RGF0YSh7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogJ2xhdGVzdCcgfSk7XG4gICAgLy8g56Gu5L+dIHN0YXRfZGF0YSDlrZjlnKjkuJTmnInlrp7pmYXlhoXlrrnvvIjkuI3mmK/nqbrlr7nosaHvvIlcbiAgICBpZiAobXZ1RGF0YSAmJiBtdnVEYXRhLnN0YXRfZGF0YSAmJiBoYXNTdGF0RGF0YUNvbnRlbnQobXZ1RGF0YS5zdGF0X2RhdGEpKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pyFIOS7juacgOaWsOalvOWxguivu+WPliBNVlUg5pWw5o2uJyk7XG4gICAgICByZXR1cm4gbXZ1RGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8g5pyA5paw5qW85bGC55qEIHN0YXRfZGF0YSDkuLrnqbrmiJbkuI3lrZjlnKjvvIzlsJ3or5Xlhbbku5bmlrnlvI8nKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUud2Fybign4pqg77iPIE12dS5nZXRNdnVEYXRhKGxhdGVzdCkg5aSx6LSl77yM5bCd6K+V5LuOIGdldFZhcmlhYmxlcyDor7vlj5YnLCBlcnIpO1xuICB9XG5cbiAgLy8g6YCA5YyW77ya5L2/55SoIGdldFZhcmlhYmxlcyDor7vlj5bmnIDmlrDmpbzlsYLlj5jph49cbiAgdHJ5IHtcbiAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6ICdsYXRlc3QnIH0pO1xuICAgIC8vIOehruS/nSBzdGF0X2RhdGEg5a2Y5Zyo5LiU5pyJ5a6e6ZmF5YaF5a65XG4gICAgaWYgKHZhcmlhYmxlcyAmJiB2YXJpYWJsZXMuc3RhdF9kYXRhICYmIGhhc1N0YXREYXRhQ29udGVudCh2YXJpYWJsZXMuc3RhdF9kYXRhKSkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSDku47mnIDmlrDmpbzlsYLor7vlj5blj5jph4/mlbDmja7vvIjpgJrov4cgZ2V0VmFyaWFibGVz77yJJyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0X2RhdGE6IHZhcmlhYmxlcy5zdGF0X2RhdGEgfHwge30sXG4gICAgICAgIGRpc3BsYXlfZGF0YTogdmFyaWFibGVzPy5kaXNwbGF5X2RhdGEsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDmnIDmlrDmpbzlsYLnmoTlj5jph48gc3RhdF9kYXRhIOS4uuepuuaIluS4jeWtmOWcqCcpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8g5peg5rOV6I635Y+W5pyA5paw5qW85bGC5Y+Y6YeP77yM5bCd6K+V6K+75Y+WMOWxgicsIGVycik7XG4gIH1cblxuICAvLyDlpoLmnpzmnIDmlrDmpbzlsYLmsqHmnInmlbDmja7vvIzlsJ3or5Xor7vlj5Yw5bGC77yI55So5LqO5Yid5aeL5YyW5pWw5o2u77yJXG4gIHRyeSB7XG4gICAgY29uc3QgbXZ1RGF0YSA9IE12dS5nZXRNdnVEYXRhKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiAwIH0pO1xuICAgIGlmIChtdnVEYXRhICYmIG12dURhdGEuc3RhdF9kYXRhICYmIGhhc1N0YXREYXRhQ29udGVudChtdnVEYXRhLnN0YXRfZGF0YSkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUg5LuOMOWxguivu+WPliBNVlUg5pWw5o2u77yI5pyA5paw5qW85bGC5peg5pWw5o2u77yJJyk7XG4gICAgICByZXR1cm4gbXZ1RGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gMOWxgueahCBzdGF0X2RhdGEg5Li656m65oiW5LiN5a2Y5ZyoJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNdnUuZ2V0TXZ1RGF0YSgwKSDlpLHotKUnLCBlcnIpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IDAgfSk7XG4gICAgaWYgKHZhcmlhYmxlcyAmJiB2YXJpYWJsZXMuc3RhdF9kYXRhICYmIGhhc1N0YXREYXRhQ29udGVudCh2YXJpYWJsZXMuc3RhdF9kYXRhKSkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSDku44w5bGC6K+75Y+W5Y+Y6YeP5pWw5o2u77yI6YCa6L+HIGdldFZhcmlhYmxlc++8iScpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdF9kYXRhOiB2YXJpYWJsZXMuc3RhdF9kYXRhIHx8IHt9LFxuICAgICAgICBkaXNwbGF5X2RhdGE6IHZhcmlhYmxlcz8uZGlzcGxheV9kYXRhLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gMOWxgueahOWPmOmHjyBzdGF0X2RhdGEg5Li656m65oiW5LiN5a2Y5ZyoJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDml6Dms5Xojrflj5Yw5bGC5Y+Y6YeP77yM6L+U5Zue56m65a+56LGhJywgZXJyKTtcbiAgfVxuXG4gIGNvbnNvbGUud2Fybign4pqg77iPIOaXoOazleiOt+WPluS7u+S9lealvOWxgueahOaVsOaNru+8jOi/lOWbnuepuuWvueixoScpO1xuICByZXR1cm4geyBzdGF0X2RhdGE6IHt9IH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2FtZURhdGEge1xuICBpbm5OYW1lOiBzdHJpbmc7XG4gIGN1cnJlbnRXb3JsZDogc3RyaW5nO1xuICBidXNpbmVzc1N0YXR1czogc3RyaW5nO1xuICBwb3B1bGFyaXR5OiBudW1iZXI7XG4gIG9jY3VwYW5jeTogbnVtYmVyO1xuICBpbm5MYXc6IHN0cmluZztcbiAgY3VycmVudExhdzogeyDms5XliJnlkI06IHN0cmluZzsg5rOV5YiZ5pWI5p6cOiBzdHJpbmcgfSB8IG51bGw7XG4gIGxhd0xpc3Q6IEFycmF5PHsg5rOV5YiZ5ZCNOiBzdHJpbmc7IOazleWImeaViOaenDogc3RyaW5nIH0+O1xuICBjdXJyZW50QWNjZXNzTW9kZTogeyDmqKHlvI/lkI3np7A6IHN0cmluZzsg5p2h5Lu25o+P6L+wOiBzdHJpbmcgfSB8IG51bGw7XG4gIGFjY2Vzc01vZGVMaXN0OiBBcnJheTx7IOaooeW8j+WQjeensDogc3RyaW5nOyDmnaHku7bmj4/ov7A6IHN0cmluZyB9PjtcbiAgaW5uQXBwZWFyYW5jZTogc3RyaW5nO1xuICBjb2duaXRpdmVFZmZlY3Q6IHN0cmluZztcbiAgZ29sZDogbnVtYmVyO1xuICByZXB1dGF0aW9uOiBudW1iZXI7XG4gIG1hdGVyaWFsczogbnVtYmVyO1xuICBkYXk6IG51bWJlcjtcbiAgY3VycmVudFRpbWU6IHN0cmluZztcbiAgZmFjaWxpdGllczogQXJyYXk8eyDlkI3np7A6IHN0cmluZzsg562J57qnOiBudW1iZXI7IOW9k+WJjeetiee6p+aPj+i/sDogc3RyaW5nIH0+O1xuICBndWVzdHM6IEFycmF5PGFueT47XG4gIHN0YWZmOiBBcnJheTxhbnk+O1xufVxuXG4vKipcbiAqIOS7jjDlsYLmtojmga/mpbzlsYLlj5jph4/or7vlj5bmuLjmiI/mlbDmja7vvIhzdGF0X2RhdGEg5Li65Li777yJ77yM55So5LqO55WM6Z2i5bGV56S6XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkR2FtZURhdGEoKTogUHJvbWlzZTxHYW1lRGF0YT4ge1xuICBjb25zdCBtID0gYXdhaXQgZ2V0R2FtZU12dURhdGEoKTtcbiAgY29uc3Qgc3RhdCA9IG0/LnN0YXRfZGF0YSB8fCB7fTtcblxuICBjb25zdCBpbm5OYW1lID0gcGljayhzdGF0LCAn5peF5bqXLuWQjeensCcsICflpJrmrKHlhYPkvr/mkLrml4XlupcnKTtcbiAgY29uc3QgY3VycmVudFdvcmxkID0gcGljayhzdGF0LCAn5peF5bqXLuW9k+WJjeS4lueVjC7kuJbnlYzlkI0nLCAn6Im+5bCU5Yip5Lqa5aSn6ZmGJyk7XG4gIGNvbnN0IGJ1c2luZXNzU3RhdHVzID0gcGljayhzdGF0LCAn5peF5bqXLuiQpeS4mueKtuaAgScsICfokKXkuJrkuK0nKTtcbiAgY29uc3QgcG9wdWxhcml0eSA9IHBpY2soc3RhdCwgJ+aXheW6ly7lj5fmrKLov47luqYnLCAyMCk7XG4gIGNvbnN0IG9jY3VwYW5jeSA9IHBpY2soc3RhdCwgJ+aXheW6ly7lhaXkvY/njocnLCAwKTtcblxuICAvLyDlpITnkIbms5XliJnliJfooajvvIjlr7nosaHmoLzlvI/vvIzku6Xms5XliJnlkI3kuLoga2V577yJXG4gIGxldCBsYXdMaXN0OiBBcnJheTx7IOazleWImeWQjTogc3RyaW5nOyDms5XliJnmlYjmnpw6IHN0cmluZyB9PiA9IFtdO1xuICBjb25zdCBsYXdzTGlzdFJhdyA9IHBpY2soc3RhdCwgJ+aXheW6ly7ml4Xppobms5XliJku5rOV5YiZ5YiX6KGoJywge30pO1xuICBpZiAodHlwZW9mIGxhd3NMaXN0UmF3ID09PSAnb2JqZWN0JyAmJiBsYXdzTGlzdFJhdyAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShsYXdzTGlzdFJhdykpIHtcbiAgICAvLyDlr7nosaHmoLzlvI/vvJp7IFwi56aB6a2UXCI6IHsgXCLms5XliJnmlYjmnpxcIjogXCIuLi5cIiB9LCAuLi4gfVxuICAgIGxhd0xpc3QgPSBPYmplY3QuZW50cmllcyhsYXdzTGlzdFJhdykubWFwKChb5rOV5YiZ5ZCNLCB2YWx1ZV0pID0+IHtcbiAgICAgIGNvbnN0IGxhd1ZhbHVlID0gdmFsdWUgYXMgYW55O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAg5rOV5YiZ5ZCNOiDms5XliJnlkI0sXG4gICAgICAgIOazleWImeaViOaenDogKGxhd1ZhbHVlICYmIHR5cGVvZiBsYXdWYWx1ZSA9PT0gJ29iamVjdCcgJiYgbGF3VmFsdWUu5rOV5YiZ5pWI5p6cKSB8fCAnJyxcbiAgICAgIH07XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShsYXdzTGlzdFJhdykpIHtcbiAgICAvLyDlhbzlrrnml6fmoLzlvI/vvJrmlbDnu4TmoLzlvI9cbiAgICBsYXdMaXN0ID0gbGF3c0xpc3RSYXcubWFwKChsYXc6IGFueSkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBsYXcgPT09ICdvYmplY3QnICYmIGxhdyAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIOazleWImeWQjTogbGF3LuazleWImeWQjSB8fCAnJyxcbiAgICAgICAgICDms5XliJnmlYjmnpw6IGxhdy7ms5XliJnmlYjmnpwgfHwgJycsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyDms5XliJnlkI06ICcnLCDms5XliJnmlYjmnpw6ICcnIH07XG4gICAgfSk7XG4gIH1cblxuICAvLyDlpITnkIblvZPliY3ms5XliJlcbiAgY29uc3QgY3VycmVudExhd1JhdyA9IHBpY2soc3RhdCwgJ+aXheW6ly7ml4Xppobms5XliJku5b2T5YmN5rOV5YiZJywgbnVsbCk7XG4gIGxldCBjdXJyZW50TGF3OiB7IOazleWImeWQjTogc3RyaW5nOyDms5XliJnmlYjmnpw6IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XG4gIGlmIChjdXJyZW50TGF3UmF3ICYmIHR5cGVvZiBjdXJyZW50TGF3UmF3ID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShjdXJyZW50TGF3UmF3KSkge1xuICAgIC8vIOWvueixoeagvOW8j++8mnsgXCLms5XliJnlkI1cIjogXCIuLi5cIiwgXCLms5XliJnmlYjmnpxcIjogXCIuLi5cIiB9XG4gICAgY3VycmVudExhdyA9IHtcbiAgICAgIOazleWImeWQjTogKGN1cnJlbnRMYXdSYXcgYXMgYW55KS7ms5XliJnlkI0gfHwgJycsXG4gICAgICDms5XliJnmlYjmnpw6IChjdXJyZW50TGF3UmF3IGFzIGFueSku5rOV5YiZ5pWI5p6cIHx8ICcnLFxuICAgIH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIGN1cnJlbnRMYXdSYXcgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8g5YW85a655pen5qC85byP77ya5Y+q5pyJ5rOV5YiZ5ZCNXG4gICAgY29uc3QgbGF3TmFtZSA9IGN1cnJlbnRMYXdSYXc7XG4gICAgY29uc3QgbGF3RWZmZWN0ID1cbiAgICAgIGxhd3NMaXN0UmF3ICYmIHR5cGVvZiBsYXdzTGlzdFJhdyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkobGF3c0xpc3RSYXcpXG4gICAgICAgID8gKGxhd3NMaXN0UmF3IGFzIGFueSlbbGF3TmFtZV0/LuazleWImeaViOaenCB8fCAnJ1xuICAgICAgICA6ICcnO1xuICAgIGN1cnJlbnRMYXcgPSB7IOazleWImeWQjTogbGF3TmFtZSwg5rOV5YiZ5pWI5p6cOiBsYXdFZmZlY3QgfTtcbiAgfVxuXG4gIC8vIOWkhOeQhuW9k+WJjeWHhuWFpeadoeS7tlxuICBjb25zdCBjdXJyZW50QWNjZXNzTW9kZVJhdzogYW55ID0gcGljayhzdGF0LCAn5peF5bqXLuWHhuWFpeadoeS7ti7lvZPliY3lh4blhaXmnaHku7YnLCBudWxsKTtcbiAgbGV0IGN1cnJlbnRBY2Nlc3NNb2RlOiB7IOaooeW8j+WQjeensDogc3RyaW5nOyDmnaHku7bmj4/ov7A6IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XG4gIGlmIChjdXJyZW50QWNjZXNzTW9kZVJhdykge1xuICAgIGxldCBtb2RlT2JqOiBhbnkgPSBjdXJyZW50QWNjZXNzTW9kZVJhdztcbiAgICAvLyDlpITnkIYgTVZVIOagvOW8jyBb5YC8LCBcIuaPj+i/sFwiXVxuICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRBY2Nlc3NNb2RlUmF3KSkge1xuICAgICAgaWYgKGN1cnJlbnRBY2Nlc3NNb2RlUmF3Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgbW9kZU9iaiA9IGN1cnJlbnRBY2Nlc3NNb2RlUmF3WzBdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobW9kZU9iaiAmJiB0eXBlb2YgbW9kZU9iaiA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkobW9kZU9iaikpIHtcbiAgICAgIGN1cnJlbnRBY2Nlc3NNb2RlID0ge1xuICAgICAgICDmqKHlvI/lkI3np7A6IG1vZGVPYmou5qih5byP5ZCN56ewIHx8ICcnLFxuICAgICAgICDmnaHku7bmj4/ov7A6IG1vZGVPYmou5p2h5Lu25o+P6L+wIHx8ICcnLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvLyDlpITnkIblh4blhaXmnaHku7bliJfooajvvIjlr7nosaHmoLzlvI/vvIzku6XmqKHlvI/lkI3np7DkuLoga2V577yJXG4gIGxldCBhY2Nlc3NNb2RlTGlzdDogQXJyYXk8eyDmqKHlvI/lkI3np7A6IHN0cmluZzsg5p2h5Lu25o+P6L+wOiBzdHJpbmcgfT4gPSBbXTtcbiAgY29uc3QgYWNjZXNzTW9kZUxpc3RSYXcgPSBwaWNrKHN0YXQsICfml4Xlupcu5YeG5YWl5p2h5Lu2LuWHhuWFpeadoeS7tuWIl+ihqCcsIHt9KTtcbiAgaWYgKHR5cGVvZiBhY2Nlc3NNb2RlTGlzdFJhdyA9PT0gJ29iamVjdCcgJiYgYWNjZXNzTW9kZUxpc3RSYXcgIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkoYWNjZXNzTW9kZUxpc3RSYXcpKSB7XG4gICAgLy8g5a+56LGh5qC85byP77yaeyBcIuWunuS9k+aYvueOsFwiOiB7IFwi5p2h5Lu25o+P6L+wXCI6IFwiLi4uXCIgfSwgLi4uIH1cbiAgICBhY2Nlc3NNb2RlTGlzdCA9IE9iamVjdC5lbnRyaWVzKGFjY2Vzc01vZGVMaXN0UmF3KS5tYXAoKFvmqKHlvI/lkI3np7AsIHZhbHVlXSkgPT4ge1xuICAgICAgY29uc3QgbW9kZVZhbHVlID0gdmFsdWUgYXMgYW55O1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAg5qih5byP5ZCN56ewOiDmqKHlvI/lkI3np7AsXG4gICAgICAgIOadoeS7tuaPj+i/sDogKG1vZGVWYWx1ZSAmJiB0eXBlb2YgbW9kZVZhbHVlID09PSAnb2JqZWN0JyAmJiBtb2RlVmFsdWUu5p2h5Lu25o+P6L+wKSB8fCAnJyxcbiAgICAgIH07XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhY2Nlc3NNb2RlTGlzdFJhdykpIHtcbiAgICAvLyDlhbzlrrnml6fmoLzlvI/vvJrmlbDnu4TmoLzlvI9cbiAgICBsZXQgYWNjZXNzTW9kZUxpc3RWYWx1ZTogYW55ID0gYWNjZXNzTW9kZUxpc3RSYXc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYWNjZXNzTW9kZUxpc3RSYXcpICYmIGFjY2Vzc01vZGVMaXN0UmF3Lmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheShhY2Nlc3NNb2RlTGlzdFJhd1swXSkpIHtcbiAgICAgIGFjY2Vzc01vZGVMaXN0VmFsdWUgPSBhY2Nlc3NNb2RlTGlzdFJhd1swXTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYWNjZXNzTW9kZUxpc3RWYWx1ZSkpIHtcbiAgICAgIGFjY2Vzc01vZGVMaXN0ID0gYWNjZXNzTW9kZUxpc3RWYWx1ZS5tYXAoKG1vZGU6IGFueSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIG1vZGUgPT09ICdvYmplY3QnICYmIG1vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAg5qih5byP5ZCN56ewOiBtb2RlLuaooeW8j+WQjeensCB8fCAnJyxcbiAgICAgICAgICAgIOadoeS7tuaPj+i/sDogbW9kZS7mnaHku7bmj4/ov7AgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyDmqKHlvI/lkI3np7A6ICcnLCDmnaHku7bmj4/ov7A6ICcnIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyDor7vlj5bml4XlupflpJbop4Lmj4/ov7BcbiAgY29uc3QgaW5uQXBwZWFyYW5jZVJhdzogYW55ID0gcGljayhzdGF0LCAn5peF5bqXLuWkluinguaPj+i/sCcsICcnKTtcbiAgbGV0IGlubkFwcGVhcmFuY2UgPSAnJztcbiAgaWYgKHR5cGVvZiBpbm5BcHBlYXJhbmNlUmF3ID09PSAnc3RyaW5nJykge1xuICAgIGlubkFwcGVhcmFuY2UgPSBpbm5BcHBlYXJhbmNlUmF3O1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaW5uQXBwZWFyYW5jZVJhdykpIHtcbiAgICBpZiAoaW5uQXBwZWFyYW5jZVJhdy5sZW5ndGggPiAwKSB7XG4gICAgICBpbm5BcHBlYXJhbmNlID0gaW5uQXBwZWFyYW5jZVJhd1swXSB8fCAnJztcbiAgICB9XG4gIH1cbiAgLy8g5aaC5p6c5rKh5pyJ5aSW6KeC5o+P6L+w77yM5L2/55So6buY6K6k5YC8XG4gIGlmICghaW5uQXBwZWFyYW5jZSkge1xuICAgIGlubkFwcGVhcmFuY2UgPSAn54KJ54Gr5rip5pqW5Zyw5Zm85ZWq5L2c5ZON77yM6YKA6K+3552A5p2l6Ieq5ZCE5Liq57u05bqm55qE55ay5oOr5peF5Lq644CC56m65rCU5Lit5byl5ryr552A54Ok6IKJ55qE6aaZ5ZGz5ZKM6Iet5rCn55qE5rCU5oGv44CCJztcbiAgfVxuXG4gIC8vIOivu+WPluiupOefpeS/ruato+aViOaenFxuICBjb25zdCBjb2duaXRpdmVFZmZlY3RSYXc6IGFueSA9IHBpY2soc3RhdCwgJ+aXheW6ly7orqTnn6Xkv67mraPmlYjmnpwnLCAnJyk7XG4gIGxldCBjb2duaXRpdmVFZmZlY3QgPSAnJztcbiAgaWYgKHR5cGVvZiBjb2duaXRpdmVFZmZlY3RSYXcgPT09ICdzdHJpbmcnKSB7XG4gICAgY29nbml0aXZlRWZmZWN0ID0gY29nbml0aXZlRWZmZWN0UmF3O1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29nbml0aXZlRWZmZWN0UmF3KSkge1xuICAgIGlmIChjb2duaXRpdmVFZmZlY3RSYXcubGVuZ3RoID4gMCkge1xuICAgICAgY29nbml0aXZlRWZmZWN0ID0gY29nbml0aXZlRWZmZWN0UmF3WzBdIHx8ICcnO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGdvbGQgPSBwaWNrKHN0YXQsICfotYTmupAu6YeR5biBJywgMCk7XG4gIGNvbnN0IHJlcHV0YXRpb24gPSBwaWNrKHN0YXQsICfotYTmupAu5aOw5pybJywgMCk7XG4gIGNvbnN0IG1hdGVyaWFscyA9IHBpY2soc3RhdCwgJ+i1hOa6kC7lu7rmnZAnLCAwKTtcblxuICBjb25zdCBkYXkgPSBwaWNrKHN0YXQsICfml7bpl7Qu5aSp5pWwJywgMSk7XG4gIGNvbnN0IGN1cnJlbnRUaW1lID0gcGljayhzdGF0LCAn5pe26Ze0LuW9k+WJjeaXtumXtCcsICcwOTowMCcpO1xuXG4gIC8vIOWkhOeQhuiuvuaWveaVsOaNru+8iOWvueixoeagvOW8j++8jOS7peiuvuaWveWQjeensOS4uiBrZXnvvIlcbiAgLy8g55u05o6l6K6/6ZeuIHN0YXQu6K6+5pa9LuiuvuaWveWIl+ihqO+8jOWboOS4uiBwaWNrIOWHveaVsOWPr+iDveaXoOazleato+ehruWkhOeQhuW1jOWll+WvueixoVxuICBsZXQgZmFjaWxpdGllc0xpc3RSYXc6IGFueSA9IG51bGw7XG4gIGlmIChzdGF0LuiuvuaWvSAmJiBzdGF0LuiuvuaWvS7orr7mlr3liJfooagpIHtcbiAgICAvLyDlpITnkIYgTVZVIOagvOW8j++8muWmguaenCDorr7mlr3liJfooagg5pivIFvlgLwsIFwi5o+P6L+wXCJdIOagvOW8j++8jOWPluesrOS4gOS4quWFg+e0oFxuICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXQu6K6+5pa9LuiuvuaWveWIl+ihqCkgJiYgc3RhdC7orr7mlr0u6K6+5pa95YiX6KGoLmxlbmd0aCA+IDApIHtcbiAgICAgIGZhY2lsaXRpZXNMaXN0UmF3ID0gc3RhdC7orr7mlr0u6K6+5pa95YiX6KGoWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBmYWNpbGl0aWVzTGlzdFJhdyA9IHN0YXQu6K6+5pa9LuiuvuaWveWIl+ihqDtcbiAgICB9XG4gIH1cblxuICBjb25zb2xlLmxvZygn8J+TiyDor7vlj5borr7mlr3mlbDmja46Jywge1xuICAgIGZhY2lsaXRpZXNMaXN0UmF3LFxuICAgIHR5cGU6IHR5cGVvZiBmYWNpbGl0aWVzTGlzdFJhdyxcbiAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5KGZhY2lsaXRpZXNMaXN0UmF3KSxcbiAgICBpc09iamVjdDogdHlwZW9mIGZhY2lsaXRpZXNMaXN0UmF3ID09PSAnb2JqZWN0JyAmJiBmYWNpbGl0aWVzTGlzdFJhdyAhPT0gbnVsbCxcbiAgICBzdGF0X+iuvuaWvTogc3RhdC7orr7mlr0sXG4gICAgc3RhdF/orr7mlr1f6K6+5pa95YiX6KGoOiBzdGF0LuiuvuaWvT8u6K6+5pa95YiX6KGoLFxuICB9KTtcblxuICBsZXQgZmFjaWxpdGllczogQXJyYXk8eyDlkI3np7A6IHN0cmluZzsg562J57qnOiBudW1iZXI7IOW9k+WJjeetiee6p+aPj+i/sDogc3RyaW5nIH0+ID0gW107XG4gIGlmICh0eXBlb2YgZmFjaWxpdGllc0xpc3RSYXcgPT09ICdvYmplY3QnICYmIGZhY2lsaXRpZXNMaXN0UmF3ICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KGZhY2lsaXRpZXNMaXN0UmF3KSkge1xuICAgIC8vIOWvueixoeagvOW8j++8mnsgXCLlrqLmiL9cIjogeyBcIuWQjeensFwiOiBcIuWuouaIv1wiLCAuLi4gfSwgLi4uIH1cbiAgICBmYWNpbGl0aWVzID0gT2JqZWN0LmVudHJpZXMoZmFjaWxpdGllc0xpc3RSYXcpXG4gICAgICAubWFwKChbLCBmYWNpbGl0eVZhbHVlXTogW3N0cmluZywgYW55XSkgPT4ge1xuICAgICAgICAvLyDlpITnkIYgTVZVIOagvOW8j++8muWmguaenCBmYWNpbGl0eVZhbHVlIOaYryBb5YC8LCBcIuaPj+i/sFwiXSDmoLzlvI/vvIzlj5bnrKzkuIDkuKrlhYPntKBcbiAgICAgICAgbGV0IGZhY2lsaXR5ID0gZmFjaWxpdHlWYWx1ZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZmFjaWxpdHlWYWx1ZSkgJiYgZmFjaWxpdHlWYWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZmFjaWxpdHkgPSBmYWNpbGl0eVZhbHVlWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIOWmguaenCBmYWNpbGl0eSDmmK/lr7nosaHkuJTmnInlkI3np7DlsZ7mgKfvvIzov5Tlm57lpITnkIblkI7nmoTlr7nosaFcbiAgICAgICAgaWYgKGZhY2lsaXR5ICYmIHR5cGVvZiBmYWNpbGl0eSA9PT0gJ29iamVjdCcgJiYgZmFjaWxpdHku5ZCN56ewKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIOWQjeensDogZmFjaWxpdHku5ZCN56ewIHx8ICcnLFxuICAgICAgICAgICAg562J57qnOiBmYWNpbGl0eS7nrYnnuqcgfHwgMSxcbiAgICAgICAgICAgIOW9k+WJjeetiee6p+aPj+i/sDogZmFjaWxpdHku5b2T5YmN562J57qn5o+P6L+wIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KVxuICAgICAgLmZpbHRlcigoZmFjOiBhbnkpID0+IGZhYyAhPT0gbnVsbCk7XG4gICAgY29uc29sZS5sb2coJ+KchSDlpITnkIblkI7nmoTorr7mlr3mlbDnu4Q6JywgZmFjaWxpdGllcyk7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShmYWNpbGl0aWVzTGlzdFJhdykpIHtcbiAgICAvLyDlhbzlrrnml6fmoLzlvI/vvJrmlbDnu4TmoLzlvI9cbiAgICBmYWNpbGl0aWVzID0gZmFjaWxpdGllc0xpc3RSYXdcbiAgICAgIC5tYXAoKGZhYzogYW55KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZmFjID09PSAnb2JqZWN0JyAmJiBmYWMgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAg5ZCN56ewOiBmYWMu5ZCN56ewIHx8ICcnLFxuICAgICAgICAgICAg562J57qnOiBmYWMu562J57qnIHx8IDEsXG4gICAgICAgICAgICDlvZPliY3nrYnnuqfmj4/ov7A6IGZhYy7lvZPliY3nrYnnuqfmj4/ov7AgfHwgJycsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChmYWM6IGFueSkgPT4gZmFjICE9PSBudWxsICYmIGZhYy7lkI3np7AgIT09ICcnKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIOS9v+eUqOaVsOe7hOagvOW8j+eahOiuvuaWveaVsOaNrjonLCBmYWNpbGl0aWVzKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyDorr7mlr3mlbDmja7moLzlvI/kuI3mraPnoa46JywgZmFjaWxpdGllc0xpc3RSYXcpO1xuICB9XG5cbiAgLy8g5aSE55CG5a6i5Lq65pWw5o2u77yI5a+56LGh5qC85byP77yM5Lul5a6i5Lq65ZCN56ew5Li6IGtlee+8iVxuICAvLyDnm7TmjqXorr/pl64gc3RhdC7lrqLkurou5a6i5Lq65YiX6KGo77yM5Zug5Li6IHBpY2sg5Ye95pWw5Y+v6IO95peg5rOV5q2j56Gu5aSE55CG5bWM5aWX5a+56LGhXG4gIGxldCBndWVzdHNMaXN0UmF3OiBhbnkgPSBudWxsO1xuICBpZiAoc3RhdC7lrqLkurogJiYgc3RhdC7lrqLkurou5a6i5Lq65YiX6KGoKSB7XG4gICAgLy8g5aSE55CGIE1WVSDmoLzlvI/vvJrlpoLmnpwg5a6i5Lq65YiX6KGoIOaYryBb5YC8LCBcIuaPj+i/sFwiXSDmoLzlvI/vvIzlj5bnrKzkuIDkuKrlhYPntKBcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzdGF0LuWuouS6ui7lrqLkurrliJfooagpICYmIHN0YXQu5a6i5Lq6LuWuouS6uuWIl+ihqC5sZW5ndGggPiAwKSB7XG4gICAgICBndWVzdHNMaXN0UmF3ID0gc3RhdC7lrqLkurou5a6i5Lq65YiX6KGoWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBndWVzdHNMaXN0UmF3ID0gc3RhdC7lrqLkurou5a6i5Lq65YiX6KGoO1xuICAgIH1cbiAgfVxuXG4gIGNvbnNvbGUubG9nKCfwn5OLIOivu+WPluWuouS6uuaVsOaNrjonLCB7XG4gICAgZ3Vlc3RzTGlzdFJhdyxcbiAgICB0eXBlOiB0eXBlb2YgZ3Vlc3RzTGlzdFJhdyxcbiAgICBpc0FycmF5OiBBcnJheS5pc0FycmF5KGd1ZXN0c0xpc3RSYXcpLFxuICAgIGlzT2JqZWN0OiB0eXBlb2YgZ3Vlc3RzTGlzdFJhdyA9PT0gJ29iamVjdCcgJiYgZ3Vlc3RzTGlzdFJhdyAhPT0gbnVsbCxcbiAgICBzdGF0X+WuouS6ujogc3RhdC7lrqLkurosXG4gICAgc3RhdF/lrqLkurpf5a6i5Lq65YiX6KGoOiBzdGF0LuWuouS6uj8u5a6i5Lq65YiX6KGoLFxuICB9KTtcblxuICBsZXQgZ3Vlc3RzOiBBcnJheTxhbnk+ID0gW107XG4gIGlmICh0eXBlb2YgZ3Vlc3RzTGlzdFJhdyA9PT0gJ29iamVjdCcgJiYgZ3Vlc3RzTGlzdFJhdyAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShndWVzdHNMaXN0UmF3KSkge1xuICAgIC8vIOWvueixoeagvOW8j++8mnsgXCLljaLljaHmlq9cIjogeyBcIuWQjeensFwiOiBcIuWNouWNoeaWr1wiLCAuLi4gfSwgLi4uIH1cbiAgICBndWVzdHMgPSBPYmplY3QuZW50cmllcyhndWVzdHNMaXN0UmF3KVxuICAgICAgLm1hcCgoWywgZ3Vlc3RWYWx1ZV06IFtzdHJpbmcsIGFueV0pID0+IHtcbiAgICAgICAgLy8g5aSE55CGIE1WVSDmoLzlvI/vvJrlpoLmnpwgZ3Vlc3RWYWx1ZSDmmK8gW+WAvCwgXCLmj4/ov7BcIl0g5qC85byP77yM5Y+W56ys5LiA5Liq5YWD57SgXG4gICAgICAgIGxldCBndWVzdCA9IGd1ZXN0VmFsdWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGd1ZXN0VmFsdWUpICYmIGd1ZXN0VmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGd1ZXN0ID0gZ3Vlc3RWYWx1ZVswXTtcbiAgICAgICAgfVxuICAgICAgICAvLyDlpoLmnpwgZ3Vlc3Qg5piv5a+56LGh5LiU5pyJ5ZCN56ew5bGe5oCn77yM6L+U5Zue5aSE55CG5ZCO55qE5a+56LGhXG4gICAgICAgIGlmIChndWVzdCAmJiB0eXBlb2YgZ3Vlc3QgPT09ICdvYmplY3QnICYmIGd1ZXN0LuWQjeensCkge1xuICAgICAgICAgIHJldHVybiBndWVzdDtcbiAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoKGd1ZXN0OiBhbnkpID0+IGd1ZXN0ICE9PSBudWxsKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIOWkhOeQhuWQjueahOWuouS6uuaVsOe7hDonLCBndWVzdHMpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZ3Vlc3RzTGlzdFJhdykpIHtcbiAgICAvLyDlhbzlrrnml6fmoLzlvI/vvJrmlbDnu4TmoLzlvI9cbiAgICBndWVzdHMgPSBndWVzdHNMaXN0UmF3O1xuICAgIGNvbnNvbGUubG9nKCfinIUg5L2/55So5pWw57uE5qC85byP55qE5a6i5Lq65pWw5o2uOicsIGd1ZXN0cyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8g5a6i5Lq65pWw5o2u5qC85byP5LiN5q2j56Gu5oiW5Li656m6OicsIGd1ZXN0c0xpc3RSYXcpO1xuICB9XG5cbiAgLy8g5aSE55CG5ZGY5bel5pWw5o2u77yI5a+56LGh5qC85byP77yM5Lul5ZGY5bel5ZCN56ew5Li6IGtlee+8iVxuICBjb25zdCBzdGFmZkxpc3RSYXcgPSBwaWNrKHN0YXQsICflkZjlt6Uu5ZGY5bel5YiX6KGoJywge30pO1xuICBsZXQgc3RhZmY6IEFycmF5PGFueT4gPSBbXTtcbiAgaWYgKHR5cGVvZiBzdGFmZkxpc3RSYXcgPT09ICdvYmplY3QnICYmIHN0YWZmTGlzdFJhdyAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShzdGFmZkxpc3RSYXcpKSB7XG4gICAgLy8g5a+56LGh5qC85byP77yaeyBcIuWRmOW3peWQjVwiOiB7IFwi5ZCN56ewXCI6IFwi5ZGY5bel5ZCNXCIsIC4uLiB9LCAuLi4gfVxuICAgIHN0YWZmID0gT2JqZWN0LnZhbHVlcyhzdGFmZkxpc3RSYXcpLmZpbHRlcigoZW1wbG95ZWU6IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIGVtcGxveWVlICYmIHR5cGVvZiBlbXBsb3llZSA9PT0gJ29iamVjdCcgJiYgZW1wbG95ZWUu5ZCN56ewO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3RhZmZMaXN0UmF3KSkge1xuICAgIC8vIOWFvOWuueaXp+agvOW8j++8muaVsOe7hOagvOW8j1xuICAgIHN0YWZmID0gc3RhZmZMaXN0UmF3O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpbm5OYW1lOiB0eXBlb2YgaW5uTmFtZSA9PT0gJ3N0cmluZycgPyBpbm5OYW1lIDogJ+WkmuasoeWFg+S+v+aQuuaXheW6lycsXG4gICAgY3VycmVudFdvcmxkOiB0eXBlb2YgY3VycmVudFdvcmxkID09PSAnc3RyaW5nJyA/IGN1cnJlbnRXb3JsZCA6ICfoib7lsJTliKnkuprlpKfpmYYnLFxuICAgIGJ1c2luZXNzU3RhdHVzOiB0eXBlb2YgYnVzaW5lc3NTdGF0dXMgPT09ICdzdHJpbmcnID8gYnVzaW5lc3NTdGF0dXMgOiAn6JCl5Lia5LitJyxcbiAgICBwb3B1bGFyaXR5OiBOdW1iZXIocG9wdWxhcml0eSkgfHwgMCxcbiAgICBvY2N1cGFuY3k6IE51bWJlcihvY2N1cGFuY3kpIHx8IDAsXG4gICAgaW5uTGF3OiBjdXJyZW50TGF3Py7ms5XliJnlkI0gfHwgJ+S4reeriycsXG4gICAgY3VycmVudExhdyxcbiAgICBsYXdMaXN0LFxuICAgIGN1cnJlbnRBY2Nlc3NNb2RlLFxuICAgIGFjY2Vzc01vZGVMaXN0LFxuICAgIGlubkFwcGVhcmFuY2U6XG4gICAgICB0eXBlb2YgaW5uQXBwZWFyYW5jZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBpbm5BcHBlYXJhbmNlXG4gICAgICAgIDogJ+eCieeBq+a4qeaaluWcsOWZvOWVquS9nOWTje+8jOmCgOivt+edgOadpeiHquWQhOS4que7tOW6pueahOeWsuaDq+aXheS6uuOAguepuuawlOS4reW8pea8q+edgOeDpOiCieeahOmmmeWRs+WSjOiHreawp+eahOawlOaBr+OAgicsXG4gICAgZ29sZDogTnVtYmVyKGdvbGQpIHx8IDAsXG4gICAgcmVwdXRhdGlvbjogTnVtYmVyKHJlcHV0YXRpb24pIHx8IDAsXG4gICAgbWF0ZXJpYWxzOiBOdW1iZXIobWF0ZXJpYWxzKSB8fCAwLFxuICAgIGRheTogTnVtYmVyKGRheSkgfHwgMSxcbiAgICBjdXJyZW50VGltZTogdHlwZW9mIGN1cnJlbnRUaW1lID09PSAnc3RyaW5nJyA/IGN1cnJlbnRUaW1lIDogJzA5OjAwJyxcbiAgICBmYWNpbGl0aWVzLFxuICAgIGd1ZXN0cyxcbiAgICBzdGFmZixcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/utils/variableReader.ts\n\n}");
  },
  "./src/mhjg/utils/variableUpdater.ts": 
  /*!*******************************************!*\
  !*** ./src/mhjg/utils/variableUpdater.ts ***!
  \*******************************************/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
    eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   updateStatDataObject: () => (/* binding */ updateStatDataObject),\n/* harmony export */   updateStatDataVariable: () => (/* binding */ updateStatDataVariable)\n/* harmony export */ });\n/**\n * å˜é‡æ›´æ–°å·¥å…·\n * ç»Ÿä¸€æ›´æ–°æœ€æ–°æ¶ˆæ¯æ¥¼å±‚å˜é‡çš„ stat_data\n */\n/**\n * æ›´æ–°æœ€æ–°æ¶ˆæ¯æ¥¼å±‚å˜é‡ stat_data ä¸­çš„å˜é‡å€¼ï¼ˆæ¸¸æˆè¿‡ç¨‹ä¸­æ›´æ–°åˆ°æœ€æ–°æ¥¼å±‚ï¼Œå¦‚æœæ²¡æœ‰æœ€æ–°æ¥¼å±‚åˆ™æ›´æ–°åˆ°0å±‚ï¼‰\n * @param path å˜é‡è·¯å¾„ï¼ˆç›¸å¯¹äº stat_dataï¼Œä¾‹å¦‚ 'æ—…åº—.åç§°'ï¼‰\n * @param value æ–°å€¼\n * @param description å˜é‡æè¿°ï¼ˆå¯é€‰ï¼Œå¦‚æœä¸æä¾›åˆ™ä¿æŒåŸæœ‰æè¿°ï¼‰\n */\nasync function updateStatDataVariable(path, value, description) {\n    try {\n        // è·å–æœ€æ–°æ¥¼å±‚ IDï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨0å±‚\n        const latestMessageId = getLastMessageId();\n        const targetMessageId = latestMessageId >= 0 ? latestMessageId : 0;\n        console.log(`ğŸ“ æ›´æ–°å˜é‡åˆ°æ¥¼å±‚ ${targetMessageId}: stat_data.${path}`);\n        // è·å–ç›®æ ‡æ¥¼å±‚çš„å˜é‡è¡¨\n        const variables = getVariables({ type: 'message', message_id: targetMessageId });\n        const statData = variables?.stat_data || {};\n        // è·å–å½“å‰å€¼ï¼ˆç”¨äºä¿æŒæè¿°ï¼‰\n        const currentValue = getNestedValue(statData, path);\n        let finalDescription = description;\n        // å¦‚æœæ²¡æœ‰æä¾›æè¿°ï¼Œå°è¯•ä»å½“å‰å€¼ä¸­è·å–æè¿°\n        if (!finalDescription && Array.isArray(currentValue) && currentValue.length === 2) {\n            finalDescription = currentValue[1];\n        }\n        // æ„å»ºæ–°å€¼ï¼ˆMVU æ ¼å¼ï¼š[å€¼, \"æè¿°\"]ï¼‰\n        const newValue = finalDescription ? [value, finalDescription] : value;\n        // ä½¿ç”¨ updateVariablesWith æ›´æ–°ç›®æ ‡æ¥¼å±‚å˜é‡\n        await updateVariablesWith(variables => {\n            // ç¡®ä¿ stat_data å­˜åœ¨\n            if (!variables.stat_data) {\n                variables.stat_data = {};\n            }\n            // è®¾ç½®åµŒå¥—å€¼\n            setNestedValue(variables.stat_data, path, newValue);\n            return variables;\n        }, { type: 'message', message_id: targetMessageId });\n        console.log(`âœ… æˆåŠŸæ›´æ–°æ¥¼å±‚ ${targetMessageId} å˜é‡: stat_data.${path} =`, value);\n        return true;\n    }\n    catch (error) {\n        console.error(`âŒ æ›´æ–°å˜é‡å¤±è´¥: stat_data.${path}`, error);\n        return false;\n    }\n}\n/**\n * æ›´æ–°æœ€æ–°æ¶ˆæ¯æ¥¼å±‚å˜é‡ stat_data ä¸­çš„å¯¹è±¡å˜é‡ï¼ˆç”¨äºæ›´æ–°åµŒå¥—å¯¹è±¡ï¼Œæ¸¸æˆè¿‡ç¨‹ä¸­æ›´æ–°åˆ°æœ€æ–°æ¥¼å±‚ï¼‰\n * @param path å˜é‡è·¯å¾„ï¼ˆç›¸å¯¹äº stat_dataï¼‰\n * @param updates è¦æ›´æ–°çš„é”®å€¼å¯¹\n */\nasync function updateStatDataObject(path, updates) {\n    try {\n        // è·å–æœ€æ–°æ¥¼å±‚ IDï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨0å±‚\n        const latestMessageId = getLastMessageId();\n        const targetMessageId = latestMessageId >= 0 ? latestMessageId : 0;\n        console.log(`ğŸ“ æ›´æ–°å¯¹è±¡å˜é‡åˆ°æ¥¼å±‚ ${targetMessageId}: stat_data.${path}`);\n        const variables = getVariables({ type: 'message', message_id: targetMessageId });\n        const statData = variables?.stat_data || {};\n        await updateVariablesWith(variables => {\n            if (!variables.stat_data) {\n                variables.stat_data = {};\n            }\n            // è·å–å½“å‰å¯¹è±¡\n            const currentObj = getNestedValue(statData, path);\n            let objValue;\n            let objDescription;\n            // å¤„ç† MVU æ ¼å¼ [å€¼, \"æè¿°\"]\n            if (Array.isArray(currentObj) && currentObj.length === 2) {\n                objValue = currentObj[0] || {};\n                objDescription = currentObj[1];\n            }\n            else if (currentObj && typeof currentObj === 'object') {\n                objValue = currentObj;\n            }\n            else {\n                objValue = {};\n            }\n            // æ›´æ–°å¯¹è±¡\n            const updatedObj = { ...objValue, ...updates };\n            // è®¾ç½®æ–°å€¼ï¼ˆä¿æŒæè¿°ï¼‰\n            const newValue = objDescription ? [updatedObj, objDescription] : updatedObj;\n            setNestedValue(variables.stat_data, path, newValue);\n            return variables;\n        }, { type: 'message', message_id: targetMessageId });\n        console.log(`âœ… æˆåŠŸæ›´æ–°æ¥¼å±‚ ${targetMessageId} å¯¹è±¡: stat_data.${path}`, updates);\n        return true;\n    }\n    catch (error) {\n        console.error(`âŒ æ›´æ–°å¯¹è±¡å¤±è´¥: stat_data.${path}`, error);\n        return false;\n    }\n}\n/**\n * è·å–åµŒå¥—å¯¹è±¡çš„å€¼\n * æ³¨æ„ï¼šåªæœ‰å¶å­èŠ‚ç‚¹æ˜¯ MVU æ ¼å¼ [å€¼, \"æè¿°\"]ï¼Œä¸­é—´èŠ‚ç‚¹éƒ½æ˜¯æ™®é€šå¯¹è±¡\n */\nfunction getNestedValue(obj, path) {\n    const keys = path.split('.');\n    let value = obj;\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        // å¤„ç† MVU æ ¼å¼ [å€¼, \"æè¿°\"]ï¼ˆåªå¯¹ä¸­é—´èŠ‚ç‚¹å¤„ç†ï¼Œå¶å­èŠ‚ç‚¹ä¿æŒåŸæ ·ï¼‰\n        if (Array.isArray(value) && value.length > 0 && i < keys.length - 1) {\n            value = value[0];\n        }\n        value = value[key];\n    }\n    return value;\n}\n/**\n * è®¾ç½®åµŒå¥—å¯¹è±¡çš„å€¼\n * æ³¨æ„ï¼šç¡®ä¿ä¸­é—´èŠ‚ç‚¹æ˜¯å¯¹è±¡ï¼Œå¶å­èŠ‚ç‚¹è®¾ç½®ä¸º MVU æ ¼å¼ [å€¼, \"æè¿°\"]\n */\nfunction setNestedValue(obj, path, value) {\n    const keys = path.split('.');\n    let current = obj;\n    for (let i = 0; i < keys.length - 1; i++) {\n        const key = keys[i];\n        // å¦‚æœå½“å‰é”®ä¸å­˜åœ¨ï¼Œåˆ›å»ºå¯¹è±¡\n        if (!current[key]) {\n            current[key] = {};\n        }\n        else {\n            // å¦‚æœå½“å‰é”®æ˜¯ MVU æ ¼å¼ [å€¼, \"æè¿°\"]ï¼Œå–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆå€¼ï¼‰\n            if (Array.isArray(current[key]) && current[key].length > 0) {\n                current[key] = current[key][0];\n            }\n            // ç¡®ä¿æ˜¯å¯¹è±¡ç±»å‹\n            if (typeof current[key] !== 'object' || Array.isArray(current[key])) {\n                current[key] = {};\n            }\n        }\n        current = current[key];\n    }\n    const lastKey = keys[keys.length - 1];\n    current[lastKey] = value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWhqZy91dGlscy92YXJpYWJsZVVwZGF0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7O0dBR0c7QUFLSDs7Ozs7R0FLRztBQUNJLEtBQUssVUFBVSxzQkFBc0IsQ0FDMUMsSUFBWSxFQUNaLEtBQVUsRUFDVixXQUFvQjtJQUVwQixJQUFJLENBQUM7UUFDSCx1QkFBdUI7UUFDdkIsTUFBTSxlQUFlLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztRQUMzQyxNQUFNLGVBQWUsR0FBRyxlQUFlLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUVuRSxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWMsZUFBZSxlQUFlLElBQUksRUFBRSxDQUFDLENBQUM7UUFFaEUsYUFBYTtRQUNiLE1BQU0sU0FBUyxHQUFHLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxDQUFDLENBQUM7UUFDakYsTUFBTSxRQUFRLEdBQUcsU0FBUyxFQUFFLFNBQVMsSUFBSSxFQUFFLENBQUM7UUFFNUMsZ0JBQWdCO1FBQ2hCLE1BQU0sWUFBWSxHQUFHLGNBQWMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEQsSUFBSSxnQkFBZ0IsR0FBRyxXQUFXLENBQUM7UUFFbkMsdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDbEYsZ0JBQWdCLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFFRCx5QkFBeUI7UUFDekIsTUFBTSxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUV0RSxrQ0FBa0M7UUFDbEMsTUFBTSxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUNwQyxrQkFBa0I7WUFDbEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDekIsU0FBUyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7WUFDM0IsQ0FBQztZQUVELFFBQVE7WUFDUixjQUFjLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFFcEQsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztRQUVyRCxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksZUFBZSxrQkFBa0IsSUFBSSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDMUUsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztRQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsdUJBQXVCLElBQUksRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3BELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztBQUNILENBQUM7QUFFRDs7OztHQUlHO0FBQ0ksS0FBSyxVQUFVLG9CQUFvQixDQUN4QyxJQUFZLEVBQ1osT0FBNEI7SUFFNUIsSUFBSSxDQUFDO1FBQ0gsdUJBQXVCO1FBQ3ZCLE1BQU0sZUFBZSxHQUFHLGdCQUFnQixFQUFFLENBQUM7UUFDM0MsTUFBTSxlQUFlLEdBQUcsZUFBZSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFbkUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsZUFBZSxlQUFlLElBQUksRUFBRSxDQUFDLENBQUM7UUFFbEUsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztRQUNqRixNQUFNLFFBQVEsR0FBRyxTQUFTLEVBQUUsU0FBUyxJQUFJLEVBQUUsQ0FBQztRQUU1QyxNQUFNLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7Z0JBQ3pCLFNBQVMsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1lBQzNCLENBQUM7WUFFRCxTQUFTO1lBQ1QsTUFBTSxVQUFVLEdBQUcsY0FBYyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNsRCxJQUFJLFFBQWEsQ0FBQztZQUNsQixJQUFJLGNBQWtDLENBQUM7WUFFdkMsc0JBQXNCO1lBQ3RCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxVQUFVLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO2dCQUN6RCxRQUFRLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDL0IsY0FBYyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxDQUFDO2lCQUFNLElBQUksVUFBVSxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRSxDQUFDO2dCQUN4RCxRQUFRLEdBQUcsVUFBVSxDQUFDO1lBQ3hCLENBQUM7aUJBQU0sQ0FBQztnQkFDTixRQUFRLEdBQUcsRUFBRSxDQUFDO1lBQ2hCLENBQUM7WUFFRCxPQUFPO1lBQ1AsTUFBTSxVQUFVLEdBQUcsRUFBRSxHQUFHLFFBQVEsRUFBRSxHQUFHLE9BQU8sRUFBRSxDQUFDO1lBRS9DLGFBQWE7WUFDYixNQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUM7WUFDNUUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBRXBELE9BQU8sU0FBUyxDQUFDO1FBQ25CLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxDQUFDLENBQUM7UUFFckQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLGVBQWUsa0JBQWtCLElBQUksRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQzFFLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7UUFDZixPQUFPLENBQUMsS0FBSyxDQUFDLHVCQUF1QixJQUFJLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNwRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7QUFDSCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxjQUFjLENBQUMsR0FBUSxFQUFFLElBQVk7SUFDNUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUM7SUFDaEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztRQUNyQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEIsSUFBSSxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUUsQ0FBQztZQUMxQyxPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO1FBQ0QseUNBQXlDO1FBQ3pDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUNwRSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUM7UUFDRCxLQUFLLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFTLGNBQWMsQ0FBQyxHQUFRLEVBQUUsSUFBWSxFQUFFLEtBQVU7SUFDeEQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUM7SUFDbEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7UUFDekMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BCLGdCQUFnQjtRQUNoQixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNwQixDQUFDO2FBQU0sQ0FBQztZQUNOLG9DQUFvQztZQUNwQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQztnQkFDM0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxDQUFDO1lBQ0QsVUFBVTtZQUNWLElBQUksT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssUUFBUSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztnQkFDcEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNwQixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUNELE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDM0IsQ0FBQyIsInNvdXJjZXMiOlsic3JjOi8vdGF2ZXJuX2hlbHBlcl90ZW1wbGF0ZS9zcmMvbWhqZy91dGlscy92YXJpYWJsZVVwZGF0ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDlj5jph4/mm7TmlrDlt6XlhbdcbiAqIOe7n+S4gOabtOaWsOacgOaWsOa2iOaBr+alvOWxguWPmOmHj+eahCBzdGF0X2RhdGFcbiAqL1xuXG4vLyDlhajlsYDlh73mlbDlo7DmmI7vvIjnlLHphZLppobliqnmiYvmj5DkvpvvvIlcbmRlY2xhcmUgZnVuY3Rpb24gZ2V0TGFzdE1lc3NhZ2VJZCgpOiBudW1iZXI7XG5cbi8qKlxuICog5pu05paw5pyA5paw5raI5oGv5qW85bGC5Y+Y6YePIHN0YXRfZGF0YSDkuK3nmoTlj5jph4/lgLzvvIjmuLjmiI/ov4fnqIvkuK3mm7TmlrDliLDmnIDmlrDmpbzlsYLvvIzlpoLmnpzmsqHmnInmnIDmlrDmpbzlsYLliJnmm7TmlrDliLAw5bGC77yJXG4gKiBAcGFyYW0gcGF0aCDlj5jph4/ot6/lvoTvvIjnm7jlr7nkuo4gc3RhdF9kYXRh77yM5L6L5aaCICfml4Xlupcu5ZCN56ewJ++8iVxuICogQHBhcmFtIHZhbHVlIOaWsOWAvFxuICogQHBhcmFtIGRlc2NyaXB0aW9uIOWPmOmHj+aPj+i/sO+8iOWPr+mAie+8jOWmguaenOS4jeaPkOS+m+WImeS/neaMgeWOn+acieaPj+i/sO+8iVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlU3RhdERhdGFWYXJpYWJsZShcbiAgcGF0aDogc3RyaW5nLFxuICB2YWx1ZTogYW55LFxuICBkZXNjcmlwdGlvbj86IHN0cmluZyxcbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIC8vIOiOt+WPluacgOaWsOalvOWxgiBJRO+8jOWmguaenOS4jeWtmOWcqOWImeS9v+eUqDDlsYJcbiAgICBjb25zdCBsYXRlc3RNZXNzYWdlSWQgPSBnZXRMYXN0TWVzc2FnZUlkKCk7XG4gICAgY29uc3QgdGFyZ2V0TWVzc2FnZUlkID0gbGF0ZXN0TWVzc2FnZUlkID49IDAgPyBsYXRlc3RNZXNzYWdlSWQgOiAwO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGDwn5OdIOabtOaWsOWPmOmHj+WIsOalvOWxgiAke3RhcmdldE1lc3NhZ2VJZH06IHN0YXRfZGF0YS4ke3BhdGh9YCk7XG5cbiAgICAvLyDojrflj5bnm67moIfmpbzlsYLnmoTlj5jph4/ooahcbiAgICBjb25zdCB2YXJpYWJsZXMgPSBnZXRWYXJpYWJsZXMoeyB0eXBlOiAnbWVzc2FnZScsIG1lc3NhZ2VfaWQ6IHRhcmdldE1lc3NhZ2VJZCB9KTtcbiAgICBjb25zdCBzdGF0RGF0YSA9IHZhcmlhYmxlcz8uc3RhdF9kYXRhIHx8IHt9O1xuXG4gICAgLy8g6I635Y+W5b2T5YmN5YC877yI55So5LqO5L+d5oyB5o+P6L+w77yJXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gZ2V0TmVzdGVkVmFsdWUoc3RhdERhdGEsIHBhdGgpO1xuICAgIGxldCBmaW5hbERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG5cbiAgICAvLyDlpoLmnpzmsqHmnInmj5Dkvpvmj4/ov7DvvIzlsJ3or5Xku47lvZPliY3lgLzkuK3ojrflj5bmj4/ov7BcbiAgICBpZiAoIWZpbmFsRGVzY3JpcHRpb24gJiYgQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpICYmIGN1cnJlbnRWYWx1ZS5sZW5ndGggPT09IDIpIHtcbiAgICAgIGZpbmFsRGVzY3JpcHRpb24gPSBjdXJyZW50VmFsdWVbMV07XG4gICAgfVxuXG4gICAgLy8g5p6E5bu65paw5YC877yITVZVIOagvOW8j++8mlvlgLwsIFwi5o+P6L+wXCJd77yJXG4gICAgY29uc3QgbmV3VmFsdWUgPSBmaW5hbERlc2NyaXB0aW9uID8gW3ZhbHVlLCBmaW5hbERlc2NyaXB0aW9uXSA6IHZhbHVlO1xuXG4gICAgLy8g5L2/55SoIHVwZGF0ZVZhcmlhYmxlc1dpdGgg5pu05paw55uu5qCH5qW85bGC5Y+Y6YePXG4gICAgYXdhaXQgdXBkYXRlVmFyaWFibGVzV2l0aCh2YXJpYWJsZXMgPT4ge1xuICAgICAgLy8g56Gu5L+dIHN0YXRfZGF0YSDlrZjlnKhcbiAgICAgIGlmICghdmFyaWFibGVzLnN0YXRfZGF0YSkge1xuICAgICAgICB2YXJpYWJsZXMuc3RhdF9kYXRhID0ge307XG4gICAgICB9XG5cbiAgICAgIC8vIOiuvue9ruW1jOWll+WAvFxuICAgICAgc2V0TmVzdGVkVmFsdWUodmFyaWFibGVzLnN0YXRfZGF0YSwgcGF0aCwgbmV3VmFsdWUpO1xuXG4gICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgIH0sIHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiB0YXJnZXRNZXNzYWdlSWQgfSk7XG5cbiAgICBjb25zb2xlLmxvZyhg4pyFIOaIkOWKn+abtOaWsOalvOWxgiAke3RhcmdldE1lc3NhZ2VJZH0g5Y+Y6YePOiBzdGF0X2RhdGEuJHtwYXRofSA9YCwgdmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYOKdjCDmm7TmlrDlj5jph4/lpLHotKU6IHN0YXRfZGF0YS4ke3BhdGh9YCwgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIOabtOaWsOacgOaWsOa2iOaBr+alvOWxguWPmOmHjyBzdGF0X2RhdGEg5Lit55qE5a+56LGh5Y+Y6YeP77yI55So5LqO5pu05paw5bWM5aWX5a+56LGh77yM5ri45oiP6L+H56iL5Lit5pu05paw5Yiw5pyA5paw5qW85bGC77yJXG4gKiBAcGFyYW0gcGF0aCDlj5jph4/ot6/lvoTvvIjnm7jlr7nkuo4gc3RhdF9kYXRh77yJXG4gKiBAcGFyYW0gdXBkYXRlcyDopoHmm7TmlrDnmoTplK7lgLzlr7lcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVN0YXREYXRhT2JqZWN0KFxuICBwYXRoOiBzdHJpbmcsXG4gIHVwZGF0ZXM6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICAvLyDojrflj5bmnIDmlrDmpbzlsYIgSUTvvIzlpoLmnpzkuI3lrZjlnKjliJnkvb/nlKgw5bGCXG4gICAgY29uc3QgbGF0ZXN0TWVzc2FnZUlkID0gZ2V0TGFzdE1lc3NhZ2VJZCgpO1xuICAgIGNvbnN0IHRhcmdldE1lc3NhZ2VJZCA9IGxhdGVzdE1lc3NhZ2VJZCA+PSAwID8gbGF0ZXN0TWVzc2FnZUlkIDogMDtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+TnSDmm7TmlrDlr7nosaHlj5jph4/liLDmpbzlsYIgJHt0YXJnZXRNZXNzYWdlSWR9OiBzdGF0X2RhdGEuJHtwYXRofWApO1xuXG4gICAgY29uc3QgdmFyaWFibGVzID0gZ2V0VmFyaWFibGVzKHsgdHlwZTogJ21lc3NhZ2UnLCBtZXNzYWdlX2lkOiB0YXJnZXRNZXNzYWdlSWQgfSk7XG4gICAgY29uc3Qgc3RhdERhdGEgPSB2YXJpYWJsZXM/LnN0YXRfZGF0YSB8fCB7fTtcblxuICAgIGF3YWl0IHVwZGF0ZVZhcmlhYmxlc1dpdGgodmFyaWFibGVzID0+IHtcbiAgICAgIGlmICghdmFyaWFibGVzLnN0YXRfZGF0YSkge1xuICAgICAgICB2YXJpYWJsZXMuc3RhdF9kYXRhID0ge307XG4gICAgICB9XG5cbiAgICAgIC8vIOiOt+WPluW9k+WJjeWvueixoVxuICAgICAgY29uc3QgY3VycmVudE9iaiA9IGdldE5lc3RlZFZhbHVlKHN0YXREYXRhLCBwYXRoKTtcbiAgICAgIGxldCBvYmpWYWx1ZTogYW55O1xuICAgICAgbGV0IG9iakRlc2NyaXB0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIOWkhOeQhiBNVlUg5qC85byPIFvlgLwsIFwi5o+P6L+wXCJdXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50T2JqKSAmJiBjdXJyZW50T2JqLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBvYmpWYWx1ZSA9IGN1cnJlbnRPYmpbMF0gfHwge307XG4gICAgICAgIG9iakRlc2NyaXB0aW9uID0gY3VycmVudE9ialsxXTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudE9iaiAmJiB0eXBlb2YgY3VycmVudE9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgb2JqVmFsdWUgPSBjdXJyZW50T2JqO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqVmFsdWUgPSB7fTtcbiAgICAgIH1cblxuICAgICAgLy8g5pu05paw5a+56LGhXG4gICAgICBjb25zdCB1cGRhdGVkT2JqID0geyAuLi5vYmpWYWx1ZSwgLi4udXBkYXRlcyB9O1xuXG4gICAgICAvLyDorr7nva7mlrDlgLzvvIjkv53mjIHmj4/ov7DvvIlcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gb2JqRGVzY3JpcHRpb24gPyBbdXBkYXRlZE9iaiwgb2JqRGVzY3JpcHRpb25dIDogdXBkYXRlZE9iajtcbiAgICAgIHNldE5lc3RlZFZhbHVlKHZhcmlhYmxlcy5zdGF0X2RhdGEsIHBhdGgsIG5ld1ZhbHVlKTtcblxuICAgICAgcmV0dXJuIHZhcmlhYmxlcztcbiAgICB9LCB7IHR5cGU6ICdtZXNzYWdlJywgbWVzc2FnZV9pZDogdGFyZ2V0TWVzc2FnZUlkIH0pO1xuXG4gICAgY29uc29sZS5sb2coYOKchSDmiJDlip/mm7TmlrDmpbzlsYIgJHt0YXJnZXRNZXNzYWdlSWR9IOWvueixoTogc3RhdF9kYXRhLiR7cGF0aH1gLCB1cGRhdGVzKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGDinYwg5pu05paw5a+56LGh5aSx6LSlOiBzdGF0X2RhdGEuJHtwYXRofWAsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiDojrflj5bltYzlpZflr7nosaHnmoTlgLxcbiAqIOazqOaEj++8muWPquacieWPtuWtkOiKgueCueaYryBNVlUg5qC85byPIFvlgLwsIFwi5o+P6L+wXCJd77yM5Lit6Ze06IqC54K56YO95piv5pmu6YCa5a+56LGhXG4gKi9cbmZ1bmN0aW9uIGdldE5lc3RlZFZhbHVlKG9iajogYW55LCBwYXRoOiBzdHJpbmcpOiBhbnkge1xuICBjb25zdCBrZXlzID0gcGF0aC5zcGxpdCgnLicpO1xuICBsZXQgdmFsdWUgPSBvYmo7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIOWkhOeQhiBNVlUg5qC85byPIFvlgLwsIFwi5o+P6L+wXCJd77yI5Y+q5a+55Lit6Ze06IqC54K55aSE55CG77yM5Y+25a2Q6IqC54K55L+d5oyB5Y6f5qC377yJXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA+IDAgJiYgaSA8IGtleXMubGVuZ3RoIC0gMSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZVswXTtcbiAgICB9XG4gICAgdmFsdWUgPSB2YWx1ZVtrZXldO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiDorr7nva7ltYzlpZflr7nosaHnmoTlgLxcbiAqIOazqOaEj++8muehruS/neS4remXtOiKgueCueaYr+Wvueixoe+8jOWPtuWtkOiKgueCueiuvue9ruS4uiBNVlUg5qC85byPIFvlgLwsIFwi5o+P6L+wXCJdXG4gKi9cbmZ1bmN0aW9uIHNldE5lc3RlZFZhbHVlKG9iajogYW55LCBwYXRoOiBzdHJpbmcsIHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgY29uc3Qga2V5cyA9IHBhdGguc3BsaXQoJy4nKTtcbiAgbGV0IGN1cnJlbnQgPSBvYmo7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgIC8vIOWmguaenOW9k+WJjemUruS4jeWtmOWcqO+8jOWIm+W7uuWvueixoVxuICAgIGlmICghY3VycmVudFtrZXldKSB7XG4gICAgICBjdXJyZW50W2tleV0gPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g5aaC5p6c5b2T5YmN6ZSu5pivIE1WVSDmoLzlvI8gW+WAvCwgXCLmj4/ov7BcIl3vvIzlj5bnrKzkuIDkuKrlhYPntKDvvIjlgLzvvIlcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGN1cnJlbnRba2V5XSkgJiYgY3VycmVudFtrZXldLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY3VycmVudFtrZXldID0gY3VycmVudFtrZXldWzBdO1xuICAgICAgfVxuICAgICAgLy8g56Gu5L+d5piv5a+56LGh57G75Z6LXG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRba2V5XSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShjdXJyZW50W2tleV0pKSB7XG4gICAgICAgIGN1cnJlbnRba2V5XSA9IHt9O1xuICAgICAgfVxuICAgIH1cbiAgICBjdXJyZW50ID0gY3VycmVudFtrZXldO1xuICB9XG4gIGNvbnN0IGxhc3RLZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV07XG4gIGN1cnJlbnRbbGFzdEtleV0gPSB2YWx1ZTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/mhjg/utils/variableUpdater.ts\n\n}");
  }
};

var __webpack_module_cache__ = {};

function __webpack_require__(moduleId) {
  var cachedModule = __webpack_module_cache__[moduleId];
  if (cachedModule !== undefined) {
    return cachedModule.exports;
  }
  var module = __webpack_module_cache__[moduleId] = {
    exports: {}
  };
  __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
  return module.exports;
}

(() => {
  __webpack_require__.d = (exports, definition) => {
    for (var key in definition) {
      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
        Object.defineProperty(exports, key, {
          enumerable: true,
          get: definition[key]
        });
      }
    }
  };
})();

(() => {
  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
})();

(() => {
  __webpack_require__.r = exports => {
    if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
      Object.defineProperty(exports, Symbol.toStringTag, {
        value: "Module"
      });
    }
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
  };
})();

var __webpack_exports__ = __webpack_require__("./src/mhjg/index.ts");

const __webpack_exports__handleTabChange = __webpack_exports__.handleTabChange;

export { __webpack_exports__handleTabChange as handleTabChange };</script><style>/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/Dashboard.scss ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/BuildModal.scss ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/NewFacilityModal.scss ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/GuestsModal.scss ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/RecruitStaffModal.scss ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/StaffModal.scss ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/StoryModal.scss ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/Navigation.scss ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/NewGameSetup.scss ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/BackgroundEffects.scss ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/SplashScreen.scss ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/StartScreen.scss ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/TopBar.scss ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/styles/main.scss ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/SettingsModal.scss ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@import url(https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Outfit:wght@200;300;400;500;600;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap);
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/Dashboard.scss (1) ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-dashboard{height:100%;width:100%;max-width:1280px;margin:0 auto;display:flex;gap:24px;animation:fadeIn 0.6s ease-out}@media (max-width:1024px){.mhjg-dashboard{flex-direction:column;gap:16px}}@media (max-width:768px){.mhjg-dashboard{gap:8px;padding:0 8px}}.mhjg-dashboard .dashboard-content{width:100%;display:flex;gap:24px}@media (max-width:1024px){.mhjg-dashboard .dashboard-content{flex-direction:column;gap:16px}}@media (max-width:768px){.mhjg-dashboard .dashboard-content{gap:8px}}.mhjg-dashboard .dashboard-left{flex:1;display:flex;flex-direction:column;gap:24px}@media (max-width:1024px){.mhjg-dashboard .dashboard-left{gap:16px}}@media (max-width:768px){.mhjg-dashboard .dashboard-left{gap:8px}}.mhjg-dashboard .dashboard-right{width:320px;display:flex;flex-direction:column;gap:24px}@media (max-width:1024px){.mhjg-dashboard .dashboard-right{width:100%;gap:16px}}@media (max-width:768px){.mhjg-dashboard .dashboard-right{gap:8px}}.mhjg-dashboard .status-banner{width:100%;aspect-ratio:3/1;border-radius:24px;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.15);box-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 8px 10px -6px rgba(0,0,0,0.1),inset 0 1px 0 rgba(255,255,255,0.05);cursor:default;transition:all 0.4s ease}.mhjg-dashboard .status-banner .banner-overlay{position:absolute;inset:0;background:linear-gradient(135deg,rgba(139,92,246,0.2) 0%,rgba(139,92,246,0.2) 100%);mix-blend-mode:overlay;z-index:10}.mhjg-dashboard .status-banner .banner-image{width:100%;height:100%;object-fit:cover;opacity:0.65;transition:all 30s cubic-bezier(0.4,0,0.2,1);filter:blur(1.5px) saturate(1.1) brightness(0.7);transform:scale(1.08)}.mhjg-dashboard .status-banner:hover{border-color:rgba(251,191,36,0.3);box-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 8px 10px -6px rgba(0,0,0,0.1),0 0 40px rgba(251,191,36,0.2),inset 0 1px 0 rgba(255,255,255,0.1)}.mhjg-dashboard .status-banner:hover .banner-image{transform:scale(1.12);opacity:0.75;filter:blur(1px) saturate(1.2) brightness(0.75)}.mhjg-dashboard .status-banner .banner-gradient{position:absolute;inset:0;background:linear-gradient(180deg,transparent 0%,rgba(15,23,42,0.6) 40%,rgba(15,23,42,0.9) 100%);z-index:20}.mhjg-dashboard .status-banner .banner-content{position:absolute;bottom:0;left:0;padding:32px;z-index:30}.mhjg-dashboard .status-banner .banner-content .banner-badges{display:flex;align-items:center;gap:16px;margin-bottom:8px}.mhjg-dashboard .status-banner .banner-content .badge{padding:6px 12px;border-radius:8px;font-size:11px;font-weight:700;letter-spacing:0.1em;text-transform:uppercase;border:1px solid;display:inline-flex;align-items:center;gap:6px;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.mhjg-dashboard .status-banner .banner-content .badge.badge-success{background:linear-gradient(135deg,rgba(16,185,129,0.25) 0%,rgba(16,185,129,0.15) 100%);color:#10b981;border-color:rgba(16,185,129,0.4);box-shadow:0 0 15px rgba(16,185,129,0.2)}.mhjg-dashboard .status-banner .banner-content .badge.badge-success:hover{box-shadow:0 0 20px rgba(16,185,129,0.4);transform:translateY(-2px)}.mhjg-dashboard .status-banner .banner-content .badge.badge-info{background:linear-gradient(135deg,rgba(6,182,212,0.25) 0%,rgba(6,182,212,0.15) 100%);color:#06b6d4;border-color:rgba(6,182,212,0.4);box-shadow:0 0 15px rgba(6,182,212,0.2)}.mhjg-dashboard .status-banner .banner-content .badge.badge-warning{background:linear-gradient(135deg,rgba(251,191,36,0.25) 0%,rgba(251,191,36,0.15) 100%);color:hsl(38,92%,50%);border-color:rgba(251,191,36,0.4);box-shadow:0 0 15px rgba(251,191,36,0.3)}.mhjg-dashboard .status-banner .banner-content .badge.badge-warning svg{filter:drop-shadow(0 0 4px rgba(251,191,36,0.6))}.mhjg-dashboard .status-banner .banner-content .badge.badge-status{cursor:pointer}.mhjg-dashboard .status-banner .banner-content .badge.badge-status:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.3)}.mhjg-dashboard .status-banner .banner-content .badge svg{width:12px;height:12px;flex-shrink:0}.mhjg-dashboard .status-banner .banner-content .banner-title{font-size:30px;color:#ffffff;font-family:"Cinzel Decorative",cursive;background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%);margin-bottom:8px}.mhjg-dashboard .status-banner .banner-content .banner-description{color:hsl(215,20%,65%);font-size:14px;max-width:600px;margin-top:8px}.mhjg-dashboard .status-banner .banner-content .banner-cognitive-effect{color:rgba(251,191,36,0.85);font-size:13px;line-height:1.5;margin-top:4px;max-width:600px;font-style:italic}.mhjg-dashboard .actions-grid{flex:1;display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.mhjg-dashboard .dashboard-card{min-height:200px;border-radius:24px;position:relative;overflow:hidden;cursor:pointer;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);border:1px solid rgba(255,255,255,0.1);background:linear-gradient(135deg,rgba(15,23,42,0.9) 0%,rgba(30,41,59,0.8) 100%);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -2px rgba(0,0,0,0.1)}.mhjg-dashboard .dashboard-card .card-bg{position:absolute;inset:0;z-index:0}.mhjg-dashboard .dashboard-card .card-bg .card-bg-image{width:100%;height:100%;object-fit:cover;opacity:0.2;transition:transform 0.7s ease,opacity 0.3s ease}.mhjg-dashboard .dashboard-card .card-bg .card-bg-overlay{position:absolute;inset:0;background:linear-gradient(180deg,transparent 0%,rgba(15,23,42,0.8) 40%,rgba(15,23,42,0.95) 100%)}.mhjg-dashboard .dashboard-card:hover{transform:translateY(-6px) scale(1.02);border-color:rgba(251,191,36,0.4);box-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 8px 10px -6px rgba(0,0,0,0.1),0 0 40px rgba(251,191,36,0.2),inset 0 1px 0 rgba(255,255,255,0.1)}.mhjg-dashboard .dashboard-card:hover .card-bg-image{transform:scale(1.15);opacity:0.35;filter:brightness(0.8) saturate(1.2)}.mhjg-dashboard .dashboard-card:hover .card-icon{transform:scale(1.15) rotate(5deg);filter:drop-shadow(0 0 15px rgba(251,191,36,0.6))}.mhjg-dashboard .dashboard-card:hover .card-arrow{transform:translateX(4px)}.mhjg-dashboard .dashboard-card:active{transform:translateY(-3px) scale(1.01)}.mhjg-dashboard .dashboard-card .card-content{position:relative;z-index:10;padding:24px;height:100%;display:flex;flex-direction:column;justify-content:space-between}.mhjg-dashboard .dashboard-card .card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:auto}.mhjg-dashboard .dashboard-card .card-icon{padding:16px;border-radius:16px;background:linear-gradient(135deg,rgba(15,23,42,0.8) 0%,rgba(30,41,59,0.6) 100%);border:1px solid rgba(255,255,255,0.1);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);transition:all 0.4s cubic-bezier(0.4,0,0.2,1);box-shadow:0 4px 12px rgba(0,0,0,0.2)}.mhjg-dashboard .dashboard-card .card-icon svg{width:24px;height:24px;transition:all 0.3s ease}.mhjg-dashboard .dashboard-card .card-icon.card-icon-users{color:hsl(238,83%,66%);box-shadow:0 0 20px rgba(99,102,241,0.3)}.mhjg-dashboard .dashboard-card .card-icon.card-icon-utensils{color:hsl(38,92%,50%);box-shadow:0 0 20px rgba(245,158,11,0.3)}.mhjg-dashboard .dashboard-card .card-icon.card-icon-hammer{color:hsl(158,64%,52%);box-shadow:0 0 20px rgba(16,185,129,0.3)}.mhjg-dashboard .dashboard-card .card-icon.card-icon-book{color:hsl(263,70%,50%);box-shadow:0 0 20px rgba(139,92,246,0.3)}.mhjg-dashboard .dashboard-card .card-stat{font-size:10px;font-family:monospace;color:hsl(215,20%,65%);background:rgba(15,23,42,0.5);padding:4px 8px;border-radius:4px;border:1px solid rgba(255,255,255,0.05);transition:all 0.3s ease}.mhjg-dashboard .dashboard-card:hover .card-stat{color:#ffffff}.mhjg-dashboard .dashboard-card .card-body{margin-top:auto}.mhjg-dashboard .dashboard-card .card-title{font-size:22px;font-weight:700;color:#ffffff;margin-bottom:8px;transition:all 0.3s ease;font-family:"Outfit",sans-serif}.mhjg-dashboard .dashboard-card:hover .card-title{background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%);text-shadow:0 0 15px rgba(251,191,36,0.4)}.mhjg-dashboard .dashboard-card .card-desc{font-size:14px;color:hsl(215,20%,65%);line-height:1.6;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.mhjg-dashboard .dashboard-card .card-action{display:inline-flex;align-items:center;gap:8px;font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:0.1em;opacity:0;transform:translateY(8px);transition:all 0.4s cubic-bezier(0.4,0,0.2,1);color:hsl(38,92%,50%);padding:6px 12px;border-radius:8px;background:rgba(251,191,36,0.1);border:1px solid rgba(251,191,36,0.2)}.mhjg-dashboard .dashboard-card:hover .card-action{opacity:1;transform:translateY(0);background:rgba(251,191,36,0.15);border-color:rgba(251,191,36,0.4);box-shadow:0 0 15px rgba(251,191,36,0.2)}.mhjg-dashboard .dashboard-card .card-arrow{font-size:16px;transition:transform 0.3s ease;display:inline-block}.mhjg-dashboard .quick-stats{padding:32px;display:flex;flex-direction:column;gap:24px;background:linear-gradient(135deg,rgba(15,23,42,0.95) 0%,rgba(30,41,59,0.9) 100%);border:1px solid rgba(255,255,255,0.1);box-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -4px rgba(0,0,0,0.1),inset 0 1px 0 rgba(255,255,255,0.05);position:relative;overflow:hidden}.mhjg-dashboard .quick-stats::before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent 0%,hsl(38,92%,50%) 50%,transparent 100%);opacity:0.5}.mhjg-dashboard .quick-stats .stats-title{font-size:12px;font-weight:bold;color:hsl(215,20%,65%);text-transform:uppercase;letter-spacing:0.1em;border-bottom:1px solid rgba(255,255,255,0.05);padding-bottom:8px}.mhjg-dashboard .quick-stats .stats-list{display:flex;flex-direction:column;gap:16px}.mhjg-dashboard .quick-stats .stat-row{display:flex;justify-content:space-between;align-items:center;font-size:14px}.mhjg-dashboard .quick-stats .stat-row .stat-label{color:hsl(215,16%,47%)}.mhjg-dashboard .quick-stats .stat-row .stat-value{font-family:monospace;font-weight:bold}.mhjg-dashboard .activity-log{flex:1;display:flex;flex-direction:column;overflow:hidden;padding:0;background:linear-gradient(135deg,rgba(15,23,42,0.95) 0%,rgba(30,41,59,0.9) 100%);border:1px solid rgba(255,255,255,0.1);box-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -4px rgba(0,0,0,0.1),inset 0 1px 0 rgba(255,255,255,0.05);border-radius:24px}.mhjg-dashboard .activity-log .log-header{padding:24px;border-bottom:1px solid rgba(255,255,255,0.08);background:linear-gradient(180deg,rgba(15,23,42,0.6) 0%,rgba(15,23,42,0.3) 100%);display:flex;justify-content:space-between;align-items:center;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.mhjg-dashboard .activity-log .log-header .log-title{font-size:13px;font-weight:700;color:#ffffff;text-transform:uppercase;letter-spacing:0.15em;display:flex;align-items:center;gap:8px;background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%)}.mhjg-dashboard .activity-log .log-header .log-title svg{width:16px;height:16px;color:hsl(38,92%,50%);filter:drop-shadow(0 0 6px rgba(251,191,36,0.5))}.mhjg-dashboard .activity-log .log-list{flex:1;overflow-y:auto;padding:16px;position:relative}.mhjg-dashboard .activity-log .log-list::before{content:"";position:absolute;top:0;left:16px;bottom:0;width:1px;background:rgb(30,41,59)}.mhjg-dashboard .activity-log .log-item{position:relative;padding-left:24px;padding-bottom:16px}.mhjg-dashboard .activity-log .log-item .log-timeline{position:absolute;left:16px;top:10px}.mhjg-dashboard .activity-log .log-item .log-dot{width:8px;height:8px;border-radius:50%;box-shadow:0 0 0 4px rgb(15,23,42)}.mhjg-dashboard .activity-log .log-item .log-dot.log-dot-info{background:hsl(215,16%,47%)}.mhjg-dashboard .activity-log .log-item .log-dot.log-dot-warn{background:hsl(38,92%,50%)}.mhjg-dashboard .activity-log .log-item .log-dot.log-dot-success{background:hsl(158,64%,52%)}.mhjg-dashboard .activity-log .log-item .log-content .log-time{font-size:10px;font-family:monospace;color:hsl(215,16%,47%);margin-bottom:2px}.mhjg-dashboard .activity-log .log-item .log-content .log-text{font-size:12px;color:hsl(210,40%,98%);line-height:1.5}.mhjg-dashboard .facilities-section{margin-top:24px;padding-top:24px;border-top:1px solid rgba(255,255,255,0.05)}.mhjg-dashboard .facilities-section .facilities-title{font-size:12px;text-transform:uppercase;letter-spacing:0.1em;color:hsl(215,16%,47%);margin-bottom:16px}.mhjg-dashboard .facilities-section .facilities-list{display:flex;flex-direction:column;gap:8px}.mhjg-dashboard .facilities-section .facility-row{padding:8px 0;border-bottom:1px solid rgba(255,255,255,0.05)}.mhjg-dashboard .facilities-section .facility-row:last-child{border-bottom:none}.mhjg-dashboard .facilities-section .facility-row .facility-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.mhjg-dashboard .facilities-section .facility-row .facility-name{color:hsl(210,40%,98%);font-size:14px;font-weight:500}.mhjg-dashboard .facilities-section .facility-row .facility-level{display:flex;align-items:center;gap:8px}.mhjg-dashboard .facilities-section .facility-row .facility-level .level-bars{display:flex;gap:3px}.mhjg-dashboard .facilities-section .facility-row .facility-level .level-bars .level-bar{width:8px;height:8px;border-radius:2px;transition:all 0.3s ease}.mhjg-dashboard .facilities-section .facility-row .facility-level .level-bars .level-bar.level-bar-filled{background:hsl(38,92%,50%);box-shadow:0 0 4px rgba(251,191,36,0.5)}.mhjg-dashboard .facilities-section .facility-row .facility-level .level-bars .level-bar.level-bar-empty{background:rgb(30,41,59);border:1px solid rgba(255,255,255,0.1)}.mhjg-dashboard .facilities-section .facility-row .facility-level .level-text{font-size:11px;color:hsl(215,16%,47%);font-weight:600}.mhjg-dashboard .facilities-section .facility-row .facility-description{color:hsl(215,20%,65%);font-size:12px;line-height:1.4;margin-top:4px;padding-left:0}.mhjg-dashboard .inn-law-section{margin-top:24px;padding-top:24px;border-top:1px solid rgba(255,255,255,0.05)}.mhjg-dashboard .inn-law-section .inn-law-title{font-size:12px;text-transform:uppercase;letter-spacing:0.1em;color:hsl(215,16%,47%);margin-bottom:16px}.mhjg-dashboard .inn-law-section .inn-law-selector{display:flex;align-items:center;justify-content:space-between;padding:16px;background:rgba(139,92,246,0.1);border:1px solid rgba(139,92,246,0.3);border-radius:8px;cursor:pointer;transition:all 0.3s ease;margin-bottom:8px}.mhjg-dashboard .inn-law-section .inn-law-selector:hover{background:rgba(139,92,246,0.2);border-color:rgba(139,92,246,0.5);transform:translateY(-2px)}.mhjg-dashboard .inn-law-section .inn-law-selector .inn-law-info{display:flex;flex-direction:column;gap:4px;flex:1}.mhjg-dashboard .inn-law-section .inn-law-selector .inn-law-current{color:rgba(139,92,246,0.9);font-weight:600;font-size:16px;line-height:1.2}.mhjg-dashboard .inn-law-section .inn-law-selector .inn-law-desc{color:rgba(255,255,255,0.7);font-size:12px;line-height:1.3}.mhjg-dashboard .inn-law-section .inn-law-selector svg{width:14px;height:14px;color:rgba(139,92,246,0.6);flex-shrink:0;margin-left:8px}.mhjg-dashboard .inn-law-section .add-rule-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:4px;padding:4px 8px;background:rgba(139,92,246,0.1);border:1px solid rgba(139,92,246,0.3);border-radius:8px;color:rgba(139,92,246,0.8);font-size:12px;font-weight:500;cursor:pointer;transition:all 0.3s ease}.mhjg-dashboard .inn-law-section .add-rule-btn:hover{background:rgba(139,92,246,0.2);border-color:rgba(139,92,246,0.5);color:rgb(139,92,246);transform:translateY(-1px)}.mhjg-dashboard .inn-law-section .add-rule-btn svg{width:14px;height:14px}.status-selector-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);z-index:100;display:flex;align-items:center;justify-content:center;animation:fadeIn 0.3s ease}.status-selector-overlay .status-selector{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;padding:32px;min-width:300px;animation:scaleIn 0.3s ease}.status-selector-overlay .status-selector .selector-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;position:relative}.status-selector-overlay .status-selector .selector-header h4{color:hsl(210,40%,98%);font-size:18px;text-align:center;flex:1;margin:0}.status-selector-overlay .status-selector .selector-header .selector-close-btn{position:absolute;right:0;top:50%;transform:translateY(-50%);background:transparent;border:none;color:hsl(215,20%,65%);cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all 0.2s ease}.status-selector-overlay .status-selector .selector-header .selector-close-btn:hover{color:hsl(210,40%,98%);background:rgba(255,255,255,0.1)}.status-selector-overlay .status-selector .selector-header .selector-close-btn svg{width:20px;height:20px}.status-selector-overlay .status-selector .status-options{display:flex;flex-direction:column;gap:8px}.status-selector-overlay .status-selector .status-options .status-option{padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:hsl(210,40%,98%);cursor:pointer;transition:all 0.3s ease;text-align:center}.status-selector-overlay .status-selector .status-options .status-option:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.2)}.status-selector-overlay .status-selector .status-options .status-option.active{background:rgba(139,92,246,0.2);border-color:rgba(139,92,246,0.5);color:rgba(139,92,246,0.9)}.law-selector-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);z-index:100;display:flex;align-items:center;justify-content:center;animation:fadeIn 0.3s ease}.law-selector-overlay .law-selector{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;padding:32px;min-width:400px;max-width:500px;max-height:80vh;overflow-y:auto;animation:scaleIn 0.3s ease}.law-selector-overlay .law-selector::-webkit-scrollbar{width:6px;height:6px}.law-selector-overlay .law-selector::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.law-selector-overlay .law-selector::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.law-selector-overlay .law-selector::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.law-selector-overlay .law-selector .selector-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;position:relative}.law-selector-overlay .law-selector .selector-header h4{color:hsl(210,40%,98%);font-size:18px;text-align:center;flex:1;margin:0}.law-selector-overlay .law-selector .selector-header .selector-close-btn{position:absolute;right:0;top:50%;transform:translateY(-50%);background:transparent;border:none;color:hsl(215,20%,65%);cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all 0.2s ease}.law-selector-overlay .law-selector .selector-header .selector-close-btn:hover{color:hsl(210,40%,98%);background:rgba(255,255,255,0.1)}.law-selector-overlay .law-selector .selector-header .selector-close-btn svg{width:20px;height:20px}.law-selector-overlay .law-selector .law-options{display:flex;flex-direction:column;gap:8px}.law-selector-overlay .law-selector .law-options .law-option{padding:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;cursor:pointer;transition:all 0.3s ease;display:flex;flex-direction:column;gap:4px}.law-selector-overlay .law-selector .law-options .law-option:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.2)}.law-selector-overlay .law-selector .law-options .law-option.active{background:rgba(139,92,246,0.2);border-color:rgba(139,92,246,0.5)}.law-selector-overlay .law-selector .law-options .law-option .law-name{color:hsl(210,40%,98%);font-weight:600;font-size:14px}.law-selector-overlay .law-selector .law-options .law-option .law-desc{color:hsl(215,20%,65%);font-size:12px;font-style:italic}.law-selector-overlay .law-selector .law-options .law-option.active .law-name{color:rgba(139,92,246,0.9)}.add-rule-dialog-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:fadeIn 0.3s ease}.add-rule-dialog-overlay .add-rule-dialog{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;padding:32px;min-width:400px;max-width:500px;animation:scaleIn 0.3s ease}.add-rule-dialog-overlay .add-rule-dialog .dialog-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:24px;position:relative}.add-rule-dialog-overlay .add-rule-dialog .dialog-header h4{color:hsl(210,40%,98%);font-size:18px;text-align:center;flex:1;margin:0;color:rgba(139,92,246,0.9)}.add-rule-dialog-overlay .add-rule-dialog .dialog-header .dialog-close-btn{position:absolute;right:0;top:50%;transform:translateY(-50%);background:transparent;border:none;color:hsl(215,16%,47%);cursor:pointer;padding:4px;border-radius:4px;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center}.add-rule-dialog-overlay .add-rule-dialog .dialog-header .dialog-close-btn:hover{background:rgba(255,255,255,0.1);color:hsl(210,40%,98%)}.add-rule-dialog-overlay .add-rule-dialog .dialog-header .dialog-close-btn svg{width:20px;height:20px}.add-rule-dialog-overlay .add-rule-dialog .dialog-content{display:flex;flex-direction:column;gap:24px;margin-bottom:24px}.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group{display:flex;flex-direction:column;gap:4px}.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group label{color:hsl(210,40%,98%);font-size:14px;font-weight:500}.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group .form-input,.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group .form-textarea{background:rgba(15,23,42,0.8);border:1px solid rgba(139,92,246,0.3);border-radius:8px;color:hsl(210,40%,98%);padding:8px 16px;font-size:14px;transition:all 0.2s ease}.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group .form-input:focus,.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group .form-textarea:focus{outline:none;border-color:rgba(139,92,246,0.8);box-shadow:0 0 0 2px rgba(139,92,246,0.2)}.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group .form-input::placeholder,.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group .form-textarea::placeholder{color:hsl(215,16%,47%)}.add-rule-dialog-overlay .add-rule-dialog .dialog-content .form-group .form-textarea{resize:vertical;min-height:80px;font-family:inherit}.add-rule-dialog-overlay .add-rule-dialog .dialog-actions{display:flex;justify-content:flex-end;gap:16px}.add-rule-dialog-overlay .add-rule-dialog .dialog-actions .dialog-btn{padding:8px 24px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all 0.3s ease;border:1px solid transparent}.add-rule-dialog-overlay .add-rule-dialog .dialog-actions .dialog-btn.cancel-btn{background:rgba(255,255,255,0.1);color:hsl(210,40%,98%);border-color:rgba(255,255,255,0.2)}.add-rule-dialog-overlay .add-rule-dialog .dialog-actions .dialog-btn.cancel-btn:hover{background:rgba(255,255,255,0.2)}.add-rule-dialog-overlay .add-rule-dialog .dialog-actions .dialog-btn.save-btn{background:rgb(139,92,246);color:white;box-shadow:0 4px 12px rgba(139,92,246,0.2)}.add-rule-dialog-overlay .add-rule-dialog .dialog-actions .dialog-btn.save-btn:hover{background:rgba(139,92,246,0.8);transform:translateY(-1px)}
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/BuildModal.scss (1) ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-modal-build{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;padding:32px;opacity:0;pointer-events:none;transition:opacity 0.3s ease}.mhjg-modal-build.open{opacity:1;pointer-events:all}.mhjg-modal-build .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.mhjg-modal-build .modal-window{position:relative;width:100%;max-width:1536px;aspect-ratio:16/9;max-height:90vh;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;display:flex;flex-direction:column;animation:scaleIn 0.3s ease;overflow:hidden}@media (max-width:1024px){.mhjg-modal-build .modal-window{max-width:95%;max-height:90vh;aspect-ratio:auto}}@media (max-width:768px){.mhjg-modal-build .modal-window{max-width:100%;max-height:100vh;border-radius:0}}.mhjg-modal-build .modal-header{display:flex;align-items:center;justify-content:space-between;padding:32px;border-bottom:1px solid rgba(255,255,255,0.05);background:linear-gradient(90deg,rgba(251,191,36,0.05) 0%,transparent 100%)}@media (max-width:768px){.mhjg-modal-build .modal-header{padding:16px;flex-wrap:wrap;gap:8px}}@media (max-width:480px){.mhjg-modal-build .modal-header{padding:8px}}.mhjg-modal-build .modal-header .modal-header-left{display:flex;align-items:center;gap:16px}.mhjg-modal-build .modal-header .modal-icon{padding:16px;background:rgba(251,191,36,0.1);border-radius:16px;border:1px solid rgba(251,191,36,0.2);color:hsl(38,92%,50%);display:flex;align-items:center;justify-content:center}.mhjg-modal-build .modal-header .modal-icon svg{width:24px;height:24px}.mhjg-modal-build .modal-header .modal-title-group .modal-title{font-size:32px;font-weight:bold;color:rgba(251,191,36,0.9);font-family:"Cinzel Decorative",cursive;letter-spacing:0.1em;text-shadow:0 0 10px rgba(251,191,36,0.5);margin-bottom:4px}.mhjg-modal-build .modal-header .modal-title-group .modal-subtitle{color:rgba(251,191,36,0.6);font-family:monospace;font-size:14px}.mhjg-modal-build .modal-header .modal-close{display:flex;align-items:center;gap:8px;background:transparent;border:none;color:hsl(215,20%,65%);cursor:pointer;padding:8px 16px;border-radius:8px;transition:all 0.3s ease}.mhjg-modal-build .modal-header .modal-close:hover{background:rgba(255,255,255,0.1);color:#ffffff;border-color:rgba(255,255,255,0.2)}.mhjg-modal-build .modal-header .modal-close:hover .close-text{text-decoration:underline}.mhjg-modal-build .modal-header .modal-close .close-text{font-size:10px;text-transform:uppercase;letter-spacing:0.1em;font-weight:bold}.mhjg-modal-build .modal-header .modal-close svg{width:24px;height:24px}.mhjg-modal-build .modal-content{flex:1;overflow-y:auto;padding:32px}.mhjg-modal-build .modal-content::-webkit-scrollbar{width:6px;height:6px}.mhjg-modal-build .modal-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.mhjg-modal-build .modal-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.mhjg-modal-build .modal-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}@media (max-width:768px){.mhjg-modal-build .modal-content{padding:16px}}@media (max-width:480px){.mhjg-modal-build .modal-content{padding:8px}}.mhjg-modal-build .facilities-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:32px}@media (max-width:1024px){.mhjg-modal-build .facilities-grid{grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}}@media (max-width:768px){.mhjg-modal-build .facilities-grid{grid-template-columns:1fr;gap:16px}}@media (max-width:480px){.mhjg-modal-build .facilities-grid{gap:8px}}.mhjg-modal-build .facility-card{padding:24px;transition:all 0.3s ease}.mhjg-modal-build .facility-card:hover{border-color:rgba(251,191,36,0.3);transform:translateY(-2px)}.mhjg-modal-build .facility-card .facility-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.mhjg-modal-build .facility-card .facility-name{font-size:1.25rem;font-weight:600;color:hsl(210,40%,98%);background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%);margin:0}.mhjg-modal-build .facility-card .facility-level{display:flex;align-items:center;gap:8px}.mhjg-modal-build .facility-card .facility-level .level-bars{display:flex;gap:4px}.mhjg-modal-build .facility-card .facility-level .level-bar{width:8px;height:24px;border-radius:2px;border:1px solid rgba(0,0,0,0.5);transform:skewX(-10deg);transition:all 0.3s ease}.mhjg-modal-build .facility-card .facility-level .level-bar.level-bar-filled{background:hsl(38,92%,50%);box-shadow:0 0 8px rgba(251,191,36,0.6)}.mhjg-modal-build .facility-card .facility-level .level-bar.level-bar-empty{background:rgb(30,41,59)}.mhjg-modal-build .facility-card .facility-level .level-text{font-size:12px;color:hsl(215,16%,47%);text-transform:uppercase;margin-left:8px;font-weight:bold;letter-spacing:0.1em}.mhjg-modal-build .facility-card .facility-description{color:hsl(215,20%,65%);font-size:14px;line-height:1.6;margin-bottom:24px;min-height:60px}.mhjg-modal-build .facility-card .facility-description p{margin:0}.mhjg-modal-build .facility-card .facility-upgrade-btn{width:100%;padding:16px;border-radius:8px;display:flex;align-items:center;justify-content:center;gap:8px;font-size:14px;font-weight:600}.mhjg-modal-build .facility-card .facility-upgrade-btn:disabled{opacity:0.5;cursor:not-allowed}.mhjg-modal-build .facility-card .facility-upgrade-btn svg{width:18px;height:18px}.mhjg-modal-build .facility-placeholder{aspect-ratio:1;border:2px dashed rgba(251,191,36,0.3);border-radius:24px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;color:hsl(215,16%,47%);cursor:pointer;transition:all 0.3s ease;background:rgba(251,191,36,0.05);min-height:200px}.mhjg-modal-build .facility-placeholder:hover{border-color:rgba(251,191,36,0.5);color:rgba(251,191,36,0.9);background:rgba(251,191,36,0.1);transform:translateY(-4px);box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -2px rgba(0,0,0,0.1),0 0 20px rgba(251,191,36,0.2)}.mhjg-modal-build .facility-placeholder .placeholder-icon{font-size:48px;margin-bottom:8px;opacity:0.3;font-weight:300;transition:all 0.3s ease}.mhjg-modal-build .facility-placeholder:hover .placeholder-icon{opacity:0.6;transform:scale(1.1)}.mhjg-modal-build .facility-placeholder .placeholder-text{font-family:"Cinzel Decorative",cursive;font-size:14px;text-transform:uppercase;letter-spacing:0.1em;opacity:0.6;transition:all 0.3s ease}.mhjg-modal-build .facility-placeholder:hover .placeholder-text{opacity:1}
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/NewFacilityModal.scss (1) ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-modal-new-facility{position:fixed;inset:0;z-index:60;display:flex;align-items:center;justify-content:center;padding:32px;opacity:0;pointer-events:none;transition:opacity 0.3s ease}.mhjg-modal-new-facility.open{opacity:1;pointer-events:all}.mhjg-modal-new-facility .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.mhjg-modal-new-facility .modal-window{position:relative;width:100%;max-width:600px;max-height:90vh;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;display:flex;flex-direction:column;animation:scaleIn 0.3s ease;overflow:hidden;border:1px solid rgba(251,191,36,0.3);box-shadow:0 20px 60px rgba(0,0,0,0.5)}.mhjg-modal-new-facility .modal-header{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid rgba(255,255,255,0.05);background:linear-gradient(90deg,rgba(15,23,42,0.9) 0%,transparent 100%)}.mhjg-modal-new-facility .modal-header .modal-header-left{display:flex;align-items:center;gap:16px}.mhjg-modal-new-facility .modal-header .modal-icon{width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:16px;background:linear-gradient(135deg,rgba(251,191,36,0.2),rgba(251,191,36,0.1));color:hsl(38,92%,50%);flex-shrink:0}.mhjg-modal-new-facility .modal-header .modal-icon svg{width:24px;height:24px}.mhjg-modal-new-facility .modal-header .modal-title-group{display:flex;flex-direction:column;gap:4px}.mhjg-modal-new-facility .modal-header .modal-title{margin:0;font-size:1.5rem;font-weight:600;background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%)}.mhjg-modal-new-facility .modal-header .modal-subtitle{margin:0;font-size:0.875rem;color:rgba(255,255,255,0.6)}.mhjg-modal-new-facility .modal-header .modal-close{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background:rgba(255,255,255,0.05);border-radius:8px;color:rgba(255,255,255,0.7);cursor:pointer;transition:all 0.2s ease}.mhjg-modal-new-facility .modal-header .modal-close:hover{background:rgba(255,255,255,0.1);color:rgb(255,255,255);transform:rotate(90deg)}.mhjg-modal-new-facility .modal-header .modal-close svg{width:20px;height:20px}.mhjg-modal-new-facility .modal-content{flex:1;padding:32px;overflow-y:auto}.mhjg-modal-new-facility .modal-content::-webkit-scrollbar{width:6px;height:6px}.mhjg-modal-new-facility .modal-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.mhjg-modal-new-facility .modal-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.mhjg-modal-new-facility .modal-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.mhjg-modal-new-facility .facility-form{display:flex;flex-direction:column;gap:24px}.mhjg-modal-new-facility .form-section{display:flex;flex-direction:column;gap:8px}.mhjg-modal-new-facility .form-label{display:flex;flex-direction:column;gap:4px}.mhjg-modal-new-facility .form-label .label-text{font-size:0.9375rem;font-weight:500;color:rgba(255,255,255,0.9)}.mhjg-modal-new-facility .form-label .label-hint{font-size:0.8125rem;color:rgba(255,255,255,0.5)}.mhjg-modal-new-facility .form-input,.mhjg-modal-new-facility .form-textarea{width:100%;padding:16px;border:1px solid rgba(255,255,255,0.1);border-radius:8px;background:rgba(15,23,42,0.6);color:rgba(255,255,255,0.9);font-size:0.9375rem;font-family:inherit;transition:all 0.2s ease}.mhjg-modal-new-facility .form-input:focus,.mhjg-modal-new-facility .form-textarea:focus{outline:none;border-color:hsl(38,92%,50%);background:rgba(15,23,42,0.8);box-shadow:0 0 0 3px rgba(251,191,36,0.1)}.mhjg-modal-new-facility .form-input::placeholder,.mhjg-modal-new-facility .form-textarea::placeholder{color:rgba(255,255,255,0.4)}.mhjg-modal-new-facility .form-textarea{resize:vertical;min-height:100px;line-height:1.6}.mhjg-modal-new-facility .level-input-wrapper{display:flex;align-items:center;gap:16px;position:relative}.mhjg-modal-new-facility .level-input-wrapper .form-input-number{flex:1;padding-right:40px}.mhjg-modal-new-facility .level-input-wrapper .level-unit{position:absolute;right:16px;color:rgba(255,255,255,0.5);font-size:0.875rem;pointer-events:none}.mhjg-modal-new-facility .form-actions{display:flex;gap:16px;margin-top:16px;padding-top:24px;border-top:1px solid rgba(255,255,255,0.05)}.mhjg-modal-new-facility .form-btn{flex:1;padding:16px 24px;border:none;border-radius:8px;font-size:0.9375rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.mhjg-modal-new-facility .form-btn svg{width:16px;height:16px}.mhjg-modal-new-facility .form-btn-cancel{background:rgba(255,255,255,0.05);color:rgba(255,255,255,0.7);border:1px solid rgba(255,255,255,0.1)}.mhjg-modal-new-facility .form-btn-cancel:hover{background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.9)}.mhjg-modal-new-facility .form-btn-submit{background:linear-gradient(135deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.01) 100%);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.05);box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}.mhjg-modal-new-facility .form-btn-submit:hover{background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.02) 100%);border-color:rgba(255,255,255,0.1);transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,0.2)}.mhjg-modal-new-facility .form-btn-submit{background:linear-gradient(135deg,rgba(251,191,36,0.3),rgba(251,191,36,0.2));color:rgba(255,255,255,0.95);border:1px solid rgba(251,191,36,0.3);box-shadow:0 4px 12px rgba(251,191,36,0.2)}.mhjg-modal-new-facility .form-btn-submit:hover{background:linear-gradient(135deg,rgba(251,191,36,0.4),rgba(251,191,36,0.3));box-shadow:0 6px 16px rgba(251,191,36,0.3);transform:translateY(-1px)}.mhjg-modal-new-facility .form-btn-submit:active{transform:translateY(0)}
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/GuestsModal.scss (1) ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-modal-guests{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;padding:32px;opacity:0;pointer-events:none;transition:opacity 0.3s ease}.mhjg-modal-guests.open{opacity:1;pointer-events:all}.mhjg-modal-guests .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.mhjg-modal-guests .modal-window{position:relative;width:100%;max-width:1280px;aspect-ratio:16/11;max-height:85vh;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;display:flex;flex-direction:column;animation:scaleIn 0.3s ease;overflow:hidden}@media (max-width:1024px){.mhjg-modal-guests .modal-window{max-width:95%;max-height:90vh;aspect-ratio:auto}}@media (max-width:768px){.mhjg-modal-guests .modal-window{max-width:100%;max-height:100vh;border-radius:0}}.mhjg-modal-guests .modal-header{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid rgba(255,255,255,0.05);background:linear-gradient(90deg,rgba(15,23,42,0.9) 0%,transparent 100%)}@media (max-width:768px){.mhjg-modal-guests .modal-header{padding:16px;flex-wrap:wrap;gap:8px}}@media (max-width:480px){.mhjg-modal-guests .modal-header{padding:8px}}.mhjg-modal-guests .modal-header .modal-header-left{display:flex;align-items:center;gap:16px}.mhjg-modal-guests .modal-header .modal-icon{padding:16px;background:rgba(99,102,241,0.1);border-radius:16px;border:1px solid rgba(99,102,241,0.2);color:hsl(238,83%,66%);display:flex;align-items:center;justify-content:center}.mhjg-modal-guests .modal-header .modal-icon svg{width:24px;height:24px}.mhjg-modal-guests .modal-header .modal-title-group .modal-title{font-size:24px;font-weight:bold;color:rgba(99,102,241,0.9);font-family:"Cinzel Decorative",cursive;text-shadow:0 0 10px rgba(99,102,241,0.5);margin-bottom:4px}.mhjg-modal-guests .modal-header .modal-title-group .modal-subtitle{color:rgba(99,102,241,0.6);font-size:14px}.mhjg-modal-guests .modal-header .modal-close{padding:8px;background:transparent;border:none;color:hsl(215,20%,65%);cursor:pointer;border-radius:9999px;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center}.mhjg-modal-guests .modal-header .modal-close:hover{background:rgba(255,255,255,0.1);color:#ffffff}.mhjg-modal-guests .modal-header .modal-close svg{width:24px;height:24px}.mhjg-modal-guests .modal-content{flex:1;overflow-y:auto;padding:32px}.mhjg-modal-guests .modal-content::-webkit-scrollbar{width:6px;height:6px}.mhjg-modal-guests .modal-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.mhjg-modal-guests .modal-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.mhjg-modal-guests .modal-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}@media (max-width:768px){.mhjg-modal-guests .modal-content{padding:16px}}@media (max-width:480px){.mhjg-modal-guests .modal-content{padding:8px}}.mhjg-modal-guests .guests-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:24px}@media (max-width:1024px){.mhjg-modal-guests .guests-grid{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}}@media (max-width:768px){.mhjg-modal-guests .guests-grid{grid-template-columns:1fr;gap:16px}}@media (max-width:480px){.mhjg-modal-guests .guests-grid{gap:8px}}.mhjg-modal-guests .guest-card{padding:32px;transition:all 0.3s ease}.mhjg-modal-guests .guest-card:hover{border-color:rgba(99,102,241,0.3)}.mhjg-modal-guests .guest-card .guest-header{display:flex;gap:16px;margin-bottom:32px}.mhjg-modal-guests .guest-card .guest-avatar-wrapper{position:relative}.mhjg-modal-guests .guest-card .guest-avatar-wrapper .guest-avatar{width:64px;height:64px;border-radius:16px;border:1px solid rgb(30,41,59);object-fit:cover;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -2px rgba(0,0,0,0.1)}.mhjg-modal-guests .guest-card .guest-avatar-wrapper .guest-level-badge{position:absolute;top:-8px;left:-8px;width:28px;height:28px;background:linear-gradient(135deg,rgba(99,102,241,0.8) 0%,rgb(99,102,241) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid rgb(15,23,42);font-size:10px;font-weight:bold;color:#fff;box-shadow:0 1px 2px 0 rgba(0,0,0,0.05)}.mhjg-modal-guests .guest-card .guest-avatar-wrapper .guest-mood-badge{position:absolute;bottom:-8px;right:-8px;min-width:32px;height:24px;border-radius:4px;display:flex;align-items:center;justify-content:center;border:2px solid rgb(15,23,42);font-size:10px;font-weight:bold;color:#ffffff;padding:0 6px;box-shadow:0 1px 2px 0 rgba(0,0,0,0.05)}.mhjg-modal-guests .guest-card .guest-info{flex:1}.mhjg-modal-guests .guest-card .guest-info .guest-name{font-size:18px;font-weight:bold;color:hsl(210,40%,98%);margin-bottom:8px;line-height:1.2}.mhjg-modal-guests .guest-card .guest-info .guest-tags{display:flex;flex-wrap:wrap;gap:6px}.mhjg-modal-guests .guest-card .guest-info .guest-tag{padding:4px 6px;font-size:10px;text-transform:uppercase;letter-spacing:0.05em;border-radius:4px;border:1px solid;font-weight:600}.mhjg-modal-guests .guest-card .guest-info .guest-tag.guest-tag-race{background:rgb(30,41,59);color:hsl(215,20%,65%);border-color:rgb(30,41,59)}.mhjg-modal-guests .guest-card .guest-info .guest-tag.guest-tag-class{background:rgba(30,23,50,0.5);color:rgba(99,102,241,0.8);border-color:rgba(99,102,241,0.2)}.mhjg-modal-guests .guest-card .guest-info .guest-stats{display:flex;flex-direction:column;gap:8px;margin-top:16px}.mhjg-modal-guests .guest-card .guest-info .guest-stats .guest-stat-item{display:flex;align-items:center;gap:8px;font-size:11px}.mhjg-modal-guests .guest-card .guest-info .guest-stats .guest-stat-item .stat-label{min-width:40px;color:hsl(215,16%,47%);font-size:10px;text-transform:uppercase;letter-spacing:0.05em}.mhjg-modal-guests .guest-card .guest-info .guest-stats .guest-stat-item .stat-bar{flex:1;height:6px;background:rgb(30,41,59);border-radius:9999px;overflow:hidden;position:relative}.mhjg-modal-guests .guest-card .guest-info .guest-stats .guest-stat-item .stat-bar .stat-bar-fill{height:100%;border-radius:9999px;transition:width 0.3s ease;box-shadow:0 0 8px currentColor}.mhjg-modal-guests .guest-card .guest-info .guest-stats .guest-stat-item .stat-text{min-width:60px;font-size:10px;color:hsl(215,20%,65%);white-space:nowrap}.mhjg-modal-guests .guest-card .guest-info .guest-stats .guest-stat-item .stat-value{font-size:11px;font-weight:600;color:hsl(210,40%,98%)}.mhjg-modal-guests .guest-card .guest-info .guest-stats .guest-stat-item .stat-value.stat-gold{color:rgba(251,191,36,0.9)}.mhjg-modal-guests .guest-card .guest-appearance{margin-bottom:24px;padding:16px;background:rgba(15,23,42,0.5);border-radius:8px;border:1px solid rgba(255,255,255,0.05)}.mhjg-modal-guests .guest-card .guest-appearance .appearance-label{display:flex;align-items:center;gap:6px;font-size:11px;text-transform:uppercase;letter-spacing:0.1em;color:hsl(215,16%,47%);margin-bottom:8px}.mhjg-modal-guests .guest-card .guest-appearance .appearance-label svg{width:12px;height:12px;color:rgba(99,102,241,0.6)}.mhjg-modal-guests .guest-card .guest-appearance .appearance-text{font-size:13px;color:hsl(215,20%,65%);line-height:1.5;font-style:italic}.mhjg-modal-guests .guest-card .guest-request{margin-bottom:32px;padding:16px;background:rgba(15,23,42,0.5);border-radius:8px;border:1px solid rgba(255,255,255,0.05);position:relative}.mhjg-modal-guests .guest-card .guest-request .request-quote{position:absolute;top:4px;left:8px;font-size:32px;color:rgb(30,41,59);font-family:serif;line-height:1}.mhjg-modal-guests .guest-card .guest-request .request-text{position:relative;z-index:10;padding-left:8px;font-size:14px;color:hsl(215,20%,65%);font-style:italic;line-height:1.5}.mhjg-modal-guests .guest-card .guest-actions{display:flex;gap:8px}.mhjg-modal-guests .guest-card .guest-btn{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.05);color:hsl(210,40%,98%);font-size:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease}.mhjg-modal-guests .guest-card .guest-btn:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.2)}.mhjg-modal-guests .guest-card .guest-btn.guest-btn-interact{flex:1}.mhjg-modal-guests .guest-card .guest-btn.guest-btn-more{padding:8px;color:hsl(215,20%,65%)}.mhjg-modal-guests .guest-card .guest-btn svg{width:14px;height:14px}.mhjg-modal-guests .guest-placeholder{aspect-ratio:1;border:2px dashed rgb(30,41,59);border-radius:24px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;color:hsl(215,16%,47%);cursor:pointer;transition:all 0.3s ease;background:rgba(15,23,42,0.2);min-height:220px}.mhjg-modal-guests .guest-placeholder:hover{border-color:rgb(30,41,59);color:hsl(215,20%,65%);background:rgba(15,23,42,0.4)}.mhjg-modal-guests .guest-placeholder .placeholder-icon{font-size:48px;margin-bottom:8px;opacity:0.3;font-weight:300}.mhjg-modal-guests .guest-placeholder .placeholder-text{font-family:"Cinzel Decorative",cursive;font-size:14px;text-transform:uppercase;letter-spacing:0.1em;opacity:0.6}body.modal-open{overflow:hidden}.interaction-menu-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);z-index:100;animation:fadeIn 0.2s ease}.interaction-menu{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:101;background:rgba(15,23,42,0.95);border:1px solid rgba(99,102,241,0.3);border-radius:24px;box-shadow:0 20px 60px rgba(0,0,0,0.5);min-width:400px;max-width:90vw;max-height:80vh;display:flex;flex-direction:column;animation:scaleIn 0.3s ease}.interaction-menu .interaction-menu-header{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid rgba(255,255,255,0.1);background:linear-gradient(90deg,rgba(99,102,241,0.1) 0%,transparent 100%)}.interaction-menu .interaction-menu-header h3{font-size:18px;font-weight:bold;color:hsl(210,40%,98%);margin:0}.interaction-menu .interaction-menu-header .interaction-menu-close{padding:8px;background:transparent;border:none;color:hsl(215,20%,65%);cursor:pointer;font-size:24px;line-height:1;border-radius:9999px;transition:all 0.3s ease;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.interaction-menu .interaction-menu-header .interaction-menu-close:hover{background:rgba(255,255,255,0.1);color:#ffffff}.interaction-menu .interaction-menu-content{padding:24px;display:grid;grid-template-columns:repeat(2,1fr);gap:16px;overflow-y:auto}.interaction-menu .interaction-menu-content::-webkit-scrollbar{width:6px;height:6px}.interaction-menu .interaction-menu-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.interaction-menu .interaction-menu-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.interaction-menu .interaction-menu-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.interaction-menu .interaction-menu-content .interaction-option{padding:16px 24px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:hsl(210,40%,98%);font-size:14px;font-weight:600;cursor:pointer;transition:all 0.3s ease;text-align:center}.interaction-menu .interaction-menu-content .interaction-option:hover{background:rgba(99,102,241,0.2);border-color:rgba(99,102,241,0.4);color:rgba(99,102,241,0.9);transform:translateY(-2px);box-shadow:0 4px 12px rgba(99,102,241,0.3)}.interaction-menu .interaction-menu-content .interaction-option:active{transform:translateY(0)}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes scaleIn{from{opacity:0;transform:translate(-50%,-50%) scale(0.9)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/RecruitStaffModal.scss (1) ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-modal-recruit-staff{position:fixed;inset:0;z-index:60;display:flex;align-items:center;justify-content:center;padding:32px;opacity:0;pointer-events:none;transition:opacity 0.3s ease}.mhjg-modal-recruit-staff.open{opacity:1;pointer-events:all}.mhjg-modal-recruit-staff .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.mhjg-modal-recruit-staff .modal-window{position:relative;width:100%;max-width:600px;max-height:90vh;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;display:flex;flex-direction:column;animation:scaleIn 0.3s ease;overflow:hidden;border:1px solid rgba(139,92,246,0.3);box-shadow:0 20px 60px rgba(0,0,0,0.5)}.mhjg-modal-recruit-staff .modal-header{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid rgba(255,255,255,0.05);background:linear-gradient(90deg,rgba(15,23,42,0.9) 0%,transparent 100%)}.mhjg-modal-recruit-staff .modal-header .modal-header-left{display:flex;align-items:center;gap:16px}.mhjg-modal-recruit-staff .modal-header .modal-icon{width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:16px;background:linear-gradient(135deg,rgba(139,92,246,0.2),rgba(59,130,246,0.2));color:hsl(263,70%,50%);flex-shrink:0}.mhjg-modal-recruit-staff .modal-header .modal-icon svg{width:24px;height:24px}.mhjg-modal-recruit-staff .modal-header .modal-title-group{display:flex;flex-direction:column;gap:4px}.mhjg-modal-recruit-staff .modal-header .modal-title{margin:0;font-size:1.5rem;font-weight:600;background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%)}.mhjg-modal-recruit-staff .modal-header .modal-subtitle{margin:0;font-size:0.875rem;color:rgba(255,255,255,0.6)}.mhjg-modal-recruit-staff .modal-header .modal-close{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background:rgba(255,255,255,0.05);border-radius:8px;color:rgba(255,255,255,0.7);cursor:pointer;transition:all 0.2s ease}.mhjg-modal-recruit-staff .modal-header .modal-close:hover{background:rgba(255,255,255,0.1);color:rgb(255,255,255);transform:rotate(90deg)}.mhjg-modal-recruit-staff .modal-header .modal-close svg{width:20px;height:20px}.mhjg-modal-recruit-staff .modal-content{flex:1;padding:32px;overflow-y:auto}.mhjg-modal-recruit-staff .modal-content::-webkit-scrollbar{width:6px;height:6px}.mhjg-modal-recruit-staff .modal-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.mhjg-modal-recruit-staff .modal-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.mhjg-modal-recruit-staff .modal-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.mhjg-modal-recruit-staff .recruit-form{display:flex;flex-direction:column;gap:24px}.mhjg-modal-recruit-staff .form-section{display:flex;flex-direction:column;gap:8px}.mhjg-modal-recruit-staff .form-label{display:flex;flex-direction:column;gap:4px}.mhjg-modal-recruit-staff .form-label .label-text{font-size:0.9375rem;font-weight:500;color:rgba(255,255,255,0.9)}.mhjg-modal-recruit-staff .form-label .label-hint{font-size:0.8125rem;color:rgba(255,255,255,0.5)}.mhjg-modal-recruit-staff .gender-options{display:flex;gap:16px;flex-wrap:wrap}.mhjg-modal-recruit-staff .gender-option{flex:1;min-width:100px;position:relative;cursor:pointer}.mhjg-modal-recruit-staff .gender-option input[type=radio]{position:absolute;opacity:0;pointer-events:none}.mhjg-modal-recruit-staff .gender-option input[type=radio]:checked+.option-label{background:linear-gradient(135deg,rgba(139,92,246,0.3),rgba(59,130,246,0.3));border-color:hsl(263,70%,50%);color:hsl(263,70%,50%);box-shadow:0 0 0 2px rgba(139,92,246,0.2)}.mhjg-modal-recruit-staff .gender-option .option-label{display:flex;align-items:center;justify-content:center;padding:16px 24px;border:1px solid rgba(255,255,255,0.1);border-radius:8px;background:rgba(255,255,255,0.03);color:rgba(255,255,255,0.7);font-size:0.875rem;transition:all 0.2s ease;-webkit-user-select:none;user-select:none}.mhjg-modal-recruit-staff .gender-option .option-label:hover{background:rgba(255,255,255,0.05);border-color:rgba(255,255,255,0.2);color:rgba(255,255,255,0.9)}.mhjg-modal-recruit-staff .form-input,.mhjg-modal-recruit-staff .form-textarea{width:100%;padding:16px;border:1px solid rgba(255,255,255,0.1);border-radius:8px;background:rgba(15,23,42,0.6);color:rgba(255,255,255,0.9);font-size:0.9375rem;font-family:inherit;transition:all 0.2s ease}.mhjg-modal-recruit-staff .form-input:focus,.mhjg-modal-recruit-staff .form-textarea:focus{outline:none;border-color:hsl(263,70%,50%);background:rgba(15,23,42,0.8);box-shadow:0 0 0 3px rgba(139,92,246,0.1)}.mhjg-modal-recruit-staff .form-input::placeholder,.mhjg-modal-recruit-staff .form-textarea::placeholder{color:rgba(255,255,255,0.4)}.mhjg-modal-recruit-staff .form-textarea{resize:vertical;min-height:80px;line-height:1.6}.mhjg-modal-recruit-staff .salary-input-wrapper{display:flex;align-items:center;gap:16px;position:relative}.mhjg-modal-recruit-staff .salary-input-wrapper .form-input-number{flex:1;padding-right:80px}.mhjg-modal-recruit-staff .salary-input-wrapper .salary-unit{position:absolute;right:16px;color:rgba(255,255,255,0.5);font-size:0.875rem;pointer-events:none}.mhjg-modal-recruit-staff .form-actions{display:flex;gap:16px;margin-top:16px;padding-top:24px;border-top:1px solid rgba(255,255,255,0.05)}.mhjg-modal-recruit-staff .form-btn{flex:1;padding:16px 24px;border:none;border-radius:8px;font-size:0.9375rem;font-weight:500;cursor:pointer;transition:all 0.2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.mhjg-modal-recruit-staff .form-btn svg{width:16px;height:16px}.mhjg-modal-recruit-staff .form-btn-cancel{background:rgba(255,255,255,0.05);color:rgba(255,255,255,0.7);border:1px solid rgba(255,255,255,0.1)}.mhjg-modal-recruit-staff .form-btn-cancel:hover{background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.9)}.mhjg-modal-recruit-staff .form-btn-submit{background:linear-gradient(135deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.01) 100%);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.05);box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}.mhjg-modal-recruit-staff .form-btn-submit:hover{background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.02) 100%);border-color:rgba(255,255,255,0.1);transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,0.2)}.mhjg-modal-recruit-staff .form-btn-submit{background:linear-gradient(135deg,rgba(139,92,246,0.3),rgba(59,130,246,0.3));color:rgba(255,255,255,0.95);border:1px solid rgba(139,92,246,0.3);box-shadow:0 4px 12px rgba(139,92,246,0.2)}.mhjg-modal-recruit-staff .form-btn-submit:hover{background:linear-gradient(135deg,rgba(139,92,246,0.4),rgba(59,130,246,0.4));box-shadow:0 6px 16px rgba(139,92,246,0.3);transform:translateY(-1px)}.mhjg-modal-recruit-staff .form-btn-submit:active{transform:translateY(0)}
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/StaffModal.scss (1) ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-modal-staff{position:fixed;inset:0;z-index:50;display:flex;align-items:center;justify-content:center;padding:32px;opacity:0;pointer-events:none;transition:opacity 0.3s ease}.mhjg-modal-staff.open{opacity:1;pointer-events:all}.mhjg-modal-staff .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.mhjg-modal-staff .modal-window{position:relative;width:100%;max-width:1400px;aspect-ratio:16/11;max-height:85vh;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;display:flex;flex-direction:column;animation:scaleIn 0.3s ease;overflow:hidden;border:1px solid rgba(139,92,246,0.3)}@media (max-width:1024px){.mhjg-modal-staff .modal-window{max-width:95%;max-height:90vh;aspect-ratio:auto}}@media (max-width:768px){.mhjg-modal-staff .modal-window{max-width:100%;max-height:100vh;border-radius:0}}.mhjg-modal-staff .modal-header{display:flex;align-items:center;justify-content:space-between;padding:24px;border-bottom:1px solid rgba(255,255,255,0.05);background:linear-gradient(90deg,rgba(15,23,42,0.9) 0%,transparent 100%)}@media (max-width:768px){.mhjg-modal-staff .modal-header{padding:16px;flex-wrap:wrap;gap:8px}}@media (max-width:480px){.mhjg-modal-staff .modal-header{padding:8px}}.mhjg-modal-staff .modal-header .modal-header-left{display:flex;align-items:center;gap:16px}.mhjg-modal-staff .modal-header .modal-icon{padding:16px;background:rgba(139,92,246,0.1);border-radius:16px;border:1px solid rgba(139,92,246,0.2);color:hsl(263,70%,50%);display:flex;align-items:center;justify-content:center}.mhjg-modal-staff .modal-header .modal-icon svg{width:24px;height:24px}.mhjg-modal-staff .modal-header .modal-title-group .modal-title{font-size:24px;font-weight:bold;color:rgba(139,92,246,0.9);font-family:"Cinzel Decorative",cursive;text-shadow:0 0 10px rgba(139,92,246,0.5);margin-bottom:4px}.mhjg-modal-staff .modal-header .modal-title-group .modal-subtitle{color:rgba(139,92,246,0.6);font-size:14px}.mhjg-modal-staff .modal-header .modal-close{padding:8px;background:transparent;border:none;color:hsl(215,20%,65%);cursor:pointer;border-radius:9999px;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center}.mhjg-modal-staff .modal-header .modal-close:hover{background:rgba(255,255,255,0.1);color:#ffffff}.mhjg-modal-staff .modal-header .modal-close svg{width:24px;height:24px}.mhjg-modal-staff .modal-content{flex:1;overflow-y:auto;padding:32px}.mhjg-modal-staff .modal-content::-webkit-scrollbar{width:6px;height:6px}.mhjg-modal-staff .modal-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.mhjg-modal-staff .modal-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.mhjg-modal-staff .modal-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}@media (max-width:768px){.mhjg-modal-staff .modal-content{padding:16px}}@media (max-width:480px){.mhjg-modal-staff .modal-content{padding:8px}}.mhjg-modal-staff .staff-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:24px}@media (max-width:1024px){.mhjg-modal-staff .staff-grid{grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px}}@media (max-width:768px){.mhjg-modal-staff .staff-grid{grid-template-columns:1fr;gap:16px}}@media (max-width:480px){.mhjg-modal-staff .staff-grid{gap:8px}}.mhjg-modal-staff .staff-card{padding:32px;transition:all 0.3s ease;cursor:pointer;position:relative;overflow:hidden}.mhjg-modal-staff .staff-card::before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(139,92,246,0.05) 0%,transparent 50%);opacity:0;transition:opacity 0.3s ease;pointer-events:none}.mhjg-modal-staff .staff-card:hover{border-color:rgba(139,92,246,0.3);transform:translateY(-4px);box-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -4px rgba(0,0,0,0.1),0 0 20px hsla(263,70%,50%,0.6)}.mhjg-modal-staff .staff-card:hover::before{opacity:1}.mhjg-modal-staff .staff-card.selected{border-color:rgba(139,92,246,0.5);background:rgba(139,92,246,0.05);box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -2px rgba(0,0,0,0.1),0 0 20px hsla(263,70%,50%,0.6)}.mhjg-modal-staff .staff-card.selected::before{opacity:1}.mhjg-modal-staff .staff-card .staff-header{display:flex;gap:16px;margin-bottom:32px}.mhjg-modal-staff .staff-card .staff-avatar-wrapper{position:relative;flex-shrink:0}.mhjg-modal-staff .staff-card .staff-avatar-wrapper .staff-avatar{width:80px;height:80px;border-radius:16px;border:2px solid rgba(139,92,246,0.3);object-fit:cover;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -2px rgba(0,0,0,0.1);transition:all 0.3s ease}.mhjg-modal-staff .staff-card .staff-avatar-wrapper .staff-level-badge{position:absolute;top:-8px;left:-8px;width:28px;height:28px;background:linear-gradient(135deg,hsl(32,95%,44%) 0%,hsl(38,92%,50%) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid rgb(15,23,42);font-size:10px;font-weight:bold;color:#000;box-shadow:0 1px 2px 0 rgba(0,0,0,0.05)}.mhjg-modal-staff .staff-card .staff-avatar-wrapper .staff-favorability-badge{position:absolute;bottom:-8px;right:-8px;min-width:32px;height:24px;border-radius:4px;display:flex;align-items:center;justify-content:center;border:2px solid rgb(15,23,42);font-size:10px;font-weight:bold;color:#ffffff;padding:0 6px;box-shadow:0 1px 2px 0 rgba(0,0,0,0.05)}.mhjg-modal-staff .staff-card .staff-info{flex:1;min-width:0}.mhjg-modal-staff .staff-card .staff-info .staff-name{font-size:20px;font-weight:bold;color:hsl(210,40%,98%);margin-bottom:8px;line-height:1.2;background:linear-gradient(to bottom,#f5f3ff 0%,hsl(267,75%,63%) 45%,hsl(263,70%,50%) 70%,hsl(265,83%,34%) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(263,70%,50%)}.mhjg-modal-staff .staff-card .staff-info .staff-tags{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px}.mhjg-modal-staff .staff-card .staff-info .staff-tag{padding:4px 8px;font-size:10px;text-transform:uppercase;letter-spacing:0.05em;border-radius:4px;border:1px solid;font-weight:600}.mhjg-modal-staff .staff-card .staff-info .staff-tag.staff-tag-race{background:rgb(30,41,59);color:hsl(215,20%,65%);border-color:rgb(30,41,59)}.mhjg-modal-staff .staff-card .staff-info .staff-tag.staff-tag-combat{background:rgba(30,23,50,0.5);color:rgba(99,102,241,0.8);border-color:rgba(99,102,241,0.2)}.mhjg-modal-staff .staff-card .staff-info .staff-tag.staff-tag-role{background:rgba(139,92,246,0.1);color:rgba(139,92,246,0.9);border-color:rgba(139,92,246,0.3)}.mhjg-modal-staff .staff-card .staff-info .staff-stats{display:flex;flex-direction:column;gap:8px;margin-top:16px}.mhjg-modal-staff .staff-card .staff-info .staff-stats .staff-stat-item{display:flex;align-items:center;gap:8px;font-size:11px}.mhjg-modal-staff .staff-card .staff-info .staff-stats .staff-stat-item .stat-label{min-width:70px;color:hsl(215,16%,47%);font-size:10px;text-transform:uppercase;letter-spacing:0.05em}.mhjg-modal-staff .staff-card .staff-info .staff-stats .staff-stat-item .stat-bar{flex:1;height:6px;background:rgb(30,41,59);border-radius:9999px;overflow:hidden;position:relative}.mhjg-modal-staff .staff-card .staff-info .staff-stats .staff-stat-item .stat-bar .stat-bar-fill{height:100%;border-radius:9999px;transition:width 0.3s ease;box-shadow:0 0 8px currentColor}.mhjg-modal-staff .staff-card .staff-info .staff-stats .staff-stat-item .stat-text{min-width:60px;font-size:10px;color:hsl(215,20%,65%);white-space:nowrap}.mhjg-modal-staff .staff-card .staff-info .staff-stats .staff-stat-item .stat-value{font-size:11px;font-weight:600;color:hsl(210,40%,98%)}.mhjg-modal-staff .staff-card .staff-info .staff-stats .staff-stat-item .stat-value.stat-salary{color:rgba(251,191,36,0.9)}.mhjg-modal-staff .staff-card .staff-appearance{margin-bottom:24px;padding:16px;background:rgba(15,23,42,0.5);border-radius:8px;border:1px solid rgba(255,255,255,0.05)}.mhjg-modal-staff .staff-card .staff-appearance .appearance-label{display:flex;align-items:center;gap:6px;font-size:11px;text-transform:uppercase;letter-spacing:0.1em;color:hsl(215,16%,47%);margin-bottom:8px}.mhjg-modal-staff .staff-card .staff-appearance .appearance-label svg{width:12px;height:12px;color:rgba(139,92,246,0.6)}.mhjg-modal-staff .staff-card .staff-appearance .appearance-text{font-size:13px;color:hsl(215,20%,65%);line-height:1.5;font-style:italic}.mhjg-modal-staff .staff-card .staff-thought{margin-bottom:24px;padding:16px;background:rgba(15,23,42,0.5);border-radius:8px;border:1px solid rgba(255,255,255,0.05);position:relative}.mhjg-modal-staff .staff-card .staff-thought .thought-quote{position:absolute;top:4px;left:8px;font-size:32px;color:rgb(30,41,59);font-family:serif;line-height:1}.mhjg-modal-staff .staff-card .staff-thought .thought-text{position:relative;z-index:10;padding-left:8px;font-size:14px;color:hsl(215,20%,65%);font-style:italic;line-height:1.5}.mhjg-modal-staff .staff-card .staff-preferences{display:flex;flex-direction:column;gap:16px;margin-bottom:24px}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preferences-label{display:flex;align-items:center;gap:6px;font-size:11px;text-transform:uppercase;letter-spacing:0.1em;color:hsl(215,16%,47%);margin-bottom:8px}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preferences-label svg{width:12px;height:12px}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preferences-label svg{color:rgba(16,185,129,0.6)}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section:last-child .preferences-label svg{color:rgba(239,68,68,0.6)}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preferences-list{display:flex;flex-wrap:wrap;gap:6px}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preference-tag{padding:4px 8px;font-size:11px;border-radius:4px;border:1px solid;font-weight:500}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preference-tag.preference-like{background:rgba(16,185,129,0.1);color:rgba(16,185,129,0.9);border-color:rgba(16,185,129,0.3)}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preference-tag.preference-dislike{background:rgba(239,68,68,0.1);color:rgba(239,68,68,0.9);border-color:rgba(239,68,68,0.3)}.mhjg-modal-staff .staff-card .staff-preferences .preferences-section .preference-empty{font-size:11px;color:hsl(215,16%,47%);font-style:italic}.mhjg-modal-staff .staff-card .staff-actions{display:flex;gap:8px}.mhjg-modal-staff .staff-card .staff-btn{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.05);color:hsl(210,40%,98%);font-size:12px;font-weight:600;cursor:pointer;transition:all 0.3s ease}.mhjg-modal-staff .staff-card .staff-btn:hover{background:rgba(255,255,255,0.1);border-color:rgba(139,92,246,0.5);transform:translateY(-2px)}.mhjg-modal-staff .staff-card .staff-btn.staff-btn-interact{flex:1;background:rgba(139,92,246,0.1);border-color:rgba(139,92,246,0.3);color:rgba(139,92,246,0.9)}.mhjg-modal-staff .staff-card .staff-btn.staff-btn-interact:hover{background:rgba(139,92,246,0.2);box-shadow:0 0 12px rgba(139,92,246,0.3)}.mhjg-modal-staff .staff-card .staff-btn.staff-btn-manage{background:rgba(251,191,36,0.1);border-color:rgba(251,191,36,0.3);color:rgba(251,191,36,0.9)}.mhjg-modal-staff .staff-card .staff-btn.staff-btn-manage:hover{background:rgba(251,191,36,0.2);box-shadow:0 0 12px rgba(251,191,36,0.3)}.mhjg-modal-staff .staff-card .staff-btn.staff-btn-more{padding:8px;color:hsl(215,20%,65%)}.mhjg-modal-staff .staff-card .staff-btn svg{width:14px;height:14px}.mhjg-modal-staff .staff-placeholder{aspect-ratio:1;border:2px dashed rgba(139,92,246,0.3);border-radius:24px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;color:hsl(215,16%,47%);cursor:pointer;transition:all 0.3s ease;background:rgba(139,92,246,0.05);min-height:300px}.mhjg-modal-staff .staff-placeholder:hover{border-color:rgba(139,92,246,0.5);color:rgba(139,92,246,0.9);background:rgba(139,92,246,0.1);transform:translateY(-4px);box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -2px rgba(0,0,0,0.1),0 0 20px hsla(263,70%,50%,0.6)}.mhjg-modal-staff .staff-placeholder .placeholder-icon{font-size:48px;margin-bottom:8px;opacity:0.3;font-weight:300;transition:all 0.3s ease}.mhjg-modal-staff .staff-placeholder:hover .placeholder-icon{opacity:0.6;transform:scale(1.1)}.mhjg-modal-staff .staff-placeholder .placeholder-text{font-family:"Cinzel Decorative",cursive;font-size:14px;text-transform:uppercase;letter-spacing:0.1em;opacity:0.6;transition:all 0.3s ease}.mhjg-modal-staff .staff-placeholder:hover .placeholder-text{opacity:1}body.modal-open{overflow:hidden}
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/StoryModal.scss (1) ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-modal-story{position:fixed;inset:0;z-index:50;display:flex;align-items:stretch;justify-content:stretch;padding:0;opacity:0;pointer-events:none;transition:opacity 0.3s ease}.mhjg-modal-story.open{opacity:1;pointer-events:all}.mhjg-modal-story .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.8);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.mhjg-modal-story .modal-window{position:relative;width:100%;height:100%;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:0;border:1px solid rgba(139,92,246,0.2);box-shadow:0 0 50px rgba(168,85,247,0.15);display:flex;flex-direction:column;animation:scaleIn 0.3s ease;overflow:hidden}.mhjg-modal-story .modal-header{padding:24px;border-bottom:1px solid rgba(255,255,255,0.05);background:linear-gradient(90deg,rgba(139,92,246,0.1) 0%,transparent 100%);display:flex;justify-content:space-between;align-items:center}@media (max-width:768px){.mhjg-modal-story .modal-header{padding:16px;flex-wrap:wrap;gap:8px}}@media (max-width:480px){.mhjg-modal-story .modal-header{padding:8px}}.mhjg-modal-story .modal-header .modal-header-left{display:flex;align-items:center;gap:16px}.mhjg-modal-story .modal-header .modal-icon{padding:8px;background:rgba(139,92,246,0.1);border-radius:16px;border:1px solid rgba(139,92,246,0.2);color:rgb(139,92,246);display:flex;align-items:center;justify-content:center}.mhjg-modal-story .modal-header .modal-icon svg{width:24px;height:24px}.mhjg-modal-story .modal-header .modal-title-group .modal-title{font-size:24px;color:rgba(139,92,246,0.9);font-weight:bold;font-family:"Cinzel Decorative",cursive;letter-spacing:0.05em;margin-bottom:4px}.mhjg-modal-story .modal-header .modal-title-group .modal-subtitle{color:rgba(139,92,246,0.5);font-size:12px;text-transform:uppercase;letter-spacing:0.1em}.mhjg-modal-story .modal-header .modal-header-actions{display:flex;align-items:center;gap:8px}.mhjg-modal-story .modal-header .modal-action-btn{display:flex;align-items:center;gap:4px;color:hsl(215,16%,47%);background:rgba(139,92,246,0.1);border:1px solid rgba(139,92,246,0.2);padding:4px 8px;border-radius:8px;font-size:12px;cursor:pointer;transition:all 0.3s ease}.mhjg-modal-story .modal-header .modal-action-btn svg{width:16px;height:16px}.mhjg-modal-story .modal-header .modal-action-btn span{font-size:12px}.mhjg-modal-story .modal-header .modal-action-btn:hover{color:rgba(139,92,246,0.9);background:rgba(139,92,246,0.2);border-color:rgba(139,92,246,0.4)}.mhjg-modal-story .modal-header .modal-close{color:hsl(215,16%,47%);background:transparent;border:1px solid transparent;padding:8px 16px;border-radius:8px;font-size:12px;text-transform:uppercase;letter-spacing:0.1em;font-weight:bold;cursor:pointer;transition:all 0.3s ease}.mhjg-modal-story .modal-header .modal-close:hover{color:rgba(139,92,246,0.8);border-color:rgba(139,92,246,0.2);text-decoration:underline}.mhjg-modal-story .modal-content{flex:1;overflow-y:auto;padding:32px;display:flex;flex-direction:column;gap:32px}.mhjg-modal-story .modal-content::-webkit-scrollbar{width:6px;height:6px}.mhjg-modal-story .modal-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.mhjg-modal-story .modal-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.mhjg-modal-story .modal-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.mhjg-modal-story .modal-content{position:relative}@media (max-width:768px){.mhjg-modal-story .modal-content{padding:16px;gap:24px}}@media (max-width:480px){.mhjg-modal-story .modal-content{padding:8px;gap:16px}}.mhjg-modal-story .generating-overlay{position:absolute;inset:0;background:rgba(0,0,0,0.7);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:10;animation:fadeIn 0.3s ease}.mhjg-modal-story .generating-content{display:flex;flex-direction:column;align-items:center;gap:16px;color:rgba(139,92,246,0.9)}.mhjg-modal-story .generating-spinner{width:48px;height:48px;border:3px solid rgba(139,92,246,0.2);border-top-color:rgba(139,92,246,0.9);border-radius:50%;animation:spin 1s linear infinite}.mhjg-modal-story .generating-text{font-size:16px;font-weight:500;color:rgba(139,92,246,0.9);font-family:"Cinzel Decorative",cursive;letter-spacing:0.05em}@keyframes spin{to{transform:rotate(360deg)}}.mhjg-modal-story .message-item{display:flex;gap:24px;animation:fadeIn 0.5s ease}.mhjg-modal-story .message-item.message-user{flex-direction:row-reverse}.mhjg-modal-story .message-item.message-loading .message-avatar .sparkles-icon{animation:pulse 2s infinite}.mhjg-modal-story .message-avatar{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:1px solid;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -2px rgba(0,0,0,0.1);flex-shrink:0}.mhjg-modal-story .message-avatar.avatar-model{background:rgb(30,23,50);border-color:rgba(139,92,246,0.7);color:rgba(139,92,246,0.8)}.mhjg-modal-story .message-avatar.avatar-user{background:rgb(30,41,59);border-color:rgb(30,41,59);color:hsl(210,40%,98%)}.mhjg-modal-story .message-avatar svg{width:18px;height:18px}.mhjg-modal-story .message-content-wrapper{max-width:75%;position:relative}@media (max-width:768px){.mhjg-modal-story .message-content-wrapper{max-width:85%}}@media (max-width:480px){.mhjg-modal-story .message-content-wrapper{max-width:90%}}.mhjg-modal-story .message-bubble{padding:24px;border-radius:24px;font-size:14px;line-height:1.8;box-shadow:0 20px 25px -5px rgba(0,0,0,0.1),0 8px 10px -6px rgba(0,0,0,0.1);border:1px solid;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);white-space:pre-wrap;word-wrap:break-word}.mhjg-modal-story .message-bubble.bubble-model{background:rgba(15,23,42,0.6);color:hsl(213,40%,85%);border-color:rgba(139,92,246,0.2);border-top-left-radius:0}.mhjg-modal-story .message-bubble.bubble-user{background:rgba(30,41,59,0.8);color:hsl(213,35%,88%);border-color:rgb(30,41,59);border-top-right-radius:0}.mhjg-modal-story .message-bubble .text-highlight{color:hsl(43,100%,65%);font-weight:700;text-shadow:0 0 10px rgba(251,191,36,0.6),0 0 20px rgba(251,191,36,0.3);background:linear-gradient(135deg,rgba(251,191,36,0.15) 0%,rgba(251,191,36,0.05) 100%);padding:2px 4px;border-radius:4px}.mhjg-modal-story .message-bubble .text-quote{color:hsl(258,85%,75%);font-style:italic;padding:0 4px;border-left:3px solid hsl(258,70%,60%);padding-left:8px;margin:0 4px;background:rgba(139,92,246,0.08);border-radius:0 4px 4px 0}.mhjg-modal-story .message-label{font-size:10px;color:rgba(139,92,246,0.4);margin-top:8px;margin-left:8px;font-family:monospace;text-transform:uppercase}.mhjg-modal-story .loading-dots{display:flex;align-items:center;gap:4px;height:56px;padding:0 24px}.mhjg-modal-story .loading-dots .dot{width:8px;height:8px;border-radius:50%;background:rgb(139,92,246);animation:bounce 1.4s infinite}.mhjg-modal-story .story-maintext{color:hsl(213,40%,85%);font-size:15px;line-height:1.9;white-space:pre-wrap;word-wrap:break-word;padding:24px;background:rgba(15,23,42,0.4);border-radius:16px;border:1px solid rgba(139,92,246,0.15);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}.mhjg-modal-story .story-maintext .text-highlight{color:hsl(43,100%,65%);font-weight:700}.mhjg-modal-story .story-maintext .text-emphasis{color:hsl(25,100%,65%);font-weight:600}.mhjg-modal-story .story-maintext .text-underline{color:hsl(180,70%,70%);text-decoration:underline;text-decoration-color:hsl(180,70%,70%)}.mhjg-modal-story .story-maintext .text-strikethrough{color:hsl(0,0%,60%);text-decoration:line-through;text-decoration-color:hsl(0,0%,50%)}.mhjg-modal-story .story-maintext .text-special{color:hsl(258,85%,75%);font-weight:600}.mhjg-modal-story .story-maintext .text-note{color:hsl(210,80%,70%);font-style:italic}.mhjg-modal-story .story-maintext .text-bracket{color:hsl(142,70%,65%)}.mhjg-modal-story .story-maintext .text-quote-cn{color:hsl(330,70%,75%)}.mhjg-modal-story .story-maintext .text-quote{color:hsl(258,85%,75%);font-style:italic}.mhjg-modal-story .story-maintext .text-quote-single{color:hsl(200,80%,75%);font-style:italic}.mhjg-modal-story .modal-options{padding:24px;background:linear-gradient(180deg,rgba(15,23,42,0.5) 0%,rgba(15,23,42,0.8) 100%);border-top:1px solid rgba(139,92,246,0.2);border-bottom:1px solid rgba(139,92,246,0.1)}@media (max-width:768px){.mhjg-modal-story .modal-options{padding:16px}}@media (max-width:480px){.mhjg-modal-story .modal-options{padding:8px}}.mhjg-modal-story .story-options-container{display:flex;flex-direction:column;gap:16px;max-width:1024px;margin:0 auto}@media (max-width:768px){.mhjg-modal-story .story-options-container{gap:8px}}.mhjg-modal-story .story-option-btn{width:100%;padding:16px 24px;background:rgba(139,92,246,0.1);color:hsl(213,40%,85%);border:1px solid rgba(139,92,246,0.3);border-radius:16px;font-size:14px;text-align:left;cursor:pointer;transition:all 0.3s ease;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);position:relative;overflow:hidden}.mhjg-modal-story .story-option-btn::before{content:"";position:absolute;left:0;top:0;bottom:0;width:0;background:linear-gradient(90deg,rgba(139,92,246,0.2) 0%,transparent 100%);transition:width 0.3s ease}.mhjg-modal-story .story-option-btn:hover:not(:disabled){background:rgba(139,92,246,0.2);border-color:rgba(139,92,246,0.5);transform:translateX(4px);box-shadow:0 4px 12px rgba(139,92,246,0.15)}.mhjg-modal-story .story-option-btn:hover:not(:disabled)::before{width:100%}.mhjg-modal-story .story-option-btn:active:not(:disabled){transform:translateX(2px)}.mhjg-modal-story .story-option-btn:disabled{opacity:0.5;cursor:not-allowed;transform:none}.mhjg-modal-story .story-option-btn .text-highlight{color:hsl(43,100%,65%);font-weight:700}.mhjg-modal-story .story-option-btn .text-emphasis{color:hsl(25,100%,65%);font-weight:600}.mhjg-modal-story .story-option-btn .text-underline{color:hsl(180,70%,70%);text-decoration:underline;text-decoration-color:hsl(180,70%,70%)}.mhjg-modal-story .story-option-btn .text-strikethrough{color:hsl(0,0%,60%);text-decoration:line-through;text-decoration-color:hsl(0,0%,50%)}.mhjg-modal-story .story-option-btn .text-special{color:hsl(258,85%,75%);font-weight:600}.mhjg-modal-story .story-option-btn .text-note{color:hsl(210,80%,70%);font-style:italic}.mhjg-modal-story .story-option-btn .text-bracket{color:hsl(142,70%,65%)}.mhjg-modal-story .story-option-btn .text-quote-cn{color:hsl(330,70%,75%)}.mhjg-modal-story .story-option-btn .text-quote{color:hsl(258,85%,75%);font-style:italic}.mhjg-modal-story .story-option-btn .text-quote-single{color:hsl(200,80%,75%);font-style:italic}.mhjg-modal-story .modal-input{padding:24px;background:linear-gradient(180deg,rgb(15,23,42) 0%,rgba(15,23,42,0.9) 100%);border-top:1px solid rgba(139,92,246,0.2)}.mhjg-modal-story .input-wrapper{position:relative;max-width:1024px;margin:0 auto}.mhjg-modal-story .story-input{width:100%;background:rgba(15,23,42,0.5);color:hsl(210,40%,98%);border:1px solid rgba(139,92,246,0.3);border-radius:24px;padding:16px 24px;padding-right:56px;font-size:14px;transition:all 0.3s ease}.mhjg-modal-story .story-input:focus{outline:none;border-color:rgb(139,92,246);box-shadow:0 0 0 1px rgba(139,92,246,0.5)}.mhjg-modal-story .story-input::placeholder{color:hsl(215,16%,47%)}.mhjg-modal-story .story-input:disabled{opacity:0.5;cursor:not-allowed}.mhjg-modal-story .story-send-btn{position:absolute;right:8px;top:50%;transform:translateY(-50%);aspect-ratio:1;width:40px;background:rgb(139,92,246);color:white;border:none;border-radius:16px;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(139,92,246,0.2)}.mhjg-modal-story .story-send-btn:hover:not(:disabled){background:rgba(139,92,246,0.8)}.mhjg-modal-story .story-send-btn:disabled{opacity:0.5;cursor:not-allowed}.mhjg-modal-story .story-send-btn svg{width:20px;height:20px}.review-story-overlay,.load-save-overlay{position:fixed;inset:0;z-index:100;background:rgba(0,0,0,0.8);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;padding:32px;animation:fadeIn 0.3s ease}.review-story-dialog,.load-save-dialog{background:rgba(15,23,42,0.95);border:1px solid rgba(139,92,246,0.3);border-radius:24px;box-shadow:0 0 50px rgba(168,85,247,0.3);max-width:800px;max-height:80vh;width:100%;display:flex;flex-direction:column;overflow:hidden}.review-story-header,.load-save-header{padding:24px;border-bottom:1px solid rgba(139,92,246,0.2);display:flex;justify-content:space-between;align-items:center}.review-story-header h3,.load-save-header h3{color:rgba(139,92,246,0.9);font-size:20px;font-weight:bold;margin:0}.review-story-header .review-story-close,.review-story-header .load-save-close,.load-save-header .review-story-close,.load-save-header .load-save-close{background:transparent;border:none;color:hsl(215,16%,47%);font-size:24px;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:8px;transition:all 0.3s ease}.review-story-header .review-story-close:hover,.review-story-header .load-save-close:hover,.load-save-header .review-story-close:hover,.load-save-header .load-save-close:hover{background:rgba(139,92,246,0.1);color:rgba(139,92,246,0.9)}.review-story-content,.load-save-content{flex:1;overflow-y:auto;padding:24px}.review-story-content::-webkit-scrollbar,.load-save-content::-webkit-scrollbar{width:6px;height:6px}.review-story-content::-webkit-scrollbar-track,.load-save-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.review-story-content::-webkit-scrollbar-thumb,.load-save-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.review-story-content::-webkit-scrollbar-thumb:hover,.load-save-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.review-story-item{padding:24px;margin-bottom:16px;background:rgba(15,23,42,0.5);border:1px solid rgba(139,92,246,0.2);border-radius:16px}.review-story-item .review-story-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:8px;border-bottom:1px solid rgba(139,92,246,0.1)}.review-story-item .review-story-item-header .review-story-index{color:rgba(139,92,246,0.9);font-weight:bold;font-size:14px}.review-story-item .review-story-item-header .review-story-id{color:hsl(215,16%,47%);font-size:12px;font-family:monospace}.review-story-item .review-story-maintext{color:hsl(213,40%,85%);font-size:14px;line-height:1.8;white-space:pre-wrap;word-wrap:break-word}.load-save-item{width:100%;padding:24px;margin-bottom:16px;background:rgba(139,92,246,0.1);border:1px solid rgba(139,92,246,0.3);border-radius:16px;cursor:pointer;text-align:left;transition:all 0.3s ease}.load-save-item:hover{background:rgba(139,92,246,0.2);border-color:rgba(139,92,246,0.5);transform:translateX(4px)}.load-save-item .load-save-sum{color:hsl(213,40%,85%);font-size:14px;line-height:1.8;margin-bottom:4px}.load-save-item .load-save-id{color:hsl(215,16%,47%);font-size:12px;font-family:monospace}
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/Navigation.scss (1) ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-navigation{position:relative;height:100%;width:96px;display:flex;flex-direction:column;align-items:center;padding:24px 0;z-index:20;border-right:1px solid rgba(255,255,255,0.08);background:linear-gradient(180deg,rgba(15,23,42,0.95) 0%,rgba(15,23,42,0.85) 100%);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);box-shadow:inset -1px 0 0 rgba(255,255,255,0.05),4px 0 20px rgba(0,0,0,0.3)}@media (max-width:1024px){.mhjg-navigation{width:80px;padding:16px 0}}@media (max-width:768px){.mhjg-navigation{width:100%;height:auto;flex-direction:row;border-right:none;border-bottom:1px solid rgba(255,255,255,0.08);padding:8px 16px;box-shadow:inset 0 -1px 0 rgba(255,255,255,0.05),0 4px 20px rgba(0,0,0,0.3)}}@media (max-width:480px){.mhjg-navigation{padding:4px 8px}}.mhjg-navigation .nav-logo{margin-bottom:40px;position:relative;cursor:pointer;width:56px;height:56px;display:flex;align-items:center;justify-content:center}.mhjg-navigation .nav-logo .logo-bg{position:absolute;inset:0;background:radial-gradient(circle,rgba(139,92,246,0.4) 0%,rgba(99,102,241,0.2) 50%,transparent 100%);border-radius:50%;filter:blur(20px);opacity:0.6;transition:all 0.4s ease;animation:logoGlow 3s ease-in-out infinite}.mhjg-navigation .nav-logo .logo-bg:hover{opacity:1;filter:blur(24px)}.mhjg-navigation .nav-logo .logo-text{position:relative;font-size:28px;font-weight:bold;background:linear-gradient(to bottom,#f5f3ff 0%,hsl(267,75%,63%) 45%,hsl(263,70%,50%) 70%,hsl(265,83%,34%) 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(263,70%,50%);z-index:10;font-family:"Cinzel Decorative",cursive;text-shadow:0 0 20px rgba(139,92,246,0.5),0 0 40px rgba(139,92,246,0.3);transition:transform 0.3s ease}.mhjg-navigation .nav-logo .logo-text:hover{transform:scale(1.1) rotate(5deg)}.mhjg-navigation .nav-logo .logo-icon{position:relative;z-index:10;color:rgba(139,92,246,0.9);width:28px;height:28px;transition:all 0.3s ease;filter:drop-shadow(0 0 8px rgba(139,92,246,0.5))}.mhjg-navigation .nav-logo .logo-icon:hover{color:rgb(139,92,246);transform:scale(1.1) rotate(90deg);filter:drop-shadow(0 0 12px rgba(139,92,246,0.8))}.mhjg-navigation .nav-items{flex:1;width:100%;display:flex;flex-direction:column;gap:24px;padding:0 16px}@media (max-width:1024px){.mhjg-navigation .nav-items{gap:16px;padding:0 8px}}@media (max-width:768px){.mhjg-navigation .nav-items{flex-direction:row;flex:0;gap:8px;padding:0;justify-content:space-around;width:100%}}@media (max-width:480px){.mhjg-navigation .nav-items{gap:4px}}.mhjg-navigation .nav-item{width:100%;aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:16px;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);border:1px solid transparent;background:transparent;color:hsl(215,16%,47%)}@media (max-width:1024px){.mhjg-navigation .nav-item{aspect-ratio:1}}@media (max-width:768px){.mhjg-navigation .nav-item{width:auto;aspect-ratio:1;min-width:48px;min-height:48px;padding:8px}}@media (max-width:480px){.mhjg-navigation .nav-item{min-width:40px;min-height:40px;padding:4px}}.mhjg-navigation .nav-item{cursor:pointer;position:relative;overflow:hidden}.mhjg-navigation .nav-item::before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(251,191,36,0.05) 0%,rgba(139,92,246,0.05) 100%);opacity:0;transition:opacity 0.3s ease}.mhjg-navigation .nav-item:hover{color:hsl(238,83%,66%);background:rgba(255,255,255,0.08);transform:translateY(-2px);border-color:rgba(99,102,241,0.3)}.mhjg-navigation .nav-item:hover::before{opacity:1}.mhjg-navigation .nav-item:hover .nav-icon{transform:scale(1.1)}.mhjg-navigation .nav-item.active{color:hsl(38,92%,50%);background:linear-gradient(135deg,rgba(251,191,36,0.15) 0%,rgba(139,92,246,0.1) 100%),rgba(30,41,59,0.8);border-color:rgba(251,191,36,0.5);box-shadow:0 4px 20px rgba(251,191,36,0.25),inset 0 1px 0 rgba(255,255,255,0.1)}.mhjg-navigation .nav-item.active::before{opacity:1}.mhjg-navigation .nav-item.active .nav-icon{filter:drop-shadow(0 0 12px rgba(251,191,36,0.8));transform:scale(1.15);color:hsl(38,92%,50%)}.mhjg-navigation .nav-item.active .nav-label{opacity:1;color:hsl(38,92%,50%);font-weight:600}.mhjg-navigation .nav-item.active::after{content:"";position:absolute;inset-x:0;bottom:0;height:3px;background:linear-gradient(90deg,transparent 0%,hsl(38,92%,50%) 50%,transparent 100%);opacity:1;box-shadow:0 0 10px rgba(251,191,36,0.6)}.mhjg-navigation .nav-item .nav-icon{margin-bottom:6px;transition:all 0.3s;display:flex;align-items:center;justify-content:center}.mhjg-navigation .nav-item .nav-icon svg{width:22px;height:22px}.mhjg-navigation .nav-item .nav-label{font-size:10px;font-weight:500;letter-spacing:0.1em;text-transform:uppercase;opacity:0.6;transition:opacity 0.3s}.mhjg-navigation .nav-status{margin-top:auto;padding-top:24px;border-top:1px solid rgba(255,255,255,0.05);width:100%;text-align:center}.mhjg-navigation .nav-status .status-indicator{width:10px;height:10px;border-radius:50%;background:radial-gradient(circle,rgb(16,185,129) 0%,rgba(16,185,129,0.6) 100%);margin:0 auto 8px;animation:statusPulse 2s ease-in-out infinite;box-shadow:0 0 10px rgba(16,185,129,0.6),0 0 20px rgba(16,185,129,0.3)}.mhjg-navigation .nav-status .status-text{font-size:10px;color:hsl(215,16%,47%);font-family:monospace;letter-spacing:0.2em;font-weight:500}@keyframes logoGlow{0%,100%{opacity:0.6;filter:blur(20px)}50%{opacity:0.9;filter:blur(24px)}}@keyframes statusPulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.2);opacity:0.8}}
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/NewGameSetup.scss (1) ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.new-game-setup{position:fixed;inset:0;width:100%;height:100%;display:flex;font-family:"Outfit",sans-serif;color:hsl(210,40%,98%);background-color:hsl(224,71%,4%);opacity:0;pointer-events:none;transition:opacity 0.6s ease;z-index:100;overflow:hidden}.new-game-setup.visible{opacity:1;pointer-events:all}.new-game-setup .setup-bg{position:absolute;inset:0;background:radial-gradient(circle at 20% 30%,#1e1b4b 0%,#020617 70%);z-index:0}.new-game-setup .setup-particles{position:absolute;inset:0;background-image:radial-gradient(rgba(255,255,255,0.1) 1px,transparent 1px),radial-gradient(rgba(255,255,255,0.1) 1px,transparent 1px);background-size:50px 50px,30px 30px;background-position:0 0,25px 25px;opacity:0.3;animation:particleMove 60s linear infinite;z-index:1}.new-game-setup .setup-container{position:relative;z-index:10;width:100%;height:100%;max-width:1800px;margin:0 auto;display:grid;grid-template-rows:auto 1fr auto;padding:24px 32px;gap:24px}@media (max-width:768px){.new-game-setup .setup-container{padding:16px;gap:16px}}@media (max-width:480px){.new-game-setup .setup-container{padding:8px;gap:8px}}.new-game-setup .setup-utility-buttons{position:absolute;top:1.5rem;right:1.5rem;z-index:20;display:flex;flex-direction:column;gap:0.75rem}.new-game-setup .setup-utility-btn{padding:0.75rem;border-radius:50%;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.05);color:rgb(148,163,184);cursor:pointer;backdrop-filter:blur(8px);transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;width:2.75rem;height:2.75rem}.new-game-setup .setup-utility-btn:hover{background:rgba(255,255,255,0.1);border-color:rgba(244.8,158.78,10.2,0.3);color:rgb(251,191,36)}.new-game-setup .setup-utility-btn:hover svg{transform:scale(1.1)}.new-game-setup .setup-utility-btn:active{transform:scale(0.95)}.new-game-setup .setup-utility-btn svg{width:1.125rem;height:1.125rem;transition:transform 0.3s ease}.new-game-setup .setup-header{display:flex;align-items:center;justify-content:space-between;padding-bottom:24px;border-bottom:1px solid rgba(255,255,255,0.05)}.new-game-setup .setup-header .header-left{display:flex;align-items:center;gap:24px}.new-game-setup .setup-header .back-btn{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);display:flex;align-items:center;gap:8px;padding:8px 24px;border-radius:9999px;cursor:pointer;transition:all 0.3s ease;color:hsl(215,20%,65%)}.new-game-setup .setup-header .back-btn:hover{background:rgba(255,255,255,0.1);color:#ffffff;transform:translateX(-5px);border-color:rgba(244.8,158.78,10.2,0.3)}.new-game-setup .setup-header .page-title{font-family:"Cinzel Decorative",cursive;font-size:32px;background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%);margin:0}.new-game-setup .setup-content{display:grid;grid-template-columns:2fr 1fr;gap:32px;overflow:hidden;height:100%}@media (max-width:1024px){.new-game-setup .setup-content{grid-template-columns:1fr;overflow-y:auto;gap:24px}}@media (max-width:768px){.new-game-setup .setup-content{gap:16px}}@media (max-width:480px){.new-game-setup .setup-content{gap:8px}}.new-game-setup .setup-form-scroll{overflow-y:auto;padding-right:16px}.new-game-setup .setup-form-scroll::-webkit-scrollbar{width:6px;height:6px}.new-game-setup .setup-form-scroll::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.new-game-setup .setup-form-scroll::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.new-game-setup .setup-form-scroll::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.new-game-setup .setup-form-scroll{padding-bottom:32px;display:flex;flex-direction:column;gap:48px}.new-game-setup .form-section{opacity:0;transform:translateY(20px);animation:fadeInUp 0.5s ease forwards}.new-game-setup .form-section:nth-child(1){animation-delay:0.1s}.new-game-setup .form-section:nth-child(2){animation-delay:0.2s}.new-game-setup .form-section:nth-child(3){animation-delay:0.3s}.new-game-setup .form-section:nth-child(4){animation-delay:0.4s}.new-game-setup .form-section:nth-child(5){animation-delay:0.5s}.new-game-setup .form-section .section-header{display:flex;align-items:center;gap:16px;margin-bottom:24px}.new-game-setup .form-section .section-header .step-number{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,hsl(32,95%,44%),hsl(38,92%,50%));color:#000;font-weight:700;font-size:14px;box-shadow:0 0 10px hsla(38,92%,50%,0.6)}.new-game-setup .form-section .section-header .section-title{font-family:"Cinzel Decorative",cursive;font-size:24px;color:#ffffff}.new-game-setup .input-group{position:relative}.new-game-setup .input-group input[type=text]{width:100%;background:rgba(0,0,0,0.2);border:1px solid hsla(217,33%,17%,0.5);padding:24px;border-radius:8px;color:hsl(210,40%,98%);font-size:18px;transition:all 0.3s ease}.new-game-setup .input-group input[type=text]:focus{outline:none;border-color:hsl(38,92%,50%);box-shadow:0 0 0 2px rgba(244.8,158.78,10.2,0.2);background:rgba(0,0,0,0.4)}.new-game-setup .input-group .random-btn{position:absolute;right:16px;top:50%;transform:translateY(-50%);background:none;border:none;color:hsl(215,20%,65%);cursor:pointer;transition:all 0.3s ease;padding:8px;border-radius:4px}.new-game-setup .input-group .random-btn:hover{color:hsl(38,92%,50%);background:rgba(244.8,158.78,10.2,0.1)}.new-game-setup .cards-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.new-game-setup .selection-card{background:linear-gradient(135deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.01) 100%);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.05);box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}.new-game-setup .selection-card:hover{background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.02) 100%);border-color:rgba(255,255,255,0.1);transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,0.2)}.new-game-setup .selection-card{padding:24px;cursor:pointer;display:flex;flex-direction:column;gap:8px;border-radius:16px}.new-game-setup .selection-card.selected{background:linear-gradient(135deg,rgba(244.8,158.78,10.2,0.15) 0%,rgba(244.8,158.78,10.2,0.05) 100%);border-color:hsl(38,92%,50%);box-shadow:0 0 20px rgba(244.8,158.78,10.2,0.2),inset 0 0 0 1px rgba(244.8,158.78,10.2,0.1)}.new-game-setup .selection-card.selected .card-icon{color:hsl(38,92%,50%);transform:scale(1.1)}.new-game-setup .selection-card .card-icon{width:40px;height:40px;margin-bottom:8px;color:hsl(215,20%,65%);transition:all 0.3s ease}.new-game-setup .selection-card .card-title{font-weight:600;font-size:18px;color:#ffffff}.new-game-setup .selection-card .card-desc{font-size:14px;color:hsl(215,20%,65%);line-height:1.5}.new-game-setup .selection-card input[type=radio]{display:none}.new-game-setup .preview-panel{position:relative;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;display:flex;flex-direction:column;overflow:hidden;border:1px solid rgba(244.8,158.78,10.2,0.2);box-shadow:0 20px 50px rgba(0,0,0,0.5)}.new-game-setup .preview-panel .preview-header{padding:24px;background:linear-gradient(to bottom,rgba(244.8,158.78,10.2,0.1),transparent);border-bottom:1px solid rgba(255,255,255,0.05);text-align:center}.new-game-setup .preview-panel .preview-header h3{font-family:"Cinzel Decorative",cursive;font-size:24px;color:hsl(43,96%,56%);margin:0}.new-game-setup .preview-panel .preview-content{padding:24px;flex:1;display:flex;flex-direction:column;gap:24px;overflow-y:auto}.new-game-setup .preview-panel .preview-content::-webkit-scrollbar{width:6px;height:6px}.new-game-setup .preview-panel .preview-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.new-game-setup .preview-panel .preview-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.new-game-setup .preview-panel .preview-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.new-game-setup .preview-panel .preview-item{animation:slideInRight 0.4s ease forwards}.new-game-setup .preview-panel .preview-item .label{font-size:12px;text-transform:uppercase;letter-spacing:0.1em;color:hsl(215,16%,47%);margin-bottom:4px}.new-game-setup .preview-panel .preview-item .value{font-size:18px;color:hsl(210,40%,98%);font-weight:500}.new-game-setup .preview-panel .preview-item .value.highlight{color:hsl(43,96%,56%);font-family:"Cinzel Decorative",cursive;font-size:22px}.new-game-setup .preview-panel .preview-item .desc-box{margin-top:4px;padding:8px;background:rgba(0,0,0,0.2);border-radius:4px;font-size:13px;color:hsl(215,20%,65%);line-height:1.4;border-left:2px solid hsl(263,70%,50%)}.new-game-setup .preview-panel .preview-footer{padding:24px;border-top:1px solid rgba(255,255,255,0.05);background:rgba(0,0,0,0.2)}.new-game-setup .preview-panel .preview-footer .confirm-btn{width:100%;padding:16px;border:none;border-radius:8px;background:linear-gradient(135deg,hsl(32,95%,44%),hsl(38,92%,50%));color:#000;font-family:"Cinzel Decorative",cursive;font-size:18px;font-weight:700;cursor:pointer;transition:all 0.3s ease;box-shadow:0 4px 15px rgba(244.8,158.78,10.2,0.3)}.new-game-setup .preview-panel .preview-footer .confirm-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(244.8,158.78,10.2,0.4);filter:brightness(1.1)}.new-game-setup .preview-panel .preview-footer .confirm-btn:active{transform:translateY(0)}@keyframes particleMove{0%{background-position:0 0,25px 25px}100%{background-position:500px 500px,525px 525px}}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}@keyframes slideInRight{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/BackgroundEffects.scss (1) ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.background-effects{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:10}.background-effects .bg-gradient-overlay{position:absolute;inset:0;background:linear-gradient(to top,hsl(224,71%,4%) 0%,rgba(2.958,6.8204,17.442,0.8) 50%,rgba(2.958,6.8204,17.442,0.4) 100%);z-index:10}.background-effects .bg-radial-gradient{position:absolute;inset:0;background:radial-gradient(circle at center,rgba(244.8,158.78,10.2,0.2) 0%,rgba(2.958,6.8204,17.442,0.6) 50%,hsl(224,71%,4%) 100%);mix-blend-mode:overlay;z-index:10}.background-effects .bg-particles-container{position:absolute;inset:0;z-index:5}.background-effects .bg-particle{position:absolute;border-radius:50%;pointer-events:none}.background-effects .bg-particle.bg-particle-amber{background:hsl(43,96%,56%);filter:blur(1px);box-shadow:0 0 4px hsla(38,92%,50%,0.6)}.background-effects .bg-particle.bg-particle-purple{background:hsl(267,75%,63%);filter:blur(2px);box-shadow:0 0 6px hsla(263,70%,50%,0.6)}
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/SplashScreen.scss (1) ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
@charset "UTF-8";.splash-screen{position:fixed;top:0;left:0;z-index:100;width:100vw;height:100vh;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;font-family:"Outfit",sans-serif;opacity:0;pointer-events:none;transition:opacity 0.8s ease;background-color:hsl(224,71%,4%);perspective:1000px}.splash-screen.visible{opacity:1;pointer-events:all}.splash-screen .splash-loading{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:hsl(224,71%,4%);z-index:50}.splash-screen .splash-loading .loading-spinner{width:80px;height:80px;border:2px solid rgba(250.512,189.4752,35.088,0.1);border-top-color:hsl(38,92%,50%);border-bottom-color:hsl(263,70%,50%);border-radius:50%;animation:spin 1.5s cubic-bezier(0.68,-0.55,0.265,1.55) infinite;filter:drop-shadow(0 0 10px hsla(38,92%,50%,0.6))}.splash-screen .splash-background{position:absolute;inset:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;z-index:0;transform:scale(1.1);transition:transform 10s ease-out;will-change:transform}.splash-screen .splash-background::after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 50% 50%,rgba(0,0,0,0) 0%,rgba(2,6,23,0.05) 100%),linear-gradient(to bottom,rgba(2,6,23,0.05) 0%,rgba(2,6,23,0.05) 100%)}.splash-screen .splash-aurora{position:absolute;inset:-50%;width:200%;height:200%;background:radial-gradient(circle at 50% 50%,rgba(244.8,158.78,10.2,0.1) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(106.675,38.25,216.75,0.15) 0%,transparent 40%);filter:blur(60px);animation:auroraMove 20s ease-in-out infinite alternate;z-index:1;pointer-events:none}.splash-screen .splash-content{position:relative;z-index:20;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:1400px;margin:0 auto;padding:32px;min-height:calc(100vh - 200px);flex:1}@media (max-width:768px){.splash-screen .splash-content{padding:24px;min-height:calc(100vh - 250px)}}@media (max-width:480px){.splash-screen .splash-content{padding:16px}}.splash-screen .splash-title-section{margin-bottom:6vh;text-align:center;transform-style:preserve-3d}@media (max-width:768px){.splash-screen .splash-title-section{margin-bottom:4vh}}@media (max-width:480px){.splash-screen .splash-title-section{margin-bottom:3vh}}.splash-screen .splash-title{font-family:"Cinzel Decorative",cursive;font-size:clamp(60px,8vw,120px);line-height:1.1;letter-spacing:0.05em;margin-bottom:24px;color:transparent;background:linear-gradient(to bottom,#ffffff 0%,#fcd34d 40%,#b45309 100%);-webkit-background-clip:text;background-clip:text;filter:drop-shadow(0 10px 20px rgba(0,0,0,0.5));font-weight:700;text-transform:uppercase;position:relative}.splash-screen .splash-title::after{content:attr(data-text);position:absolute;left:0;top:0;width:100%;height:100%;background:linear-gradient(to bottom,transparent 40%,rgba(251,191,36,0.8) 100%);-webkit-background-clip:text;background-clip:text;color:transparent;filter:blur(8px);z-index:-1;opacity:0.6;animation:titleGlowPulse 3s ease-in-out infinite}.splash-screen .splash-subtitle-wrapper{display:flex;align-items:center;justify-content:center;gap:24px;opacity:0.9}.splash-screen .splash-subtitle{font-family:"Playfair Display",serif;font-size:clamp(18px,2vw,24px);color:hsl(210,40%,98%);letter-spacing:0.3em;font-weight:300;text-transform:uppercase;text-shadow:0 2px 4px rgba(0,0,0,0.5);position:relative}.splash-screen .splash-subtitle::before,.splash-screen .splash-subtitle::after{content:"âœ¦";color:hsl(38,92%,50%);margin:0 8px;font-size:12px;vertical-align:middle;opacity:0.8}.splash-screen .splash-subtitle-line{width:60px;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.5),transparent)}.splash-screen .splash-buttons{display:flex;flex-direction:column;gap:24px;width:100%;max-width:360px;align-items:stretch;perspective:1000px;margin-bottom:8vh}@media (max-width:768px){.splash-screen .splash-buttons{max-width:100%;margin-bottom:6vh;gap:16px}}@media (max-width:480px){.splash-screen .splash-buttons{margin-bottom:4vh;gap:8px}}.splash-screen .glass-btn{position:relative;padding:24px 32px;background:linear-gradient(90deg,rgba(2,6,23,0.6) 0%,rgba(15,23,42,0.8) 50%,rgba(2,6,23,0.6) 100%);border:1px solid rgba(255,255,255,0.08);border-radius:4px;color:hsl(210,40%,98%);font-family:"Outfit",sans-serif;font-size:16px;font-weight:500;letter-spacing:0.15em;text-transform:uppercase;cursor:pointer;transition:all 0.4s cubic-bezier(0.23,1,0.32,1);overflow:hidden;backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center}.splash-screen .glass-btn::before{content:"";position:absolute;top:0;left:0;width:2px;height:100%;background:linear-gradient(to bottom,transparent,hsl(38,92%,50%),transparent);opacity:0;transition:opacity 0.3s ease}.splash-screen .glass-btn::after{content:"";position:absolute;top:0;right:0;width:2px;height:100%;background:linear-gradient(to bottom,transparent,hsl(38,92%,50%),transparent);opacity:0;transition:opacity 0.3s ease}.splash-screen .glass-btn .btn-content{position:relative;z-index:2;display:flex;align-items:center;gap:16px;transition:transform 0.3s ease}.splash-screen .glass-btn .btn-icon{width:18px;height:18px;color:hsl(215,20%,65%);transition:color 0.3s ease,transform 0.3s ease}.splash-screen .glass-btn:hover{background:linear-gradient(90deg,rgba(2,6,23,0.8) 0%,rgba(30,41,59,0.9) 50%,rgba(2,6,23,0.8) 100%);border-color:rgba(244.8,158.78,10.2,0.3);transform:translateY(-2px) scale(1.02);box-shadow:0 10px 30px -10px rgba(0,0,0,0.5),0 0 15px rgba(244.8,158.78,10.2,0.2);color:hsl(43,96%,56%)}.splash-screen .glass-btn:hover::before,.splash-screen .glass-btn:hover::after{opacity:1}.splash-screen .glass-btn:hover .btn-content{transform:scale(1.05)}.splash-screen .glass-btn:hover .btn-icon{color:hsl(38,92%,50%);transform:rotate(15deg);filter:drop-shadow(0 0 5px hsl(38,92%,50%))}.splash-screen .glass-btn.glass-btn-primary{border-color:rgba(244.8,158.78,10.2,0.3);box-shadow:0 0 20px rgba(244.8,158.78,10.2,0.1)}.splash-screen .glass-btn.glass-btn-primary:hover{box-shadow:0 0 30px rgba(244.8,158.78,10.2,0.3)}.splash-screen .glass-btn.glass-btn-danger:hover{border-color:rgba(233.682,51.918,103.4178,0.4);color:hsl(343,81%,56%);box-shadow:0 0 20px rgba(233.682,51.918,103.4178,0.2)}.splash-screen .glass-btn.glass-btn-danger:hover .btn-icon{color:hsl(343,81%,56%);filter:drop-shadow(0 0 5px hsl(343,81%,56%))}.splash-screen .glass-btn.glass-btn-danger:hover::before,.splash-screen .glass-btn.glass-btn-danger:hover::after{background:linear-gradient(to bottom,transparent,hsl(343,81%,56%),transparent)}.splash-screen .splash-footer{position:absolute;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;gap:16px;padding:32px 32px 24px;z-index:25;background:linear-gradient(to top,rgba(2,6,23,0.85) 0%,rgba(2,6,23,0.6) 50%,transparent 100%);backdrop-filter:blur(8px)}.splash-screen .splash-footer .footer-line{width:200px;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);opacity:0.6;margin-bottom:8px}.splash-screen .splash-footer .footer-content{display:grid;grid-template-columns:1fr 2fr 1fr;align-items:center;width:100%;max-width:1600px;gap:32px}@media (max-width:1024px){.splash-screen .splash-footer .footer-content{grid-template-columns:1fr;gap:24px;text-align:center}}@media (max-width:768px){.splash-screen .splash-footer .footer-content{gap:16px;padding:0 16px}}@media (max-width:480px){.splash-screen .splash-footer .footer-content{gap:8px;padding:0 8px}}.splash-screen .splash-footer .footer-left{display:flex;justify-content:flex-start;align-items:center}@media (max-width:1024px){.splash-screen .splash-footer .footer-left{justify-content:center}}.splash-screen .splash-footer .footer-left .footer-text{color:rgba(255,255,255,0.7);font-size:11px;letter-spacing:0.15em;text-transform:uppercase;font-weight:400;text-shadow:0 1px 3px rgba(0,0,0,0.5)}.splash-screen .splash-footer .footer-center{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.splash-screen .splash-footer .footer-center .footer-author{display:flex;flex-direction:column;align-items:center;gap:4px;margin-bottom:4px}.splash-screen .splash-footer .footer-center .footer-author .author-label{color:rgba(255,255,255,0.5);font-size:9px;letter-spacing:0.2em;text-transform:uppercase;font-weight:300;text-shadow:0 1px 2px rgba(0,0,0,0.5)}.splash-screen .splash-footer .footer-center .footer-author .author-name{font-family:"Cinzel Decorative",cursive;font-size:28px;font-weight:700;letter-spacing:0.1em;background:linear-gradient(135deg,rgb(251,191,36) 0%,rgb(245,158,11) 30%,rgb(251,191,36) 60%,rgb(234,179,8) 100%);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 0 20px rgba(251,191,36,0.5);position:relative;text-transform:uppercase;filter:drop-shadow(0 2px 8px rgba(251,191,36,0.4));animation:authorGlow 3s ease-in-out infinite}@media (max-width:768px){.splash-screen .splash-footer .footer-center .footer-author .author-name{font-size:24px}}@media (max-width:480px){.splash-screen .splash-footer .footer-center .footer-author .author-name{font-size:20px}}.splash-screen .splash-footer .footer-center .footer-author .author-name::after{content:"POARIES";position:absolute;left:0;top:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(251,191,36,0.8) 0%,rgba(245,158,11,0.8) 50%,rgba(251,191,36,0.8) 100%);-webkit-background-clip:text;background-clip:text;color:transparent;filter:blur(4px);z-index:-1;opacity:0.6;animation:authorGlowPulse 2s ease-in-out infinite}.splash-screen .splash-footer .footer-center .footer-copyright p{margin:0;color:rgba(255,255,255,0.7);font-size:11px;line-height:1.6;font-weight:300;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,0.5)}.splash-screen .splash-footer .footer-center .footer-copyright .license-link{color:rgba(255,255,255,0.8);text-decoration:none;display:inline-flex;align-items:center;gap:4px;transition:all 0.3s ease;margin-left:4px;font-weight:400}.splash-screen .splash-footer .footer-center .footer-copyright .license-link:hover{color:rgb(251,191,36);text-shadow:0 0 8px rgba(251,191,36,0.6)}.splash-screen .splash-footer .footer-center .footer-copyright .license-icons{display:inline-flex;align-items:center;gap:3px;margin-left:6px;vertical-align:middle}.splash-screen .splash-footer .footer-center .footer-copyright .license-icon{height:16px;width:auto;opacity:0.8;transition:all 0.3s ease;filter:brightness(1)}.splash-screen .splash-footer .footer-center .footer-copyright .license-link:hover .license-icon{opacity:1;filter:brightness(1.2) drop-shadow(0 0 4px rgba(251,191,36,0.5));transform:scale(1.1)}.splash-screen .splash-footer .footer-right{display:flex;justify-content:flex-end;align-items:center}@media (max-width:1024px){.splash-screen .splash-footer .footer-right{justify-content:center}}.splash-screen .splash-footer .footer-right .footer-navigation{display:flex;align-items:center}.splash-screen .splash-footer .footer-right .footer-nav-link{display:inline-flex;align-items:center;gap:8px;color:rgba(255,255,255,0.8);font-size:12px;letter-spacing:0.15em;text-transform:uppercase;text-decoration:none;padding:8px 16px;border-radius:6px;transition:all 0.3s ease;font-weight:600;border:1px solid rgba(255,255,255,0.1);background:rgba(88,101,242,0.1);text-shadow:0 1px 2px rgba(0,0,0,0.5)}.splash-screen .splash-footer .footer-right .footer-nav-link svg{width:16px;height:16px;transition:transform 0.3s ease}.splash-screen .splash-footer .footer-right .footer-nav-link:hover{color:rgb(255,255,255);background:rgba(88,101,242,0.25);border-color:rgba(88,101,242,0.5);transform:translateY(-2px);box-shadow:0 4px 12px rgba(88,101,242,0.3)}.splash-screen .splash-footer .footer-right .footer-nav-link:hover svg{transform:scale(1.15) rotate(5deg)}.splash-screen .splash-footer .footer-right .footer-nav-link:active{transform:translateY(0)}.splash-screen .splash-utility-buttons{position:absolute;top:1.5rem;right:1.5rem;z-index:20;display:flex;flex-direction:column;gap:0.75rem}.splash-screen .splash-utility-btn{padding:0.75rem;border-radius:50%;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.05);color:rgb(148,163,184);cursor:pointer;backdrop-filter:blur(8px);transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;width:2.75rem;height:2.75rem}.splash-screen .splash-utility-btn:hover{background:rgba(255,255,255,0.1);border-color:rgba(244.8,158.78,10.2,0.3);color:rgb(251,191,36)}.splash-screen .splash-utility-btn:hover svg{transform:scale(1.1)}.splash-screen .splash-utility-btn:active{transform:scale(0.95)}.splash-screen .splash-utility-btn svg{width:1.125rem;height:1.125rem;transition:transform 0.3s ease}@keyframes spin{to{transform:rotate(360deg)}}@keyframes auroraMove{0%{transform:translate(-10%,-10%) rotate(0deg)}100%{transform:translate(10%,10%) rotate(5deg)}}@keyframes titleGlowPulse{0%,100%{opacity:0.4;filter:blur(8px)}50%{opacity:0.8;filter:blur(12px)}}@keyframes authorGlow{0%,100%{filter:drop-shadow(0 2px 8px rgba(251,191,36,0.4)) drop-shadow(0 0 12px rgba(251,191,36,0.3))}50%{filter:drop-shadow(0 2px 12px rgba(251,191,36,0.6)) drop-shadow(0 0 20px rgba(251,191,36,0.5))}}@keyframes authorGlowPulse{0%,100%{opacity:0.5;filter:blur(4px)}50%{opacity:0.8;filter:blur(6px)}}
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/StartScreen.scss (1) ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.start-screen{position:fixed;top:0;left:0;z-index:1000;width:100vw;height:100vh;min-height:100vh;background-color:hsl(224,71%,4%);display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity 1s ease-in-out;cursor:pointer}.start-screen.visible{opacity:1;pointer-events:all}.start-screen::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at center,rgba(244.8,158.78,10.2,0.05) 0%,transparent 60%);opacity:0.5}.start-screen .start-screen-content{text-align:center;-webkit-user-select:none;user-select:none;position:relative;z-index:10;padding:32px;transition:transform 0.3s ease}.start-screen .start-screen-text{display:flex;flex-direction:column;gap:24px;align-items:center}.start-screen .start-text-main{font-family:"Cinzel Decorative",cursive;font-size:clamp(24px,4vw,48px);color:hsl(210,40%,98%);letter-spacing:0.3em;text-transform:uppercase;animation:breathe 4s ease-in-out infinite;transition:all 0.5s cubic-bezier(0.4,0,0.2,1);text-shadow:0 0 10px rgba(0,0,0,0.5)}.start-screen:hover .start-screen .start-text-main{color:hsl(43,96%,56%);text-shadow:0 0 30px hsla(38,92%,50%,0.6),0 0 10px hsla(38,92%,50%,0.6);transform:scale(1.1);letter-spacing:0.35em}.start-screen .start-text-hint{font-family:"Outfit",sans-serif;font-size:12px;color:hsl(215,20%,65%);letter-spacing:0.4em;text-transform:uppercase;opacity:0.5;margin-top:16px}.start-screen .start-text-hint::before,.start-screen .start-text-hint::after{content:"-";margin:0 8px;color:hsl(32,95%,44%)}@keyframes breathe{0%,100%{opacity:0.8;transform:scale(1)}50%{opacity:0.4;transform:scale(0.98)}}
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/TopBar.scss (1) ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-topbar{height:96px;width:100%;padding:0 32px;display:flex;align-items:center;justify-content:space-between;z-index:10;position:relative}@media (max-width:768px){.mhjg-topbar{height:auto;min-height:80px;padding:16px;flex-wrap:wrap;gap:8px}}@media (max-width:480px){.mhjg-topbar{padding:8px;min-height:70px}}.mhjg-topbar .topbar-bg{position:absolute;inset:0;background:linear-gradient(180deg,hsl(224,71%,4%) 0%,transparent 100%);pointer-events:none}.mhjg-topbar .topbar-content{position:relative;width:100%;display:flex;align-items:center;justify-content:space-between}.mhjg-topbar .topbar-title{display:flex;flex-direction:column;gap:8px}@media (max-width:768px){.mhjg-topbar .topbar-title{gap:2px}}.mhjg-topbar .topbar-title .title-text{font-size:30px;font-weight:bold;background:linear-gradient(to bottom,#fffbeb 0%,#fcd34d 50%,#d97706 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:hsl(38,92%,50%);font-family:"Cinzel Decorative",cursive;letter-spacing:0.1em;text-shadow:0 0 10px rgba(251,191,36,0.5)}@media (max-width:768px){.mhjg-topbar .topbar-title .title-text{font-size:24px}}@media (max-width:480px){.mhjg-topbar .topbar-title .title-text{font-size:20px}}.mhjg-topbar .topbar-title .title-subtitle{display:flex;align-items:center;gap:16px;opacity:0.7}.mhjg-topbar .topbar-title .title-subtitle .subtitle-line{height:1px;width:32px;background:linear-gradient(90deg,transparent,rgba(251,191,36,0.5),transparent)}.mhjg-topbar .topbar-title .title-subtitle .subtitle-text{color:rgba(251,191,36,0.8);font-size:12px;letter-spacing:0.2em;text-transform:uppercase;font-weight:500}.mhjg-topbar .topbar-resources{display:flex;align-items:center;gap:16px;flex-wrap:nowrap;min-width:0;flex:1;justify-content:flex-end}@media (max-width:768px){.mhjg-topbar .topbar-resources{flex-wrap:wrap;gap:8px;justify-content:flex-start;width:100%;margin-top:8px}}@media (max-width:480px){.mhjg-topbar .topbar-resources{gap:4px}}.mhjg-topbar .resource-item{height:48px;padding-left:16px;padding-right:32px;border-radius:16px;border:1px solid;background:linear-gradient(90deg,var(--bg-from,rgba(15,23,42,0.4)),var(--bg-to,rgba(15,23,42,0.4)));display:flex;align-items:center;gap:16px;transition:all 0.3s ease}.mhjg-topbar .resource-item:hover{background:rgba(30,41,59,0.6)}.mhjg-topbar .resource-item .resource-icon{display:flex;align-items:center;justify-content:center;filter:drop-shadow(0 0 8px rgba(0,0,0,0.5))}.mhjg-topbar .resource-item .resource-icon svg{width:20px;height:20px}.mhjg-topbar .resource-item .resource-info{display:flex;flex-direction:column;justify-content:center}.mhjg-topbar .resource-item .resource-info .resource-label{font-size:10px;color:hsl(215,20%,65%);text-transform:uppercase;letter-spacing:0.1em;font-weight:bold;opacity:0.6;transition:opacity 0.3s}.mhjg-topbar .resource-item .resource-info .resource-value{font-size:18px;font-weight:bold;color:hsl(210,40%,98%);font-family:monospace;line-height:1;letter-spacing:-0.02em}.mhjg-topbar .resource-item:hover .resource-label{opacity:1}.mhjg-topbar .resource-item.text-amber-400{color:hsl(38,92%,50%);border-color:rgba(251,191,36,0.2)}.mhjg-topbar .resource-item.text-purple-400{color:hsl(263,70%,50%);border-color:rgba(139,92,246,0.2)}.mhjg-topbar .resource-item.text-cyan-400{color:hsl(189,94%,43%);border-color:rgba(6,182,212,0.2)}.mhjg-topbar .world-item{cursor:pointer;transition:all 0.3s ease;min-width:0;flex-shrink:1}.mhjg-topbar .world-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(6,182,212,0.2)}.mhjg-topbar .world-item .resource-info{min-width:0}.mhjg-topbar .world-item .resource-info .resource-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:150px}.mhjg-topbar .fullscreen-btn{height:48px;width:48px;padding:16px;border-radius:16px;border:1px solid rgba(255,255,255,0.1);background:rgba(15,23,42,0.4);color:hsl(215,20%,65%);cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;justify-content:center;flex-shrink:0}.mhjg-topbar .fullscreen-btn:hover{background:rgba(30,41,59,0.6);border-color:rgba(255,255,255,0.2);color:hsl(210,40%,98%)}.mhjg-topbar .fullscreen-btn svg{width:20px;height:20px}.world-input-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);z-index:100;display:flex;align-items:center;justify-content:center;animation:fadeIn 0.3s ease}.world-input-overlay .world-input{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;padding:32px;min-width:400px;animation:scaleIn 0.3s ease}.world-input-overlay .world-input h4{color:hsl(210,40%,98%);font-size:18px;margin-bottom:16px;text-align:center}.world-input-overlay .world-input .world-input-desc{color:hsl(215,20%,65%);font-size:12px;text-align:center;margin-bottom:24px}.world-input-overlay .world-input .world-input-field{width:100%;padding:16px;background:rgba(15,23,42,0.6);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:hsl(210,40%,98%);font-size:14px;margin-bottom:24px;transition:all 0.3s ease}.world-input-overlay .world-input .world-input-field:focus{outline:none;border-color:rgba(6,182,212,0.5);box-shadow:0 0 12px rgba(6,182,212,0.2)}.world-input-overlay .world-input .world-input-actions{display:flex;gap:16px;justify-content:flex-end}.world-input-overlay .world-input .world-input-actions button{padding:8px 24px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.05);color:hsl(210,40%,98%);cursor:pointer;transition:all 0.3s ease;font-size:14px;font-weight:600}.world-input-overlay .world-input .world-input-actions button:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.2)}.world-input-overlay .world-input .world-input-actions button.world-input-confirm{background:rgba(6,182,212,0.2);border-color:rgba(6,182,212,0.5);color:rgba(6,182,212,0.9)}.world-input-overlay .world-input .world-input-actions button.world-input-confirm:hover{background:rgba(6,182,212,0.3);box-shadow:0 0 12px rgba(6,182,212,0.3)}.settings-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.6);backdrop-filter:blur(8px);z-index:100;display:flex;align-items:center;justify-content:center;animation:fadeIn 0.3s ease}.settings-overlay .settings-menu{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;padding:32px;min-width:300px;animation:scaleIn 0.3s ease}.settings-overlay .settings-menu h4{color:hsl(210,40%,98%);font-size:18px;margin-bottom:24px;text-align:center}.settings-overlay .settings-menu .settings-list{display:flex;flex-direction:column;gap:16px;margin-bottom:24px}.settings-overlay .settings-menu .settings-list .settings-item{display:flex;justify-content:space-between;align-items:center;padding:16px;background:rgba(255,255,255,0.05);border-radius:8px}.settings-overlay .settings-menu .settings-list .settings-item .settings-label{color:hsl(215,20%,65%);font-size:14px}.settings-overlay .settings-menu .settings-list .settings-item .settings-value{color:hsl(210,40%,98%);font-size:14px;font-weight:600}.settings-overlay .settings-menu .settings-close{width:100%;padding:16px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:rgba(255,255,255,0.05);color:hsl(210,40%,98%);cursor:pointer;transition:all 0.3s ease;font-size:14px;font-weight:600}.settings-overlay .settings-menu .settings-close:hover{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.2)}
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/styles/main.scss (1) ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;min-height:100%;margin:0;padding:0;height:auto;overscroll-behavior:contain}body{background-color:hsl(224,71%,4%);color:hsl(210,40%,98%);font-family:"Outfit",sans-serif;overflow-x:hidden;overflow-y:auto}body::-webkit-scrollbar{width:6px;height:6px}body::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}body::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}body::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}#app{width:100%;min-height:100%;position:relative}.rpg-panel{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:16px;padding:24px}.rpg-card{background:linear-gradient(135deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.01) 100%);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.05);box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}.rpg-card:hover{background:linear-gradient(135deg,rgba(255,255,255,0.1) 0%,rgba(255,255,255,0.02) 100%);border-color:rgba(255,255,255,0.1);transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,0.2)}.rpg-card{border-radius:16px;padding:24px}.rpg-btn{display:flex;align-items:center;justify-content:center;padding:8px 16px;border-radius:8px}.text-highlight{color:hsl(43,100%,65%) !important;font-weight:700}.text-emphasis{color:hsl(25,100%,65%) !important;font-weight:600}.text-underline{color:hsl(180,70%,70%) !important;text-decoration:underline;text-decoration-color:hsl(180,70%,70%)}.text-strikethrough{color:hsl(0,0%,60%) !important;text-decoration:line-through;text-decoration-color:hsl(0,0%,50%)}.text-special{color:hsl(258,85%,75%) !important;font-weight:600}.text-note{color:hsl(210,80%,70%) !important;font-style:italic}.text-bracket{color:hsl(142,70%,65%) !important}.text-quote-cn{color:hsl(330,70%,75%) !important}.text-quote{color:hsl(258,85%,75%) !important;font-style:italic}.text-quote-single{color:hsl(200,80%,75%) !important;font-style:italic;border:1px solid hsla(217,33%,17%,0.5);background:rgba(255,255,255,0.05);color:hsl(210,40%,98%);font-size:14px;font-weight:600;cursor:pointer;transition:all 0.3s ease}.text-quote-single:hover{background:rgba(255,255,255,0.1);border-color:hsl(38,92%,50%);transform:translateY(-2px)}.text-quote-single:active{transform:translateY(0)}.text-quote-single.rpg-btn-primary{background:linear-gradient(135deg,hsl(32,95%,44%) 0%,hsl(38,92%,50%) 100%);border-color:hsl(38,92%,50%);color:#000}.text-quote-single.rpg-btn-primary:hover{background:linear-gradient(135deg,hsl(38,92%,50%) 0%,hsl(43,96%,56%) 100%)}.rpg-window{background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;box-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -4px rgba(0,0,0,0.1)}.fantasy-font{font-family:"Cinzel Decorative",cursive}.text-glow-gold{text-shadow:0 0 10px rgba(251,191,36,0.5)}.text-glow-magic{text-shadow:0 0 10px rgba(139,92,246,0.5)}.loading{display:flex;align-items:center;justify-content:center;height:100%;font-size:1.2em;color:hsl(38,92%,50%)}.mhjg-app{position:relative;width:100%;min-height:100%;display:flex;flex-direction:column;overflow:hidden}.mhjg-background{position:fixed;inset:0;z-index:0;overflow:hidden}.mhjg-background .background-image{position:absolute;inset:0;background-image:url("https://images.unsplash.com/photo-1519074069444-1ba4fff66d16?q=80&w=2544&auto=format&fit=crop");background-size:cover;background-position:center;transition:all 1s ease;filter:blur(8px) brightness(0.4)}.mhjg-background .background-overlay{position:absolute;inset:0;background:linear-gradient(180deg,transparent 0%,rgba(15,23,42,0.6) 40%,rgba(15,23,42,0.95) 100%);background:radial-gradient(ellipse at top,rgba(99,102,241,0.2) 0%,transparent 50%)}.mhjg-main{position:relative;z-index:10;display:flex;width:100%;max-width:1920px;margin:0 auto;box-shadow:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -4px rgba(0,0,0,0.1);min-height:100vh}.mhjg-navigation-container{flex-shrink:0}.mhjg-content{flex:1;display:flex;flex-direction:column;min-width:0}.mhjg-topbar-container{flex-shrink:0}.mhjg-main-content{flex:1;position:relative;padding:24px;overflow:hidden}.mhjg-dashboard-container{height:100%;width:100%}
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** css ./node_modules/.pnpm/css-loader@7.1.2_webpack@5.103.0/node_modules/css-loader/dist/cjs.js??clonedRuleSet-449.use[1]!./node_modules/.pnpm/postcss-loader@8.2.0_postcs_251447f7d19a1c83042fc3163e1c21fc/node_modules/postcss-loader/dist/cjs.js!./node_modules/.pnpm/sass-loader@16.0.6_sass@1.94.2_webpack@5.103.0/node_modules/sass-loader/dist/cjs.js!./src/mhjg/components/modals/SettingsModal.scss (1) ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
.mhjg-modal-settings{position:fixed;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:32px;opacity:0;pointer-events:none;transition:opacity 0.3s ease}.mhjg-modal-settings.open{opacity:1;pointer-events:all}.mhjg-modal-settings .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,0.8);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px)}.mhjg-modal-settings .modal-window{position:relative;width:100%;max-width:600px;max-height:90vh;background:rgba(2,6,23,0.7);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,0.08);box-shadow:0 8px 32px 0 rgba(0,0,0,0.36);border-radius:24px;border:1px solid rgba(139,92,246,0.2);box-shadow:0 0 50px rgba(168,85,247,0.15);display:flex;flex-direction:column;animation:scaleIn 0.3s ease;overflow:hidden}.mhjg-modal-settings .modal-header{padding:24px;border-bottom:1px solid rgba(255,255,255,0.05);background:linear-gradient(90deg,rgba(139,92,246,0.1) 0%,transparent 100%);display:flex;justify-content:space-between;align-items:center}.mhjg-modal-settings .modal-header .modal-header-left{display:flex;align-items:center;gap:16px}.mhjg-modal-settings .modal-header .modal-icon{padding:8px;background:rgba(139,92,246,0.1);border-radius:16px;border:1px solid rgba(139,92,246,0.2);color:rgb(139,92,246);display:flex;align-items:center;justify-content:center}.mhjg-modal-settings .modal-header .modal-icon svg{width:24px;height:24px}.mhjg-modal-settings .modal-header .modal-title-group .modal-title{font-size:24px;color:rgba(139,92,246,0.9);font-weight:bold;font-family:"Cinzel Decorative",cursive;letter-spacing:0.05em;margin-bottom:4px}.mhjg-modal-settings .modal-header .modal-title-group .modal-subtitle{color:rgba(139,92,246,0.5);font-size:12px;text-transform:uppercase;letter-spacing:0.1em}.mhjg-modal-settings .modal-header .modal-close{color:hsl(215,16%,47%);background:transparent;border:1px solid transparent;padding:8px 16px;border-radius:8px;font-size:12px;text-transform:uppercase;letter-spacing:0.1em;font-weight:bold;cursor:pointer;transition:all 0.3s ease}.mhjg-modal-settings .modal-header .modal-close:hover{color:rgba(139,92,246,0.8);border-color:rgba(139,92,246,0.2);text-decoration:underline}.mhjg-modal-settings .modal-content{flex:1;overflow-y:auto;padding:32px}.mhjg-modal-settings .modal-content::-webkit-scrollbar{width:6px;height:6px}.mhjg-modal-settings .modal-content::-webkit-scrollbar-track{background:rgba(0,0,0,0.2)}.mhjg-modal-settings .modal-content::-webkit-scrollbar-thumb{background:rgba(251,191,36,0.2);border-radius:3px;-webkit-transition:background 0.3s;transition:background 0.3s}.mhjg-modal-settings .modal-content::-webkit-scrollbar-thumb:hover{background:rgba(251,191,36,0.5)}.mhjg-modal-settings .settings-section .settings-section-title{font-size:18px;color:rgba(139,92,246,0.9);font-weight:bold;margin-bottom:24px;padding-bottom:8px;border-bottom:1px solid rgba(139,92,246,0.2)}.mhjg-modal-settings .settings-section .setting-item{display:flex;align-items:center;gap:16px;margin-bottom:24px;padding:16px;background:rgba(15,23,42,0.3);border-radius:8px;border:1px solid rgba(139,92,246,0.1)}.mhjg-modal-settings .settings-section .setting-item .setting-label{min-width:100px;color:hsl(213,40%,85%);font-size:14px;font-weight:500}.mhjg-modal-settings .settings-section .setting-item .setting-slider{flex:1;height:6px;background:rgba(139,92,246,0.2);border-radius:3px;outline:none;cursor:pointer}.mhjg-modal-settings .settings-section .setting-item .setting-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:18px;height:18px;background:rgb(139,92,246);border-radius:50%;cursor:pointer;-webkit-transition:all 0.3s ease;transition:all 0.3s ease}.mhjg-modal-settings .settings-section .setting-item .setting-slider::-webkit-slider-thumb:hover{background:rgba(139,92,246,0.8);transform:scale(1.2)}.mhjg-modal-settings .settings-section .setting-item .setting-slider::-moz-range-thumb{width:18px;height:18px;background:rgb(139,92,246);border-radius:50%;cursor:pointer;border:none;-moz-transition:all 0.3s ease;transition:all 0.3s ease}.mhjg-modal-settings .settings-section .setting-item .setting-slider::-moz-range-thumb:hover{background:rgba(139,92,246,0.8);transform:scale(1.2)}.mhjg-modal-settings .settings-section .setting-item .setting-color{width:60px;height:40px;border:1px solid rgba(139,92,246,0.3);border-radius:8px;cursor:pointer;background:transparent;padding:0}.mhjg-modal-settings .settings-section .setting-item .setting-color::-webkit-color-swatch-wrapper{padding:0}.mhjg-modal-settings .settings-section .setting-item .setting-color::-webkit-color-swatch{border:none;border-radius:8px}.mhjg-modal-settings .settings-section .setting-item .setting-color::-moz-color-swatch{border:none;border-radius:8px}.mhjg-modal-settings .settings-section .setting-item .setting-select{flex:1;padding:8px 16px;background:rgba(15,23,42,0.5);color:hsl(213,40%,85%);border:1px solid rgba(139,92,246,0.3);border-radius:8px;font-size:14px;cursor:pointer;transition:all 0.3s ease}.mhjg-modal-settings .settings-section .setting-item .setting-select:focus{outline:none;border-color:rgba(139,92,246,0.6);box-shadow:0 0 0 1px rgba(139,92,246,0.3)}.mhjg-modal-settings .settings-section .setting-item .setting-select option{background:rgba(15,23,42,0.95);color:hsl(213,40%,85%)}.mhjg-modal-settings .settings-section .setting-item .setting-value{min-width:80px;color:rgba(139,92,246,0.8);font-size:12px;font-family:monospace;text-align:right}.mhjg-modal-settings .settings-section .setting-preview{margin-top:32px;padding:24px;background:rgba(15,23,42,0.5);border-radius:16px;border:1px solid rgba(139,92,246,0.2)}.mhjg-modal-settings .settings-section .setting-preview .setting-label{display:block;color:rgba(139,92,246,0.7);font-size:12px;margin-bottom:16px;text-transform:uppercase;letter-spacing:0.1em}.mhjg-modal-settings .settings-section .setting-preview .preview-text{padding:24px;background:rgba(0,0,0,0.3);border-radius:8px;line-height:1.8;min-height:80px;display:flex;align-items:center}
</style></head>

  <body>
    <div id="app">
      <div class="loading">æ­£åœ¨åŠ è½½æ—…åº—æ¸¸æˆ...</div>
    </div>
  </body>
</html>
